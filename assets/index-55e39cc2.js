(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Em={exports:{}},ul={},km={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=Symbol.for("react.element"),$y=Symbol.for("react.portal"),Wy=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),Ky=Symbol.for("react.profiler"),qy=Symbol.for("react.provider"),Qy=Symbol.for("react.context"),Gy=Symbol.for("react.forward_ref"),Yy=Symbol.for("react.suspense"),Xy=Symbol.for("react.memo"),Zy=Symbol.for("react.lazy"),pf=Symbol.iterator;function Jy(t){return t===null||typeof t!="object"?null:(t=pf&&t[pf]||t["@@iterator"],typeof t=="function"?t:null)}var Tm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sm=Object.assign,Im={};function Li(t,e,n){this.props=t,this.context=e,this.refs=Im,this.updater=n||Tm}Li.prototype.isReactComponent={};Li.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Li.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Am(){}Am.prototype=Li.prototype;function Qc(t,e,n){this.props=t,this.context=e,this.refs=Im,this.updater=n||Tm}var Gc=Qc.prototype=new Am;Gc.constructor=Qc;Sm(Gc,Li.prototype);Gc.isPureReactComponent=!0;var mf=Array.isArray,Cm=Object.prototype.hasOwnProperty,Yc={current:null},Nm={key:!0,ref:!0,__self:!0,__source:!0};function bm(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Cm.call(e,r)&&!Nm.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:lo,type:t,key:s,ref:o,props:i,_owner:Yc.current}}function ev(t,e){return{$$typeof:lo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xc(t){return typeof t=="object"&&t!==null&&t.$$typeof===lo}function tv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gf=/\/+/g;function eu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tv(""+t.key):e.toString(36)}function la(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lo:case $y:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+eu(o,0):r,mf(i)?(n="",t!=null&&(n=t.replace(gf,"$&/")+"/"),la(i,e,n,"",function(c){return c})):i!=null&&(Xc(i)&&(i=ev(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gf,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",mf(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+eu(s,l);o+=la(s,e,n,u,i)}else if(u=Jy(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+eu(s,l++),o+=la(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Lo(t,e,n){if(t==null)return t;var r=[],i=0;return la(t,r,"","",function(s){return e.call(n,s,i++)}),r}function nv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rt={current:null},ua={transition:null},rv={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:ua,ReactCurrentOwner:Yc};function Rm(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Lo,forEach:function(t,e,n){Lo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lo(t,function(){e++}),e},toArray:function(t){return Lo(t,function(e){return e})||[]},only:function(t){if(!Xc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Li;Ee.Fragment=Wy;Ee.Profiler=Ky;Ee.PureComponent=Qc;Ee.StrictMode=Hy;Ee.Suspense=Yy;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rv;Ee.act=Rm;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sm({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Yc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Cm.call(e,u)&&!Nm.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:lo,type:t.type,key:i,ref:s,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:Qy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qy,_context:t},t.Consumer=t};Ee.createElement=bm;Ee.createFactory=function(t){var e=bm.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:Gy,render:t}};Ee.isValidElement=Xc;Ee.lazy=function(t){return{$$typeof:Zy,_payload:{_status:-1,_result:t},_init:nv}};Ee.memo=function(t,e){return{$$typeof:Xy,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=ua.transition;ua.transition={};try{t()}finally{ua.transition=e}};Ee.unstable_act=Rm;Ee.useCallback=function(t,e){return Rt.current.useCallback(t,e)};Ee.useContext=function(t){return Rt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Rt.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Rt.current.useEffect(t,e)};Ee.useId=function(){return Rt.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Rt.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Rt.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Rt.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Rt.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Rt.current.useReducer(t,e,n)};Ee.useRef=function(t){return Rt.current.useRef(t)};Ee.useState=function(t){return Rt.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Rt.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Rt.current.useTransition()};Ee.version="18.3.1";km.exports=Ee;var pe=km.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv=pe,sv=Symbol.for("react.element"),ov=Symbol.for("react.fragment"),av=Object.prototype.hasOwnProperty,lv=iv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uv={key:!0,ref:!0,__self:!0,__source:!0};function Pm(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)av.call(e,r)&&!uv.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sv,type:t,key:s,ref:o,props:i,_owner:lv.current}}ul.Fragment=ov;ul.jsx=Pm;ul.jsxs=Pm;Em.exports=ul;var w=Em.exports,Dm={exports:{}},Qt={},jm={exports:{}},Vm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,K){var ne=G.length;G.push(K);e:for(;0<ne;){var U=ne-1>>>1,F=G[U];if(0<i(F,K))G[U]=K,G[ne]=F,ne=U;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var K=G[0],ne=G.pop();if(ne!==K){G[0]=ne;e:for(var U=0,F=G.length,le=F>>>1;U<le;){var ae=2*(U+1)-1,se=G[ae],Re=ae+1,Ve=G[Re];if(0>i(se,ne))Re<F&&0>i(Ve,se)?(G[U]=Ve,G[Re]=ne,U=Re):(G[U]=se,G[ae]=ne,U=ae);else if(Re<F&&0>i(Ve,ne))G[U]=Ve,G[Re]=ne,U=Re;else break e}}return K}function i(G,K){var ne=G.sortIndex-K.sortIndex;return ne!==0?ne:G.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],f=1,g=null,v=3,h=!1,y=!1,p=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(G){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=G)r(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(c)}}function P(G){if(p=!1,T(G),!y)if(n(u)!==null)y=!0,me(V);else{var K=n(c);K!==null&&Z(P,K.startTime-G)}}function V(G,K){y=!1,p&&(p=!1,m(I),I=-1),h=!0;var ne=v;try{for(T(K),g=n(u);g!==null&&(!(g.expirationTime>K)||G&&!z());){var U=g.callback;if(typeof U=="function"){g.callback=null,v=g.priorityLevel;var F=U(g.expirationTime<=K);K=t.unstable_now(),typeof F=="function"?g.callback=F:g===n(u)&&r(u),T(K)}else r(u);g=n(u)}if(g!==null)var le=!0;else{var ae=n(c);ae!==null&&Z(P,ae.startTime-K),le=!1}return le}finally{g=null,v=ne,h=!1}}var O=!1,C=null,I=-1,N=5,D=-1;function z(){return!(t.unstable_now()-D<N)}function A(){if(C!==null){var G=t.unstable_now();D=G;var K=!0;try{K=C(!0,G)}finally{K?b():(O=!1,C=null)}}else O=!1}var b;if(typeof _=="function")b=function(){_(A)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,q=S.port2;S.port1.onmessage=A,b=function(){q.postMessage(null)}}else b=function(){k(A,0)};function me(G){C=G,O||(O=!0,b())}function Z(G,K){I=k(function(){G(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,me(V))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ne=v;v=K;try{return G()}finally{v=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ne=v;v=G;try{return K()}finally{v=ne}},t.unstable_scheduleCallback=function(G,K,ne){var U=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?U+ne:U):ne=U,G){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ne+F,G={id:f++,callback:K,priorityLevel:G,startTime:ne,expirationTime:F,sortIndex:-1},ne>U?(G.sortIndex=ne,e(c,G),n(u)===null&&G===n(c)&&(p?(m(I),I=-1):p=!0,Z(P,ne-U))):(G.sortIndex=F,e(u,G),y||h||(y=!0,me(V))),G},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(G){var K=v;return function(){var ne=v;v=K;try{return G.apply(this,arguments)}finally{v=ne}}}})(Vm);jm.exports=Vm;var cv=jm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=pe,qt=cv;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mm=new Set,Ms={};function Hr(t,e){Si(t,e),Si(t+"Capture",e)}function Si(t,e){for(Ms[t]=e,t=0;t<e.length;t++)Mm.add(e[t])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vu=Object.prototype.hasOwnProperty,dv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_f={},yf={};function fv(t){return Vu.call(yf,t)?!0:Vu.call(_f,t)?!1:dv.test(t)?yf[t]=!0:(_f[t]=!0,!1)}function pv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mv(t,e,n,r){if(e===null||typeof e>"u"||pv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zc=/[\-:]([a-z])/g;function Jc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zc,Jc);gt[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zc,Jc);gt[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zc,Jc);gt[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function eh(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mv(e,n,i,r)&&(n=null),r||i===null?fv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ln=hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fo=Symbol.for("react.element"),ii=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),th=Symbol.for("react.strict_mode"),Mu=Symbol.for("react.profiler"),zm=Symbol.for("react.provider"),Om=Symbol.for("react.context"),nh=Symbol.for("react.forward_ref"),zu=Symbol.for("react.suspense"),Ou=Symbol.for("react.suspense_list"),rh=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),Lm=Symbol.for("react.offscreen"),vf=Symbol.iterator;function os(t){return t===null||typeof t!="object"?null:(t=vf&&t[vf]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,tu;function gs(t){if(tu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tu=e&&e[1]||""}return`
`+tu+t}var nu=!1;function ru(t,e){if(!t||nu)return"";nu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{nu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gs(t):""}function gv(t){switch(t.tag){case 5:return gs(t.type);case 16:return gs("Lazy");case 13:return gs("Suspense");case 19:return gs("SuspenseList");case 0:case 2:case 15:return t=ru(t.type,!1),t;case 11:return t=ru(t.type.render,!1),t;case 1:return t=ru(t.type,!0),t;default:return""}}function Lu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case si:return"Fragment";case ii:return"Portal";case Mu:return"Profiler";case th:return"StrictMode";case zu:return"Suspense";case Ou:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Om:return(t.displayName||"Context")+".Consumer";case zm:return(t._context.displayName||"Context")+".Provider";case nh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rh:return e=t.displayName||null,e!==null?e:Lu(t.type)||"Memo";case Kn:e=t._payload,t=t._init;try{return Lu(t(e))}catch{}}return null}function _v(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lu(e);case 8:return e===th?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yv(t){var e=Fm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bo(t){t._valueTracker||(t._valueTracker=yv(t))}function Bm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fu(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=dr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Um(t,e){e=e.checked,e!=null&&eh(t,"checked",e,!1)}function Bu(t,e){Um(t,e);var n=dr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uu(t,e.type,dr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uu(t,e,n){(e!=="number"||Sa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _s=Array.isArray;function gi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+dr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $u(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ef(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(_s(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dr(n)}}function $m(t,e){var n=dr(e.value),r=dr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uo,Hm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uo=Uo||document.createElement("div"),Uo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vv=["Webkit","ms","Moz","O"];Object.keys(ks).forEach(function(t){vv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ks[e]=ks[t]})});function Km(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ks.hasOwnProperty(t)&&ks[t]?(""+e).trim():e+"px"}function qm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Km(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wv=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hu(t,e){if(e){if(wv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Ku(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=null;function ih(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qu=null,_i=null,yi=null;function Tf(t){if(t=ho(t)){if(typeof Qu!="function")throw Error(te(280));var e=t.stateNode;e&&(e=pl(e),Qu(t.stateNode,t.type,e))}}function Qm(t){_i?yi?yi.push(t):yi=[t]:_i=t}function Gm(){if(_i){var t=_i,e=yi;if(yi=_i=null,Tf(t),e)for(t=0;t<e.length;t++)Tf(e[t])}}function Ym(t,e){return t(e)}function Xm(){}var iu=!1;function Zm(t,e,n){if(iu)return t(e,n);iu=!0;try{return Ym(t,e,n)}finally{iu=!1,(_i!==null||yi!==null)&&(Xm(),Gm())}}function Os(t,e){var n=t.stateNode;if(n===null)return null;var r=pl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Gu=!1;if(Rn)try{var as={};Object.defineProperty(as,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Gu=!1}function xv(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Ts=!1,Ia=null,Aa=!1,Yu=null,Ev={onError:function(t){Ts=!0,Ia=t}};function kv(t,e,n,r,i,s,o,l,u){Ts=!1,Ia=null,xv.apply(Ev,arguments)}function Tv(t,e,n,r,i,s,o,l,u){if(kv.apply(this,arguments),Ts){if(Ts){var c=Ia;Ts=!1,Ia=null}else throw Error(te(198));Aa||(Aa=!0,Yu=c)}}function Kr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sf(t){if(Kr(t)!==t)throw Error(te(188))}function Sv(t){var e=t.alternate;if(!e){if(e=Kr(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Sf(i),t;if(s===r)return Sf(i),e;s=s.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function eg(t){return t=Sv(t),t!==null?tg(t):null}function tg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tg(t);if(e!==null)return e;t=t.sibling}return null}var ng=qt.unstable_scheduleCallback,If=qt.unstable_cancelCallback,Iv=qt.unstable_shouldYield,Av=qt.unstable_requestPaint,Je=qt.unstable_now,Cv=qt.unstable_getCurrentPriorityLevel,sh=qt.unstable_ImmediatePriority,rg=qt.unstable_UserBlockingPriority,Ca=qt.unstable_NormalPriority,Nv=qt.unstable_LowPriority,ig=qt.unstable_IdlePriority,cl=null,yn=null;function bv(t){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(cl,t,void 0,(t.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:Dv,Rv=Math.log,Pv=Math.LN2;function Dv(t){return t>>>=0,t===0?32:31-(Rv(t)/Pv|0)|0}var $o=64,Wo=4194304;function ys(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Na(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ys(l):(s&=o,s!==0&&(r=ys(s)))}else o=n&~i,o!==0?r=ys(o):s!==0&&(r=ys(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cn(e),i=1<<n,r|=t[n],e&=~i;return r}function jv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-cn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=jv(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Xu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sg(){var t=$o;return $o<<=1,!($o&4194240)&&($o=64),t}function su(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cn(e),t[e]=n}function Mv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function oh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function og(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ag,ah,lg,ug,cg,Zu=!1,Ho=[],Jn=null,er=null,tr=null,Ls=new Map,Fs=new Map,Qn=[],zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Af(t,e){switch(t){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Ls.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(e.pointerId)}}function ls(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ho(e),e!==null&&ah(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ov(t,e,n,r,i){switch(e){case"focusin":return Jn=ls(Jn,t,e,n,r,i),!0;case"dragenter":return er=ls(er,t,e,n,r,i),!0;case"mouseover":return tr=ls(tr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ls.set(s,ls(Ls.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fs.set(s,ls(Fs.get(s)||null,t,e,n,r,i)),!0}return!1}function hg(t){var e=br(t.target);if(e!==null){var n=Kr(e);if(n!==null){if(e=n.tag,e===13){if(e=Jm(n),e!==null){t.blockedOn=e,cg(t.priority,function(){lg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ca(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ju(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qu=r,n.target.dispatchEvent(r),qu=null}else return e=ho(n),e!==null&&ah(e),t.blockedOn=n,!1;e.shift()}return!0}function Cf(t,e,n){ca(t)&&n.delete(e)}function Lv(){Zu=!1,Jn!==null&&ca(Jn)&&(Jn=null),er!==null&&ca(er)&&(er=null),tr!==null&&ca(tr)&&(tr=null),Ls.forEach(Cf),Fs.forEach(Cf)}function us(t,e){t.blockedOn===e&&(t.blockedOn=null,Zu||(Zu=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,Lv)))}function Bs(t){function e(i){return us(i,t)}if(0<Ho.length){us(Ho[0],t);for(var n=1;n<Ho.length;n++){var r=Ho[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jn!==null&&us(Jn,t),er!==null&&us(er,t),tr!==null&&us(tr,t),Ls.forEach(e),Fs.forEach(e),n=0;n<Qn.length;n++)r=Qn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qn.length&&(n=Qn[0],n.blockedOn===null);)hg(n),n.blockedOn===null&&Qn.shift()}var vi=Ln.ReactCurrentBatchConfig,ba=!0;function Fv(t,e,n,r){var i=De,s=vi.transition;vi.transition=null;try{De=1,lh(t,e,n,r)}finally{De=i,vi.transition=s}}function Bv(t,e,n,r){var i=De,s=vi.transition;vi.transition=null;try{De=4,lh(t,e,n,r)}finally{De=i,vi.transition=s}}function lh(t,e,n,r){if(ba){var i=Ju(t,e,n,r);if(i===null)mu(t,e,r,Ra,n),Af(t,r);else if(Ov(i,t,e,n,r))r.stopPropagation();else if(Af(t,r),e&4&&-1<zv.indexOf(t)){for(;i!==null;){var s=ho(i);if(s!==null&&ag(s),s=Ju(t,e,n,r),s===null&&mu(t,e,r,Ra,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mu(t,e,r,null,n)}}var Ra=null;function Ju(t,e,n,r){if(Ra=null,t=ih(r),t=br(t),t!==null)if(e=Kr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ra=t,null}function dg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cv()){case sh:return 1;case rg:return 4;case Ca:case Nv:return 16;case ig:return 536870912;default:return 16}default:return 16}}var Yn=null,uh=null,ha=null;function fg(){if(ha)return ha;var t,e=uh,n=e.length,r,i="value"in Yn?Yn.value:Yn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ha=i.slice(t,1<r?1-r:void 0)}function da(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ko(){return!0}function Nf(){return!1}function Gt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ko:Nf,this.isPropagationStopped=Nf,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),e}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ch=Gt(Fi),co=Qe({},Fi,{view:0,detail:0}),Uv=Gt(co),ou,au,cs,hl=Qe({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cs&&(cs&&t.type==="mousemove"?(ou=t.screenX-cs.screenX,au=t.screenY-cs.screenY):au=ou=0,cs=t),ou)},movementY:function(t){return"movementY"in t?t.movementY:au}}),bf=Gt(hl),$v=Qe({},hl,{dataTransfer:0}),Wv=Gt($v),Hv=Qe({},co,{relatedTarget:0}),lu=Gt(Hv),Kv=Qe({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),qv=Gt(Kv),Qv=Qe({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gv=Gt(Qv),Yv=Qe({},Fi,{data:0}),Rf=Gt(Yv),Xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jv[t])?!!e[t]:!1}function hh(){return e1}var t1=Qe({},co,{key:function(t){if(t.key){var e=Xv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=da(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hh,charCode:function(t){return t.type==="keypress"?da(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?da(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n1=Gt(t1),r1=Qe({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pf=Gt(r1),i1=Qe({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hh}),s1=Gt(i1),o1=Qe({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),a1=Gt(o1),l1=Qe({},hl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u1=Gt(l1),c1=[9,13,27,32],dh=Rn&&"CompositionEvent"in window,Ss=null;Rn&&"documentMode"in document&&(Ss=document.documentMode);var h1=Rn&&"TextEvent"in window&&!Ss,pg=Rn&&(!dh||Ss&&8<Ss&&11>=Ss),Df=String.fromCharCode(32),jf=!1;function mg(t,e){switch(t){case"keyup":return c1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oi=!1;function d1(t,e){switch(t){case"compositionend":return gg(e);case"keypress":return e.which!==32?null:(jf=!0,Df);case"textInput":return t=e.data,t===Df&&jf?null:t;default:return null}}function f1(t,e){if(oi)return t==="compositionend"||!dh&&mg(t,e)?(t=fg(),ha=uh=Yn=null,oi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pg&&e.locale!=="ko"?null:e.data;default:return null}}var p1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p1[t.type]:e==="textarea"}function _g(t,e,n,r){Qm(r),e=Pa(e,"onChange"),0<e.length&&(n=new ch("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Is=null,Us=null;function m1(t){Cg(t,0)}function dl(t){var e=ui(t);if(Bm(e))return t}function g1(t,e){if(t==="change")return e}var yg=!1;if(Rn){var uu;if(Rn){var cu="oninput"in document;if(!cu){var Mf=document.createElement("div");Mf.setAttribute("oninput","return;"),cu=typeof Mf.oninput=="function"}uu=cu}else uu=!1;yg=uu&&(!document.documentMode||9<document.documentMode)}function zf(){Is&&(Is.detachEvent("onpropertychange",vg),Us=Is=null)}function vg(t){if(t.propertyName==="value"&&dl(Us)){var e=[];_g(e,Us,t,ih(t)),Zm(m1,e)}}function _1(t,e,n){t==="focusin"?(zf(),Is=e,Us=n,Is.attachEvent("onpropertychange",vg)):t==="focusout"&&zf()}function y1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dl(Us)}function v1(t,e){if(t==="click")return dl(e)}function w1(t,e){if(t==="input"||t==="change")return dl(e)}function x1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pn=typeof Object.is=="function"?Object.is:x1;function $s(t,e){if(pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vu.call(e,i)||!pn(t[i],e[i]))return!1}return!0}function Of(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lf(t,e){var n=Of(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Of(n)}}function wg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xg(){for(var t=window,e=Sa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sa(t.document)}return e}function fh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function E1(t){var e=xg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wg(n.ownerDocument.documentElement,n)){if(r!==null&&fh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Lf(n,s);var o=Lf(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var k1=Rn&&"documentMode"in document&&11>=document.documentMode,ai=null,ec=null,As=null,tc=!1;function Ff(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tc||ai==null||ai!==Sa(r)||(r=ai,"selectionStart"in r&&fh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),As&&$s(As,r)||(As=r,r=Pa(ec,"onSelect"),0<r.length&&(e=new ch("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ai)))}function qo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var li={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionend:qo("Transition","TransitionEnd")},hu={},Eg={};Rn&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function fl(t){if(hu[t])return hu[t];if(!li[t])return t;var e=li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Eg)return hu[t]=e[n];return t}var kg=fl("animationend"),Tg=fl("animationiteration"),Sg=fl("animationstart"),Ig=fl("transitionend"),Ag=new Map,Bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(t,e){Ag.set(t,e),Hr(e,[t])}for(var du=0;du<Bf.length;du++){var fu=Bf[du],T1=fu.toLowerCase(),S1=fu[0].toUpperCase()+fu.slice(1);_r(T1,"on"+S1)}_r(kg,"onAnimationEnd");_r(Tg,"onAnimationIteration");_r(Sg,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(Ig,"onTransitionEnd");Si("onMouseEnter",["mouseout","mouseover"]);Si("onMouseLeave",["mouseout","mouseover"]);Si("onPointerEnter",["pointerout","pointerover"]);Si("onPointerLeave",["pointerout","pointerover"]);Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I1=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function Uf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Tv(r,e,void 0,t),t.currentTarget=null}function Cg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Uf(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Uf(i,l,c),s=u}}}if(Aa)throw t=Yu,Aa=!1,Yu=null,t}function Be(t,e){var n=e[oc];n===void 0&&(n=e[oc]=new Set);var r=t+"__bubble";n.has(r)||(Ng(e,t,2,!1),n.add(r))}function pu(t,e,n){var r=0;e&&(r|=4),Ng(n,t,r,e)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function Ws(t){if(!t[Qo]){t[Qo]=!0,Mm.forEach(function(n){n!=="selectionchange"&&(I1.has(n)||pu(n,!1,t),pu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qo]||(e[Qo]=!0,pu("selectionchange",!1,e))}}function Ng(t,e,n,r){switch(dg(e)){case 1:var i=Fv;break;case 4:i=Bv;break;default:i=lh}n=i.bind(null,e,n,t),i=void 0,!Gu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=br(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Zm(function(){var c=s,f=ih(n),g=[];e:{var v=Ag.get(t);if(v!==void 0){var h=ch,y=t;switch(t){case"keypress":if(da(n)===0)break e;case"keydown":case"keyup":h=n1;break;case"focusin":y="focus",h=lu;break;case"focusout":y="blur",h=lu;break;case"beforeblur":case"afterblur":h=lu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Wv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=s1;break;case kg:case Tg:case Sg:h=qv;break;case Ig:h=a1;break;case"scroll":h=Uv;break;case"wheel":h=u1;break;case"copy":case"cut":case"paste":h=Gv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Pf}var p=(e&4)!==0,k=!p&&t==="scroll",m=p?v!==null?v+"Capture":null:v;p=[];for(var _=c,T;_!==null;){T=_;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,m!==null&&(P=Os(_,m),P!=null&&p.push(Hs(_,P,T)))),k)break;_=_.return}0<p.length&&(v=new h(v,y,null,n,f),g.push({event:v,listeners:p}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",v&&n!==qu&&(y=n.relatedTarget||n.fromElement)&&(br(y)||y[Pn]))break e;if((h||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=c,y=y?br(y):null,y!==null&&(k=Kr(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=c),h!==y)){if(p=bf,P="onMouseLeave",m="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(p=Pf,P="onPointerLeave",m="onPointerEnter",_="pointer"),k=h==null?v:ui(h),T=y==null?v:ui(y),v=new p(P,_+"leave",h,n,f),v.target=k,v.relatedTarget=T,P=null,br(f)===c&&(p=new p(m,_+"enter",y,n,f),p.target=T,p.relatedTarget=k,P=p),k=P,h&&y)t:{for(p=h,m=y,_=0,T=p;T;T=ei(T))_++;for(T=0,P=m;P;P=ei(P))T++;for(;0<_-T;)p=ei(p),_--;for(;0<T-_;)m=ei(m),T--;for(;_--;){if(p===m||m!==null&&p===m.alternate)break t;p=ei(p),m=ei(m)}p=null}else p=null;h!==null&&$f(g,v,h,p,!1),y!==null&&k!==null&&$f(g,k,y,p,!0)}}e:{if(v=c?ui(c):window,h=v.nodeName&&v.nodeName.toLowerCase(),h==="select"||h==="input"&&v.type==="file")var V=g1;else if(Vf(v))if(yg)V=w1;else{V=y1;var O=_1}else(h=v.nodeName)&&h.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(V=v1);if(V&&(V=V(t,c))){_g(g,V,n,f);break e}O&&O(t,v,c),t==="focusout"&&(O=v._wrapperState)&&O.controlled&&v.type==="number"&&Uu(v,"number",v.value)}switch(O=c?ui(c):window,t){case"focusin":(Vf(O)||O.contentEditable==="true")&&(ai=O,ec=c,As=null);break;case"focusout":As=ec=ai=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,Ff(g,n,f);break;case"selectionchange":if(k1)break;case"keydown":case"keyup":Ff(g,n,f)}var C;if(dh)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else oi?mg(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(pg&&n.locale!=="ko"&&(oi||I!=="onCompositionStart"?I==="onCompositionEnd"&&oi&&(C=fg()):(Yn=f,uh="value"in Yn?Yn.value:Yn.textContent,oi=!0)),O=Pa(c,I),0<O.length&&(I=new Rf(I,t,null,n,f),g.push({event:I,listeners:O}),C?I.data=C:(C=gg(n),C!==null&&(I.data=C)))),(C=h1?d1(t,n):f1(t,n))&&(c=Pa(c,"onBeforeInput"),0<c.length&&(f=new Rf("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:c}),f.data=C))}Cg(g,e)})}function Hs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Os(t,n),s!=null&&r.unshift(Hs(t,s,i)),s=Os(t,e),s!=null&&r.push(Hs(t,s,i))),t=t.return}return r}function ei(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $f(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Os(n,s),u!=null&&o.unshift(Hs(n,u,l))):i||(u=Os(n,s),u!=null&&o.push(Hs(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var A1=/\r\n?/g,C1=/\u0000|\uFFFD/g;function Wf(t){return(typeof t=="string"?t:""+t).replace(A1,`
`).replace(C1,"")}function Go(t,e,n){if(e=Wf(e),Wf(t)!==e&&n)throw Error(te(425))}function Da(){}var nc=null,rc=null;function ic(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sc=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,b1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(t){return Hf.resolve(null).then(t).catch(R1)}:sc;function R1(t){setTimeout(function(){throw t})}function gu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bs(e)}function nr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),_n="__reactFiber$"+Bi,Ks="__reactProps$"+Bi,Pn="__reactContainer$"+Bi,oc="__reactEvents$"+Bi,P1="__reactListeners$"+Bi,D1="__reactHandles$"+Bi;function br(t){var e=t[_n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pn]||n[_n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kf(t);t!==null;){if(n=t[_n])return n;t=Kf(t)}return e}t=n,n=t.parentNode}return null}function ho(t){return t=t[_n]||t[Pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ui(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function pl(t){return t[Ks]||null}var ac=[],ci=-1;function yr(t){return{current:t}}function Ue(t){0>ci||(t.current=ac[ci],ac[ci]=null,ci--)}function Le(t,e){ci++,ac[ci]=t.current,t.current=e}var fr={},It=yr(fr),zt=yr(!1),zr=fr;function Ii(t,e){var n=t.type.contextTypes;if(!n)return fr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ot(t){return t=t.childContextTypes,t!=null}function ja(){Ue(zt),Ue(It)}function qf(t,e,n){if(It.current!==fr)throw Error(te(168));Le(It,e),Le(zt,n)}function bg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,_v(t)||"Unknown",i));return Qe({},n,r)}function Va(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fr,zr=It.current,Le(It,t),Le(zt,zt.current),!0}function Qf(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=bg(t,e,zr),r.__reactInternalMemoizedMergedChildContext=t,Ue(zt),Ue(It),Le(It,t)):Ue(zt),Le(zt,n)}var An=null,ml=!1,_u=!1;function Rg(t){An===null?An=[t]:An.push(t)}function j1(t){ml=!0,Rg(t)}function vr(){if(!_u&&An!==null){_u=!0;var t=0,e=De;try{var n=An;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}An=null,ml=!1}catch(i){throw An!==null&&(An=An.slice(t+1)),ng(sh,vr),i}finally{De=e,_u=!1}}return null}var hi=[],di=0,Ma=null,za=0,Yt=[],Xt=0,Or=null,Cn=1,Nn="";function Ar(t,e){hi[di++]=za,hi[di++]=Ma,Ma=t,za=e}function Pg(t,e,n){Yt[Xt++]=Cn,Yt[Xt++]=Nn,Yt[Xt++]=Or,Or=t;var r=Cn;t=Nn;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var s=32-cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cn=1<<32-cn(e)+i|n<<i|r,Nn=s+t}else Cn=1<<s|n<<i|r,Nn=t}function ph(t){t.return!==null&&(Ar(t,1),Pg(t,1,0))}function mh(t){for(;t===Ma;)Ma=hi[--di],hi[di]=null,za=hi[--di],hi[di]=null;for(;t===Or;)Or=Yt[--Xt],Yt[Xt]=null,Nn=Yt[--Xt],Yt[Xt]=null,Cn=Yt[--Xt],Yt[Xt]=null}var Kt=null,Wt=null,$e=!1,un=null;function Dg(t,e){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,Wt=nr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Or!==null?{id:Cn,overflow:Nn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kt=t,Wt=null,!0):!1;default:return!1}}function lc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uc(t){if($e){var e=Wt;if(e){var n=e;if(!Gf(t,e)){if(lc(t))throw Error(te(418));e=nr(n.nextSibling);var r=Kt;e&&Gf(t,e)?Dg(r,n):(t.flags=t.flags&-4097|2,$e=!1,Kt=t)}}else{if(lc(t))throw Error(te(418));t.flags=t.flags&-4097|2,$e=!1,Kt=t}}}function Yf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function Yo(t){if(t!==Kt)return!1;if(!$e)return Yf(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ic(t.type,t.memoizedProps)),e&&(e=Wt)){if(lc(t))throw jg(),Error(te(418));for(;e;)Dg(t,e),e=nr(e.nextSibling)}if(Yf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=nr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=Kt?nr(t.stateNode.nextSibling):null;return!0}function jg(){for(var t=Wt;t;)t=nr(t.nextSibling)}function Ai(){Wt=Kt=null,$e=!1}function gh(t){un===null?un=[t]:un.push(t)}var V1=Ln.ReactCurrentBatchConfig;function hs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Xo(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xf(t){var e=t._init;return e(t._payload)}function Vg(t){function e(m,_){if(t){var T=m.deletions;T===null?(m.deletions=[_],m.flags|=16):T.push(_)}}function n(m,_){if(!t)return null;for(;_!==null;)e(m,_),_=_.sibling;return null}function r(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function i(m,_){return m=or(m,_),m.index=0,m.sibling=null,m}function s(m,_,T){return m.index=T,t?(T=m.alternate,T!==null?(T=T.index,T<_?(m.flags|=2,_):T):(m.flags|=2,_)):(m.flags|=1048576,_)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,_,T,P){return _===null||_.tag!==6?(_=Tu(T,m.mode,P),_.return=m,_):(_=i(_,T),_.return=m,_)}function u(m,_,T,P){var V=T.type;return V===si?f(m,_,T.props.children,P,T.key):_!==null&&(_.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Kn&&Xf(V)===_.type)?(P=i(_,T.props),P.ref=hs(m,_,T),P.return=m,P):(P=va(T.type,T.key,T.props,null,m.mode,P),P.ref=hs(m,_,T),P.return=m,P)}function c(m,_,T,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Su(T,m.mode,P),_.return=m,_):(_=i(_,T.children||[]),_.return=m,_)}function f(m,_,T,P,V){return _===null||_.tag!==7?(_=Vr(T,m.mode,P,V),_.return=m,_):(_=i(_,T),_.return=m,_)}function g(m,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Tu(""+_,m.mode,T),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fo:return T=va(_.type,_.key,_.props,null,m.mode,T),T.ref=hs(m,null,_),T.return=m,T;case ii:return _=Su(_,m.mode,T),_.return=m,_;case Kn:var P=_._init;return g(m,P(_._payload),T)}if(_s(_)||os(_))return _=Vr(_,m.mode,T,null),_.return=m,_;Xo(m,_)}return null}function v(m,_,T,P){var V=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return V!==null?null:l(m,_,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Fo:return T.key===V?u(m,_,T,P):null;case ii:return T.key===V?c(m,_,T,P):null;case Kn:return V=T._init,v(m,_,V(T._payload),P)}if(_s(T)||os(T))return V!==null?null:f(m,_,T,P,null);Xo(m,T)}return null}function h(m,_,T,P,V){if(typeof P=="string"&&P!==""||typeof P=="number")return m=m.get(T)||null,l(_,m,""+P,V);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Fo:return m=m.get(P.key===null?T:P.key)||null,u(_,m,P,V);case ii:return m=m.get(P.key===null?T:P.key)||null,c(_,m,P,V);case Kn:var O=P._init;return h(m,_,T,O(P._payload),V)}if(_s(P)||os(P))return m=m.get(T)||null,f(_,m,P,V,null);Xo(_,P)}return null}function y(m,_,T,P){for(var V=null,O=null,C=_,I=_=0,N=null;C!==null&&I<T.length;I++){C.index>I?(N=C,C=null):N=C.sibling;var D=v(m,C,T[I],P);if(D===null){C===null&&(C=N);break}t&&C&&D.alternate===null&&e(m,C),_=s(D,_,I),O===null?V=D:O.sibling=D,O=D,C=N}if(I===T.length)return n(m,C),$e&&Ar(m,I),V;if(C===null){for(;I<T.length;I++)C=g(m,T[I],P),C!==null&&(_=s(C,_,I),O===null?V=C:O.sibling=C,O=C);return $e&&Ar(m,I),V}for(C=r(m,C);I<T.length;I++)N=h(C,m,I,T[I],P),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?I:N.key),_=s(N,_,I),O===null?V=N:O.sibling=N,O=N);return t&&C.forEach(function(z){return e(m,z)}),$e&&Ar(m,I),V}function p(m,_,T,P){var V=os(T);if(typeof V!="function")throw Error(te(150));if(T=V.call(T),T==null)throw Error(te(151));for(var O=V=null,C=_,I=_=0,N=null,D=T.next();C!==null&&!D.done;I++,D=T.next()){C.index>I?(N=C,C=null):N=C.sibling;var z=v(m,C,D.value,P);if(z===null){C===null&&(C=N);break}t&&C&&z.alternate===null&&e(m,C),_=s(z,_,I),O===null?V=z:O.sibling=z,O=z,C=N}if(D.done)return n(m,C),$e&&Ar(m,I),V;if(C===null){for(;!D.done;I++,D=T.next())D=g(m,D.value,P),D!==null&&(_=s(D,_,I),O===null?V=D:O.sibling=D,O=D);return $e&&Ar(m,I),V}for(C=r(m,C);!D.done;I++,D=T.next())D=h(C,m,I,D.value,P),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?I:D.key),_=s(D,_,I),O===null?V=D:O.sibling=D,O=D);return t&&C.forEach(function(A){return e(m,A)}),$e&&Ar(m,I),V}function k(m,_,T,P){if(typeof T=="object"&&T!==null&&T.type===si&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Fo:e:{for(var V=T.key,O=_;O!==null;){if(O.key===V){if(V=T.type,V===si){if(O.tag===7){n(m,O.sibling),_=i(O,T.props.children),_.return=m,m=_;break e}}else if(O.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Kn&&Xf(V)===O.type){n(m,O.sibling),_=i(O,T.props),_.ref=hs(m,O,T),_.return=m,m=_;break e}n(m,O);break}else e(m,O);O=O.sibling}T.type===si?(_=Vr(T.props.children,m.mode,P,T.key),_.return=m,m=_):(P=va(T.type,T.key,T.props,null,m.mode,P),P.ref=hs(m,_,T),P.return=m,m=P)}return o(m);case ii:e:{for(O=T.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(m,_.sibling),_=i(_,T.children||[]),_.return=m,m=_;break e}else{n(m,_);break}else e(m,_);_=_.sibling}_=Su(T,m.mode,P),_.return=m,m=_}return o(m);case Kn:return O=T._init,k(m,_,O(T._payload),P)}if(_s(T))return y(m,_,T,P);if(os(T))return p(m,_,T,P);Xo(m,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(m,_.sibling),_=i(_,T),_.return=m,m=_):(n(m,_),_=Tu(T,m.mode,P),_.return=m,m=_),o(m)):n(m,_)}return k}var Ci=Vg(!0),Mg=Vg(!1),Oa=yr(null),La=null,fi=null,_h=null;function yh(){_h=fi=La=null}function vh(t){var e=Oa.current;Ue(Oa),t._currentValue=e}function cc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wi(t,e){La=t,_h=fi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function tn(t){var e=t._currentValue;if(_h!==t)if(t={context:t,memoizedValue:e,next:null},fi===null){if(La===null)throw Error(te(308));fi=t,La.dependencies={lanes:0,firstContext:t}}else fi=fi.next=t;return e}var Rr=null;function wh(t){Rr===null?Rr=[t]:Rr.push(t)}function zg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wh(e)):(n.next=i.next,i.next=n),e.interleaved=n,Dn(t,r)}function Dn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qn=!1;function xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Og(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Dn(t,n)}return i=r.interleaved,i===null?(e.next=e,wh(r)):(e.next=i.next,i.next=e),r.interleaved=e,Dn(t,n)}function fa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oh(t,n)}}function Zf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fa(t,e,n,r){var i=t.updateQueue;qn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var g=i.baseState;o=0,f=c=u=null,l=s;do{var v=l.lane,h=l.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,p=l;switch(v=e,h=n,p.tag){case 1:if(y=p.payload,typeof y=="function"){g=y.call(h,g,v);break e}g=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,v=typeof y=="function"?y.call(h,g,v):y,v==null)break e;g=Qe({},g,v);break e;case 2:qn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[l]:v.push(l))}else h={eventTime:h,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=h,u=g):f=f.next=h,o|=v;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;v=l,l=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(f===null&&(u=g),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fr|=o,t.lanes=o,t.memoizedState=g}}function Jf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var fo={},vn=yr(fo),qs=yr(fo),Qs=yr(fo);function Pr(t){if(t===fo)throw Error(te(174));return t}function Eh(t,e){switch(Le(Qs,e),Le(qs,t),Le(vn,fo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wu(e,t)}Ue(vn),Le(vn,e)}function Ni(){Ue(vn),Ue(qs),Ue(Qs)}function Lg(t){Pr(Qs.current);var e=Pr(vn.current),n=Wu(e,t.type);e!==n&&(Le(qs,t),Le(vn,n))}function kh(t){qs.current===t&&(Ue(vn),Ue(qs))}var Ke=yr(0);function Ba(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yu=[];function Th(){for(var t=0;t<yu.length;t++)yu[t]._workInProgressVersionPrimary=null;yu.length=0}var pa=Ln.ReactCurrentDispatcher,vu=Ln.ReactCurrentBatchConfig,Lr=0,qe=null,nt=null,at=null,Ua=!1,Cs=!1,Gs=0,M1=0;function wt(){throw Error(te(321))}function Sh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pn(t[n],e[n]))return!1;return!0}function Ih(t,e,n,r,i,s){if(Lr=s,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pa.current=t===null||t.memoizedState===null?F1:B1,t=n(r,i),Cs){s=0;do{if(Cs=!1,Gs=0,25<=s)throw Error(te(301));s+=1,at=nt=null,e.updateQueue=null,pa.current=U1,t=n(r,i)}while(Cs)}if(pa.current=$a,e=nt!==null&&nt.next!==null,Lr=0,at=nt=qe=null,Ua=!1,e)throw Error(te(300));return t}function Ah(){var t=Gs!==0;return Gs=0,t}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?qe.memoizedState=at=t:at=at.next=t,at}function nn(){if(nt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=at===null?qe.memoizedState:at.next;if(e!==null)at=e,nt=t;else{if(t===null)throw Error(te(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},at===null?qe.memoizedState=at=t:at=at.next=t}return at}function Ys(t,e){return typeof e=="function"?e(t):e}function wu(t){var e=nn(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var f=c.lane;if((Lr&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var g={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=g,o=r):u=u.next=g,qe.lanes|=f,Fr|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,pn(r,e.memoizedState)||(Mt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qe.lanes|=s,Fr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xu(t){var e=nn(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);pn(s,e.memoizedState)||(Mt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Fg(){}function Bg(t,e){var n=qe,r=nn(),i=e(),s=!pn(r.memoizedState,i);if(s&&(r.memoizedState=i,Mt=!0),r=r.queue,Ch(Wg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Xs(9,$g.bind(null,n,r,i,e),void 0,null),lt===null)throw Error(te(349));Lr&30||Ug(n,e,i)}return i}function Ug(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $g(t,e,n,r){e.value=n,e.getSnapshot=r,Hg(e)&&Kg(t)}function Wg(t,e,n){return n(function(){Hg(e)&&Kg(t)})}function Hg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pn(t,n)}catch{return!0}}function Kg(t){var e=Dn(t,1);e!==null&&hn(e,t,1,-1)}function ep(t){var e=gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:t},e.queue=t,t=t.dispatch=L1.bind(null,qe,t),[e.memoizedState,t]}function Xs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qg(){return nn().memoizedState}function ma(t,e,n,r){var i=gn();qe.flags|=t,i.memoizedState=Xs(1|e,n,void 0,r===void 0?null:r)}function gl(t,e,n,r){var i=nn();r=r===void 0?null:r;var s=void 0;if(nt!==null){var o=nt.memoizedState;if(s=o.destroy,r!==null&&Sh(r,o.deps)){i.memoizedState=Xs(e,n,s,r);return}}qe.flags|=t,i.memoizedState=Xs(1|e,n,s,r)}function tp(t,e){return ma(8390656,8,t,e)}function Ch(t,e){return gl(2048,8,t,e)}function Qg(t,e){return gl(4,2,t,e)}function Gg(t,e){return gl(4,4,t,e)}function Yg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xg(t,e,n){return n=n!=null?n.concat([t]):null,gl(4,4,Yg.bind(null,e,t),n)}function Nh(){}function Zg(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jg(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function e0(t,e,n){return Lr&21?(pn(n,e)||(n=sg(),qe.lanes|=n,Fr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=n)}function z1(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=vu.transition;vu.transition={};try{t(!1),e()}finally{De=n,vu.transition=r}}function t0(){return nn().memoizedState}function O1(t,e,n){var r=sr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},n0(t))r0(e,n);else if(n=zg(t,e,n,r),n!==null){var i=bt();hn(n,t,r,i),i0(n,e,r)}}function L1(t,e,n){var r=sr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(n0(t))r0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,pn(l,o)){var u=e.interleaved;u===null?(i.next=i,wh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=zg(t,e,i,r),n!==null&&(i=bt(),hn(n,t,r,i),i0(n,e,r))}}function n0(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function r0(t,e){Cs=Ua=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function i0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oh(t,n)}}var $a={readContext:tn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},F1={readContext:tn,useCallback:function(t,e){return gn().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:tp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ma(4194308,4,Yg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ma(4194308,4,t,e)},useInsertionEffect:function(t,e){return ma(4,2,t,e)},useMemo:function(t,e){var n=gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=O1.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=gn();return t={current:t},e.memoizedState=t},useState:ep,useDebugValue:Nh,useDeferredValue:function(t){return gn().memoizedState=t},useTransition:function(){var t=ep(!1),e=t[0];return t=z1.bind(null,t[1]),gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=gn();if($e){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),lt===null)throw Error(te(349));Lr&30||Ug(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,tp(Wg.bind(null,r,s,t),[t]),r.flags|=2048,Xs(9,$g.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gn(),e=lt.identifierPrefix;if($e){var n=Nn,r=Cn;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B1={readContext:tn,useCallback:Zg,useContext:tn,useEffect:Ch,useImperativeHandle:Xg,useInsertionEffect:Qg,useLayoutEffect:Gg,useMemo:Jg,useReducer:wu,useRef:qg,useState:function(){return wu(Ys)},useDebugValue:Nh,useDeferredValue:function(t){var e=nn();return e0(e,nt.memoizedState,t)},useTransition:function(){var t=wu(Ys)[0],e=nn().memoizedState;return[t,e]},useMutableSource:Fg,useSyncExternalStore:Bg,useId:t0,unstable_isNewReconciler:!1},U1={readContext:tn,useCallback:Zg,useContext:tn,useEffect:Ch,useImperativeHandle:Xg,useInsertionEffect:Qg,useLayoutEffect:Gg,useMemo:Jg,useReducer:xu,useRef:qg,useState:function(){return xu(Ys)},useDebugValue:Nh,useDeferredValue:function(t){var e=nn();return nt===null?e.memoizedState=t:e0(e,nt.memoizedState,t)},useTransition:function(){var t=xu(Ys)[0],e=nn().memoizedState;return[t,e]},useMutableSource:Fg,useSyncExternalStore:Bg,useId:t0,unstable_isNewReconciler:!1};function an(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function hc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _l={isMounted:function(t){return(t=t._reactInternals)?Kr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bt(),i=sr(t),s=bn(r,i);s.payload=e,n!=null&&(s.callback=n),e=rr(t,s,i),e!==null&&(hn(e,t,i,r),fa(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bt(),i=sr(t),s=bn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=rr(t,s,i),e!==null&&(hn(e,t,i,r),fa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bt(),r=sr(t),i=bn(n,r);i.tag=2,e!=null&&(i.callback=e),e=rr(t,i,r),e!==null&&(hn(e,t,r,n),fa(e,t,r))}};function np(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!$s(n,r)||!$s(i,s):!0}function s0(t,e,n){var r=!1,i=fr,s=e.contextType;return typeof s=="object"&&s!==null?s=tn(s):(i=Ot(e)?zr:It.current,r=e.contextTypes,s=(r=r!=null)?Ii(t,i):fr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_l,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function rp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_l.enqueueReplaceState(e,e.state,null)}function dc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=tn(s):(s=Ot(e)?zr:It.current,i.context=Ii(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_l.enqueueReplaceState(i,i.state,null),Fa(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bi(t,e){try{var n="",r=e;do n+=gv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Eu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $1=typeof WeakMap=="function"?WeakMap:Map;function o0(t,e,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ha||(Ha=!0,kc=r),fc(t,e)},n}function a0(t,e,n){n=bn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fc(t,e),typeof r!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ip(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rw.bind(null,t,e,n),e.then(t,t))}function sp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function op(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bn(-1,1),e.tag=2,rr(n,e,1))),n.lanes|=1),t)}var W1=Ln.ReactCurrentOwner,Mt=!1;function Nt(t,e,n,r){e.child=t===null?Mg(e,null,n,r):Ci(e,t.child,n,r)}function ap(t,e,n,r,i){n=n.render;var s=e.ref;return wi(e,i),r=Ih(t,e,n,r,s,i),n=Ah(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jn(t,e,i)):($e&&n&&ph(e),e.flags|=1,Nt(t,e,r,i),e.child)}function lp(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,l0(t,e,s,r,i)):(t=va(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:$s,n(o,r)&&t.ref===e.ref)return jn(t,e,i)}return e.flags|=1,t=or(s,r),t.ref=e.ref,t.return=e,e.child=t}function l0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if($s(s,r)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,jn(t,e,i)}return pc(t,e,n,r,i)}function u0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(mi,$t),$t|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(mi,$t),$t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Le(mi,$t),$t|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Le(mi,$t),$t|=r;return Nt(t,e,i,n),e.child}function c0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pc(t,e,n,r,i){var s=Ot(n)?zr:It.current;return s=Ii(e,s),wi(e,i),n=Ih(t,e,n,r,s,i),r=Ah(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jn(t,e,i)):($e&&r&&ph(e),e.flags|=1,Nt(t,e,n,i),e.child)}function up(t,e,n,r,i){if(Ot(n)){var s=!0;Va(e)}else s=!1;if(wi(e,i),e.stateNode===null)ga(t,e),s0(e,n,r),dc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=tn(c):(c=Ot(n)?zr:It.current,c=Ii(e,c));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&rp(e,o,r,c),qn=!1;var v=e.memoizedState;o.state=v,Fa(e,r,o,i),u=e.memoizedState,l!==r||v!==u||zt.current||qn?(typeof f=="function"&&(hc(e,n,f,r),u=e.memoizedState),(l=qn||np(e,n,l,r,v,u,c))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Og(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:an(e.type,l),o.props=c,g=e.pendingProps,v=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=tn(u):(u=Ot(n)?zr:It.current,u=Ii(e,u));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||v!==u)&&rp(e,o,r,u),qn=!1,v=e.memoizedState,o.state=v,Fa(e,r,o,i);var y=e.memoizedState;l!==g||v!==y||zt.current||qn?(typeof h=="function"&&(hc(e,n,h,r),y=e.memoizedState),(c=qn||np(e,n,c,r,v,y,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return mc(t,e,n,r,s,i)}function mc(t,e,n,r,i,s){c0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Qf(e,n,!1),jn(t,e,s);r=e.stateNode,W1.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ci(e,t.child,null,s),e.child=Ci(e,null,l,s)):Nt(t,e,l,s),e.memoizedState=r.state,i&&Qf(e,n,!0),e.child}function h0(t){var e=t.stateNode;e.pendingContext?qf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qf(t,e.context,!1),Eh(t,e.containerInfo)}function cp(t,e,n,r,i){return Ai(),gh(i),e.flags|=256,Nt(t,e,n,r),e.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function _c(t){return{baseLanes:t,cachePool:null,transitions:null}}function d0(t,e,n){var r=e.pendingProps,i=Ke.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(Ke,i&1),t===null)return uc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=wl(o,r,0,null),t=Vr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=_c(n),e.memoizedState=gc,t):bh(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return H1(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=or(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=or(l,s):(s=Vr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?_c(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gc,r}return s=t.child,t=s.sibling,r=or(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bh(t,e){return e=wl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zo(t,e,n,r){return r!==null&&gh(r),Ci(e,t.child,null,n),t=bh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function H1(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Eu(Error(te(422))),Zo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=wl({mode:"visible",children:r.children},i,0,null),s=Vr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ci(e,t.child,null,o),e.child.memoizedState=_c(o),e.memoizedState=gc,s);if(!(e.mode&1))return Zo(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(te(419)),r=Eu(s,r,void 0),Zo(t,e,o,r)}if(l=(o&t.childLanes)!==0,Mt||l){if(r=lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Dn(t,i),hn(r,t,i,-1))}return Mh(),r=Eu(Error(te(421))),Zo(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iw.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wt=nr(i.nextSibling),Kt=e,$e=!0,un=null,t!==null&&(Yt[Xt++]=Cn,Yt[Xt++]=Nn,Yt[Xt++]=Or,Cn=t.id,Nn=t.overflow,Or=e),e=bh(e,r.children),e.flags|=4096,e)}function hp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cc(t.return,e,n)}function ku(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function f0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hp(t,n,e);else if(t.tag===19)hp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ba(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ku(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ba(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ku(e,!0,n,null,s);break;case"together":ku(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ga(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=or(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=or(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function K1(t,e,n){switch(e.tag){case 3:h0(e),Ai();break;case 5:Lg(e);break;case 1:Ot(e.type)&&Va(e);break;case 4:Eh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(Oa,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?d0(t,e,n):(Le(Ke,Ke.current&1),t=jn(t,e,n),t!==null?t.sibling:null);Le(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return f0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,u0(t,e,n)}return jn(t,e,n)}var p0,yc,m0,g0;p0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yc=function(){};m0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Pr(vn.current);var s=null;switch(n){case"input":i=Fu(t,i),r=Fu(t,r),s=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),s=[];break;case"textarea":i=$u(t,i),r=$u(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Da)}Hu(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ms.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ms.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Be("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};g0=function(t,e,n,r){n!==r&&(e.flags|=4)};function ds(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function q1(t,e,n){var r=e.pendingProps;switch(mh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return Ot(e.type)&&ja(),xt(e),null;case 3:return r=e.stateNode,Ni(),Ue(zt),Ue(It),Th(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,un!==null&&(Ic(un),un=null))),yc(t,e),xt(e),null;case 5:kh(e);var i=Pr(Qs.current);if(n=e.type,t!==null&&e.stateNode!=null)m0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return xt(e),null}if(t=Pr(vn.current),Yo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[_n]=e,r[Ks]=s,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<vs.length;i++)Be(vs[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":wf(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":Ef(r,s),Be("invalid",r)}Hu(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Go(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Go(r.textContent,l,t),i=["children",""+l]):Ms.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":Bo(r),xf(r,s,!0);break;case"textarea":Bo(r),kf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Da)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_n]=e,t[Ks]=r,p0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ku(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<vs.length;i++)Be(vs[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":wf(t,r),i=Fu(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Be("invalid",t);break;case"textarea":Ef(t,r),i=$u(t,r),Be("invalid",t);break;default:i=r}Hu(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?qm(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Hm(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&zs(t,u):typeof u=="number"&&zs(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ms.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Be("scroll",t):u!=null&&eh(t,s,u,o))}switch(n){case"input":Bo(t),xf(t,r,!1);break;case"textarea":Bo(t),kf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+dr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?gi(t,!!r.multiple,s,!1):r.defaultValue!=null&&gi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Da)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)g0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Pr(Qs.current),Pr(vn.current),Yo(e)){if(r=e.stateNode,n=e.memoizedProps,r[_n]=e,(s=r.nodeValue!==n)&&(t=Kt,t!==null))switch(t.tag){case 3:Go(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Go(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_n]=e,e.stateNode=r}return xt(e),null;case 13:if(Ue(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&Wt!==null&&e.mode&1&&!(e.flags&128))jg(),Ai(),e.flags|=98560,s=!1;else if(s=Yo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[_n]=e}else Ai(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),s=!1}else un!==null&&(Ic(un),un=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?it===0&&(it=3):Mh())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return Ni(),yc(t,e),t===null&&Ws(e.stateNode.containerInfo),xt(e),null;case 10:return vh(e.type._context),xt(e),null;case 17:return Ot(e.type)&&ja(),xt(e),null;case 19:if(Ue(Ke),s=e.memoizedState,s===null)return xt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ds(s,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ba(t),o!==null){for(e.flags|=128,ds(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>Ri&&(e.flags|=128,r=!0,ds(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ba(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ds(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$e)return xt(e),null}else 2*Je()-s.renderingStartTime>Ri&&n!==1073741824&&(e.flags|=128,r=!0,ds(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=Ke.current,Le(Ke,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return Vh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$t&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function Q1(t,e){switch(mh(e),e.tag){case 1:return Ot(e.type)&&ja(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ni(),Ue(zt),Ue(It),Th(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kh(e),null;case 13:if(Ue(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Ai()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Ke),null;case 4:return Ni(),null;case 10:return vh(e.type._context),null;case 22:case 23:return Vh(),null;case 24:return null;default:return null}}var Jo=!1,Tt=!1,G1=typeof WeakSet=="function"?WeakSet:Set,ce=null;function pi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function vc(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var dp=!1;function Y1(t,e){if(nc=ba,t=xg(),fh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,f=0,g=t,v=null;t:for(;;){for(var h;g!==n||i!==0&&g.nodeType!==3||(l=o+i),g!==s||r!==0&&g.nodeType!==3||(u=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(h=g.firstChild)!==null;)v=g,g=h;for(;;){if(g===t)break t;if(v===n&&++c===i&&(l=o),v===s&&++f===r&&(u=o),(h=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=h}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rc={focusedElem:t,selectionRange:n},ba=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,k=y.memoizedState,m=e.stateNode,_=m.getSnapshotBeforeUpdate(e.elementType===e.type?p:an(e.type,p),k);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(P){Xe(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return y=dp,dp=!1,y}function Ns(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&vc(e,n,s)}i=i.next}while(i!==r)}}function yl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _0(t){var e=t.alternate;e!==null&&(t.alternate=null,_0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_n],delete e[Ks],delete e[oc],delete e[P1],delete e[D1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function y0(t){return t.tag===5||t.tag===3||t.tag===4}function fp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Da));else if(r!==4&&(t=t.child,t!==null))for(xc(t,e,n),t=t.sibling;t!==null;)xc(t,e,n),t=t.sibling}function Ec(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ec(t,e,n),t=t.sibling;t!==null;)Ec(t,e,n),t=t.sibling}var ht=null,ln=!1;function Hn(t,e,n){for(n=n.child;n!==null;)v0(t,e,n),n=n.sibling}function v0(t,e,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(cl,n)}catch{}switch(n.tag){case 5:Tt||pi(n,e);case 6:var r=ht,i=ln;ht=null,Hn(t,e,n),ht=r,ln=i,ht!==null&&(ln?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(ln?(t=ht,n=n.stateNode,t.nodeType===8?gu(t.parentNode,n):t.nodeType===1&&gu(t,n),Bs(t)):gu(ht,n.stateNode));break;case 4:r=ht,i=ln,ht=n.stateNode.containerInfo,ln=!0,Hn(t,e,n),ht=r,ln=i;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vc(n,e,o),i=i.next}while(i!==r)}Hn(t,e,n);break;case 1:if(!Tt&&(pi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Xe(n,e,l)}Hn(t,e,n);break;case 21:Hn(t,e,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,Hn(t,e,n),Tt=r):Hn(t,e,n);break;default:Hn(t,e,n)}}function pp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new G1),e.forEach(function(r){var i=sw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function on(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ht=l.stateNode,ln=!1;break e;case 3:ht=l.stateNode.containerInfo,ln=!0;break e;case 4:ht=l.stateNode.containerInfo,ln=!0;break e}l=l.return}if(ht===null)throw Error(te(160));v0(s,o,i),ht=null,ln=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Xe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)w0(e,t),e=e.sibling}function w0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(on(e,t),mn(t),r&4){try{Ns(3,t,t.return),yl(3,t)}catch(p){Xe(t,t.return,p)}try{Ns(5,t,t.return)}catch(p){Xe(t,t.return,p)}}break;case 1:on(e,t),mn(t),r&512&&n!==null&&pi(n,n.return);break;case 5:if(on(e,t),mn(t),r&512&&n!==null&&pi(n,n.return),t.flags&32){var i=t.stateNode;try{zs(i,"")}catch(p){Xe(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Um(i,s),Ku(l,o);var c=Ku(l,s);for(o=0;o<u.length;o+=2){var f=u[o],g=u[o+1];f==="style"?qm(i,g):f==="dangerouslySetInnerHTML"?Hm(i,g):f==="children"?zs(i,g):eh(i,f,g,c)}switch(l){case"input":Bu(i,s);break;case"textarea":$m(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?gi(i,!!s.multiple,h,!1):v!==!!s.multiple&&(s.defaultValue!=null?gi(i,!!s.multiple,s.defaultValue,!0):gi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ks]=s}catch(p){Xe(t,t.return,p)}}break;case 6:if(on(e,t),mn(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){Xe(t,t.return,p)}}break;case 3:if(on(e,t),mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bs(e.containerInfo)}catch(p){Xe(t,t.return,p)}break;case 4:on(e,t),mn(t);break;case 13:on(e,t),mn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Dh=Je())),r&4&&pp(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Tt=(c=Tt)||f,on(e,t),Tt=c):on(e,t),mn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ce=t,f=t.child;f!==null;){for(g=ce=f;ce!==null;){switch(v=ce,h=v.child,v.tag){case 0:case 11:case 14:case 15:Ns(4,v,v.return);break;case 1:pi(v,v.return);var y=v.stateNode;if(typeof y.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(p){Xe(r,n,p)}}break;case 5:pi(v,v.return);break;case 22:if(v.memoizedState!==null){gp(g);continue}}h!==null?(h.return=v,ce=h):gp(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=g.stateNode,u=g.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Km("display",o))}catch(p){Xe(t,t.return,p)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(p){Xe(t,t.return,p)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:on(e,t),mn(t),r&4&&pp(t);break;case 21:break;default:on(e,t),mn(t)}}function mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(y0(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zs(i,""),r.flags&=-33);var s=fp(t);Ec(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=fp(t);xc(t,l,o);break;default:throw Error(te(161))}}catch(u){Xe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function X1(t,e,n){ce=t,x0(t)}function x0(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Jo;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Tt;l=Jo;var c=Tt;if(Jo=o,(Tt=u)&&!c)for(ce=i;ce!==null;)o=ce,u=o.child,o.tag===22&&o.memoizedState!==null?_p(i):u!==null?(u.return=o,ce=u):_p(i);for(;s!==null;)ce=s,x0(s),s=s.sibling;ce=i,Jo=l,Tt=c}mp(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):mp(t)}}function mp(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||yl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:an(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Jf(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jf(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&Bs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Tt||e.flags&512&&wc(e)}catch(v){Xe(e,e.return,v)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function gp(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function _p(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yl(4,e)}catch(u){Xe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Xe(e,i,u)}}var s=e.return;try{wc(e)}catch(u){Xe(e,s,u)}break;case 5:var o=e.return;try{wc(e)}catch(u){Xe(e,o,u)}}}catch(u){Xe(e,e.return,u)}if(e===t){ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ce=l;break}ce=e.return}}var Z1=Math.ceil,Wa=Ln.ReactCurrentDispatcher,Rh=Ln.ReactCurrentOwner,en=Ln.ReactCurrentBatchConfig,Ae=0,lt=null,tt=null,pt=0,$t=0,mi=yr(0),it=0,Zs=null,Fr=0,vl=0,Ph=0,bs=null,jt=null,Dh=0,Ri=1/0,In=null,Ha=!1,kc=null,ir=null,ea=!1,Xn=null,Ka=0,Rs=0,Tc=null,_a=-1,ya=0;function bt(){return Ae&6?Je():_a!==-1?_a:_a=Je()}function sr(t){return t.mode&1?Ae&2&&pt!==0?pt&-pt:V1.transition!==null?(ya===0&&(ya=sg()),ya):(t=De,t!==0||(t=window.event,t=t===void 0?16:dg(t.type)),t):1}function hn(t,e,n,r){if(50<Rs)throw Rs=0,Tc=null,Error(te(185));uo(t,n,r),(!(Ae&2)||t!==lt)&&(t===lt&&(!(Ae&2)&&(vl|=n),it===4&&Gn(t,pt)),Lt(t,r),n===1&&Ae===0&&!(e.mode&1)&&(Ri=Je()+500,ml&&vr()))}function Lt(t,e){var n=t.callbackNode;Vv(t,e);var r=Na(t,t===lt?pt:0);if(r===0)n!==null&&If(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&If(n),e===1)t.tag===0?j1(yp.bind(null,t)):Rg(yp.bind(null,t)),b1(function(){!(Ae&6)&&vr()}),n=null;else{switch(og(r)){case 1:n=sh;break;case 4:n=rg;break;case 16:n=Ca;break;case 536870912:n=ig;break;default:n=Ca}n=N0(n,E0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function E0(t,e){if(_a=-1,ya=0,Ae&6)throw Error(te(327));var n=t.callbackNode;if(xi()&&t.callbackNode!==n)return null;var r=Na(t,t===lt?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qa(t,r);else{e=r;var i=Ae;Ae|=2;var s=T0();(lt!==t||pt!==e)&&(In=null,Ri=Je()+500,jr(t,e));do try{tw();break}catch(l){k0(t,l)}while(1);yh(),Wa.current=s,Ae=i,tt!==null?e=0:(lt=null,pt=0,e=it)}if(e!==0){if(e===2&&(i=Xu(t),i!==0&&(r=i,e=Sc(t,i))),e===1)throw n=Zs,jr(t,0),Gn(t,r),Lt(t,Je()),n;if(e===6)Gn(t,r);else{if(i=t.current.alternate,!(r&30)&&!J1(i)&&(e=qa(t,r),e===2&&(s=Xu(t),s!==0&&(r=s,e=Sc(t,s))),e===1))throw n=Zs,jr(t,0),Gn(t,r),Lt(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:Cr(t,jt,In);break;case 3:if(Gn(t,r),(r&130023424)===r&&(e=Dh+500-Je(),10<e)){if(Na(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sc(Cr.bind(null,t,jt,In),e);break}Cr(t,jt,In);break;case 4:if(Gn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Z1(r/1960))-r,10<r){t.timeoutHandle=sc(Cr.bind(null,t,jt,In),r);break}Cr(t,jt,In);break;case 5:Cr(t,jt,In);break;default:throw Error(te(329))}}}return Lt(t,Je()),t.callbackNode===n?E0.bind(null,t):null}function Sc(t,e){var n=bs;return t.current.memoizedState.isDehydrated&&(jr(t,e).flags|=256),t=qa(t,e),t!==2&&(e=jt,jt=n,e!==null&&Ic(e)),t}function Ic(t){jt===null?jt=t:jt.push.apply(jt,t)}function J1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gn(t,e){for(e&=~Ph,e&=~vl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cn(e),r=1<<n;t[n]=-1,e&=~r}}function yp(t){if(Ae&6)throw Error(te(327));xi();var e=Na(t,0);if(!(e&1))return Lt(t,Je()),null;var n=qa(t,e);if(t.tag!==0&&n===2){var r=Xu(t);r!==0&&(e=r,n=Sc(t,r))}if(n===1)throw n=Zs,jr(t,0),Gn(t,e),Lt(t,Je()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cr(t,jt,In),Lt(t,Je()),null}function jh(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Ri=Je()+500,ml&&vr())}}function Br(t){Xn!==null&&Xn.tag===0&&!(Ae&6)&&xi();var e=Ae;Ae|=1;var n=en.transition,r=De;try{if(en.transition=null,De=1,t)return t()}finally{De=r,en.transition=n,Ae=e,!(Ae&6)&&vr()}}function Vh(){$t=mi.current,Ue(mi)}function jr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N1(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(mh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ja();break;case 3:Ni(),Ue(zt),Ue(It),Th();break;case 5:kh(r);break;case 4:Ni();break;case 13:Ue(Ke);break;case 19:Ue(Ke);break;case 10:vh(r.type._context);break;case 22:case 23:Vh()}n=n.return}if(lt=t,tt=t=or(t.current,null),pt=$t=e,it=0,Zs=null,Ph=vl=Fr=0,jt=bs=null,Rr!==null){for(e=0;e<Rr.length;e++)if(n=Rr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Rr=null}return t}function k0(t,e){do{var n=tt;try{if(yh(),pa.current=$a,Ua){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ua=!1}if(Lr=0,at=nt=qe=null,Cs=!1,Gs=0,Rh.current=null,n===null||n.return===null){it=1,Zs=e,tt=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=pt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=sp(o);if(h!==null){h.flags&=-257,op(h,o,l,s,e),h.mode&1&&ip(s,c,e),e=h,u=c;var y=e.updateQueue;if(y===null){var p=new Set;p.add(u),e.updateQueue=p}else y.add(u);break e}else{if(!(e&1)){ip(s,c,e),Mh();break e}u=Error(te(426))}}else if($e&&l.mode&1){var k=sp(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),op(k,o,l,s,e),gh(bi(u,l));break e}}s=u=bi(u,l),it!==4&&(it=2),bs===null?bs=[s]:bs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=o0(s,u,e);Zf(s,m);break e;case 1:l=u;var _=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ir===null||!ir.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=a0(s,l,e);Zf(s,P);break e}}s=s.return}while(s!==null)}I0(n)}catch(V){e=V,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(1)}function T0(){var t=Wa.current;return Wa.current=$a,t===null?$a:t}function Mh(){(it===0||it===3||it===2)&&(it=4),lt===null||!(Fr&268435455)&&!(vl&268435455)||Gn(lt,pt)}function qa(t,e){var n=Ae;Ae|=2;var r=T0();(lt!==t||pt!==e)&&(In=null,jr(t,e));do try{ew();break}catch(i){k0(t,i)}while(1);if(yh(),Ae=n,Wa.current=r,tt!==null)throw Error(te(261));return lt=null,pt=0,it}function ew(){for(;tt!==null;)S0(tt)}function tw(){for(;tt!==null&&!Iv();)S0(tt)}function S0(t){var e=C0(t.alternate,t,$t);t.memoizedProps=t.pendingProps,e===null?I0(t):tt=e,Rh.current=null}function I0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Q1(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,tt=null;return}}else if(n=q1(n,e,$t),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);it===0&&(it=5)}function Cr(t,e,n){var r=De,i=en.transition;try{en.transition=null,De=1,nw(t,e,n,r)}finally{en.transition=i,De=r}return null}function nw(t,e,n,r){do xi();while(Xn!==null);if(Ae&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mv(t,s),t===lt&&(tt=lt=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ea||(ea=!0,N0(Ca,function(){return xi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=en.transition,en.transition=null;var o=De;De=1;var l=Ae;Ae|=4,Rh.current=null,Y1(t,n),w0(n,t),E1(rc),ba=!!nc,rc=nc=null,t.current=n,X1(n),Av(),Ae=l,De=o,en.transition=s}else t.current=n;if(ea&&(ea=!1,Xn=t,Ka=i),s=t.pendingLanes,s===0&&(ir=null),bv(n.stateNode),Lt(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ha)throw Ha=!1,t=kc,kc=null,t;return Ka&1&&t.tag!==0&&xi(),s=t.pendingLanes,s&1?t===Tc?Rs++:(Rs=0,Tc=t):Rs=0,vr(),null}function xi(){if(Xn!==null){var t=og(Ka),e=en.transition,n=De;try{if(en.transition=null,De=16>t?16:t,Xn===null)var r=!1;else{if(t=Xn,Xn=null,Ka=0,Ae&6)throw Error(te(331));var i=Ae;for(Ae|=4,ce=t.current;ce!==null;){var s=ce,o=s.child;if(ce.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(ce=c;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:Ns(8,f,s)}var g=f.child;if(g!==null)g.return=f,ce=g;else for(;ce!==null;){f=ce;var v=f.sibling,h=f.return;if(_0(f),f===c){ce=null;break}if(v!==null){v.return=h,ce=v;break}ce=h}}}var y=s.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var k=p.sibling;p.sibling=null,p=k}while(p!==null)}}ce=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ce=o;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ns(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ce=m;break e}ce=s.return}}var _=t.current;for(ce=_;ce!==null;){o=ce;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ce=T;else e:for(o=_;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yl(9,l)}}catch(V){Xe(l,l.return,V)}if(l===o){ce=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,ce=P;break e}ce=l.return}}if(Ae=i,vr(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(cl,t)}catch{}r=!0}return r}finally{De=n,en.transition=e}}return!1}function vp(t,e,n){e=bi(n,e),e=o0(t,e,1),t=rr(t,e,1),e=bt(),t!==null&&(uo(t,1,e),Lt(t,e))}function Xe(t,e,n){if(t.tag===3)vp(t,t,n);else for(;e!==null;){if(e.tag===3){vp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ir===null||!ir.has(r))){t=bi(n,t),t=a0(e,t,1),e=rr(e,t,1),t=bt(),e!==null&&(uo(e,1,t),Lt(e,t));break}}e=e.return}}function rw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(pt&n)===n&&(it===4||it===3&&(pt&130023424)===pt&&500>Je()-Dh?jr(t,0):Ph|=n),Lt(t,e)}function A0(t,e){e===0&&(t.mode&1?(e=Wo,Wo<<=1,!(Wo&130023424)&&(Wo=4194304)):e=1);var n=bt();t=Dn(t,e),t!==null&&(uo(t,e,n),Lt(t,n))}function iw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),A0(t,n)}function sw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),A0(t,n)}var C0;C0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mt=!1,K1(t,e,n);Mt=!!(t.flags&131072)}else Mt=!1,$e&&e.flags&1048576&&Pg(e,za,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ga(t,e),t=e.pendingProps;var i=Ii(e,It.current);wi(e,n),i=Ih(null,e,r,t,i,n);var s=Ah();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(r)?(s=!0,Va(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xh(e),i.updater=_l,e.stateNode=i,i._reactInternals=e,dc(e,r,t,n),e=mc(null,e,r,!0,s,n)):(e.tag=0,$e&&s&&ph(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ga(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aw(r),t=an(r,t),i){case 0:e=pc(null,e,r,t,n);break e;case 1:e=up(null,e,r,t,n);break e;case 11:e=ap(null,e,r,t,n);break e;case 14:e=lp(null,e,r,an(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),pc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),up(t,e,r,i,n);case 3:e:{if(h0(e),t===null)throw Error(te(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Og(t,e),Fa(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=bi(Error(te(423)),e),e=cp(t,e,r,n,i);break e}else if(r!==i){i=bi(Error(te(424)),e),e=cp(t,e,r,n,i);break e}else for(Wt=nr(e.stateNode.containerInfo.firstChild),Kt=e,$e=!0,un=null,n=Mg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ai(),r===i){e=jn(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return Lg(e),t===null&&uc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ic(r,i)?o=null:s!==null&&ic(r,s)&&(e.flags|=32),c0(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&uc(e),null;case 13:return d0(t,e,n);case 4:return Eh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ci(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),ap(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Le(Oa,r._currentValue),r._currentValue=o,s!==null)if(pn(s.value,o)){if(s.children===i.children&&!zt.current){e=jn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=bn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),cc(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(te(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wi(e,n),i=tn(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=an(r,e.pendingProps),i=an(r.type,i),lp(t,e,r,i,n);case 15:return l0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),ga(t,e),e.tag=1,Ot(r)?(t=!0,Va(e)):t=!1,wi(e,n),s0(e,r,i),dc(e,r,i,n),mc(null,e,r,!0,t,n);case 19:return f0(t,e,n);case 22:return u0(t,e,n)}throw Error(te(156,e.tag))};function N0(t,e){return ng(t,e)}function ow(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,e,n,r){return new ow(t,e,n,r)}function zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aw(t){if(typeof t=="function")return zh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nh)return 11;if(t===rh)return 14}return 2}function or(t,e){var n=t.alternate;return n===null?(n=Jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function va(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")zh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case si:return Vr(n.children,i,s,e);case th:o=8,i|=8;break;case Mu:return t=Jt(12,n,e,i|2),t.elementType=Mu,t.lanes=s,t;case zu:return t=Jt(13,n,e,i),t.elementType=zu,t.lanes=s,t;case Ou:return t=Jt(19,n,e,i),t.elementType=Ou,t.lanes=s,t;case Lm:return wl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zm:o=10;break e;case Om:o=9;break e;case nh:o=11;break e;case rh:o=14;break e;case Kn:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Jt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vr(t,e,n,r){return t=Jt(7,t,r,e),t.lanes=n,t}function wl(t,e,n,r){return t=Jt(22,t,r,e),t.elementType=Lm,t.lanes=n,t.stateNode={isHidden:!1},t}function Tu(t,e,n){return t=Jt(6,t,null,e),t.lanes=n,t}function Su(t,e,n){return e=Jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lw(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Oh(t,e,n,r,i,s,o,l,u){return t=new lw(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Jt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xh(s),t}function uw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function b0(t){if(!t)return fr;t=t._reactInternals;e:{if(Kr(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Ot(n))return bg(t,n,e)}return e}function R0(t,e,n,r,i,s,o,l,u){return t=Oh(n,r,!0,t,i,s,o,l,u),t.context=b0(null),n=t.current,r=bt(),i=sr(n),s=bn(r,i),s.callback=e??null,rr(n,s,i),t.current.lanes=i,uo(t,i,r),Lt(t,r),t}function xl(t,e,n,r){var i=e.current,s=bt(),o=sr(i);return n=b0(n),e.context===null?e.context=n:e.pendingContext=n,e=bn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rr(i,e,o),t!==null&&(hn(t,i,o,s),fa(t,i,o)),o}function Qa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lh(t,e){wp(t,e),(t=t.alternate)&&wp(t,e)}function cw(){return null}var P0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fh(t){this._internalRoot=t}El.prototype.render=Fh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));xl(t,e,null,null)};El.prototype.unmount=Fh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Br(function(){xl(null,t,null,null)}),e[Pn]=null}};function El(t){this._internalRoot=t}El.prototype.unstable_scheduleHydration=function(t){if(t){var e=ug();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qn.length&&e!==0&&e<Qn[n].priority;n++);Qn.splice(n,0,t),n===0&&hg(t)}};function Bh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xp(){}function hw(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Qa(o);s.call(c)}}var o=R0(e,r,t,0,null,!1,!1,"",xp);return t._reactRootContainer=o,t[Pn]=o.current,Ws(t.nodeType===8?t.parentNode:t),Br(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Qa(u);l.call(c)}}var u=Oh(t,0,!1,null,null,!1,!1,"",xp);return t._reactRootContainer=u,t[Pn]=u.current,Ws(t.nodeType===8?t.parentNode:t),Br(function(){xl(e,u,n,r)}),u}function Tl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Qa(o);l.call(u)}}xl(e,o,t,i)}else o=hw(n,e,t,i,r);return Qa(o)}ag=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ys(e.pendingLanes);n!==0&&(oh(e,n|1),Lt(e,Je()),!(Ae&6)&&(Ri=Je()+500,vr()))}break;case 13:Br(function(){var r=Dn(t,1);if(r!==null){var i=bt();hn(r,t,1,i)}}),Lh(t,1)}};ah=function(t){if(t.tag===13){var e=Dn(t,134217728);if(e!==null){var n=bt();hn(e,t,134217728,n)}Lh(t,134217728)}};lg=function(t){if(t.tag===13){var e=sr(t),n=Dn(t,e);if(n!==null){var r=bt();hn(n,t,e,r)}Lh(t,e)}};ug=function(){return De};cg=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Qu=function(t,e,n){switch(e){case"input":if(Bu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pl(r);if(!i)throw Error(te(90));Bm(r),Bu(r,i)}}}break;case"textarea":$m(t,n);break;case"select":e=n.value,e!=null&&gi(t,!!n.multiple,e,!1)}};Ym=jh;Xm=Br;var dw={usingClientEntryPoint:!1,Events:[ho,ui,pl,Qm,Gm,jh]},fs={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fw={bundleType:fs.bundleType,version:fs.version,rendererPackageName:fs.rendererPackageName,rendererConfig:fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eg(t),t===null?null:t.stateNode},findFiberByHostInstance:fs.findFiberByHostInstance||cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{cl=ta.inject(fw),yn=ta}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dw;Qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bh(e))throw Error(te(200));return uw(t,e,null,n)};Qt.createRoot=function(t,e){if(!Bh(t))throw Error(te(299));var n=!1,r="",i=P0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Oh(t,1,!1,null,null,n,!1,r,i),t[Pn]=e.current,Ws(t.nodeType===8?t.parentNode:t),new Fh(e)};Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=eg(e),t=t===null?null:t.stateNode,t};Qt.flushSync=function(t){return Br(t)};Qt.hydrate=function(t,e,n){if(!kl(e))throw Error(te(200));return Tl(null,t,e,!0,n)};Qt.hydrateRoot=function(t,e,n){if(!Bh(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=P0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=R0(e,null,t,1,n??null,i,!1,s,o),t[Pn]=e.current,Ws(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new El(e)};Qt.render=function(t,e,n){if(!kl(e))throw Error(te(200));return Tl(null,t,e,!1,n)};Qt.unmountComponentAtNode=function(t){if(!kl(t))throw Error(te(40));return t._reactRootContainer?(Br(function(){Tl(null,null,t,!1,function(){t._reactRootContainer=null,t[Pn]=null})}),!0):!1};Qt.unstable_batchedUpdates=jh;Qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kl(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Tl(t,e,n,!1,r)};Qt.version="18.3.1-next-f1338f8080-20240426";function D0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D0)}catch(t){console.error(t)}}D0(),Dm.exports=Qt;var pw=Dm.exports,j0,Ep=pw;j0=Ep.createRoot,Ep.hydrateRoot;function na(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var V0={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(c,f){if(!i[c]){if(!r[c]){var g=typeof na=="function"&&na;if(!f&&g)return g(c,!0);if(l)return l(c,!0);var v=new Error("Cannot find module '"+c+"'");throw v.code="MODULE_NOT_FOUND",v}var h=i[c]={exports:{}};r[c][0].call(h.exports,function(y){var p=r[c][1][y];return o(p||y)},h,h.exports,n,r,i,s)}return i[c].exports}for(var l=typeof na=="function"&&na,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var c,f,g,v,h,y,p,k=[],m=0,_=u.length,T=_,P=s.getTypeOf(u)!=="string";m<u.length;)T=_-m,g=P?(c=u[m++],f=m<_?u[m++]:0,m<_?u[m++]:0):(c=u.charCodeAt(m++),f=m<_?u.charCodeAt(m++):0,m<_?u.charCodeAt(m++):0),v=c>>2,h=(3&c)<<4|f>>4,y=1<T?(15&f)<<2|g>>6:64,p=2<T?63&g:64,k.push(l.charAt(v)+l.charAt(h)+l.charAt(y)+l.charAt(p));return k.join("")},i.decode=function(u){var c,f,g,v,h,y,p=0,k=0,m="data:";if(u.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var _,T=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&T--,u.charAt(u.length-2)===l.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=o.uint8array?new Uint8Array(0|T):new Array(0|T);p<u.length;)c=l.indexOf(u.charAt(p++))<<2|(v=l.indexOf(u.charAt(p++)))>>4,f=(15&v)<<4|(h=l.indexOf(u.charAt(p++)))>>2,g=(3&h)<<6|(y=l.indexOf(u.charAt(p++))),_[k++]=c,h!==64&&(_[k++]=f),y!==64&&(_[k++]=g);return _}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),u=n("./stream/DataLengthProbe");function c(f,g,v,h,y){this.compressedSize=f,this.uncompressedSize=g,this.crc32=v,this.compression=h,this.compressedContent=y}c.prototype={getContentWorker:function(){var f=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),g=this;return f.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(f,g,v){return f.pipe(new l).pipe(new u("uncompressedSize")).pipe(g.compressWorker(v)).pipe(new u("compressedSize")).withStreamInfo("compression",g)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var l,u=[],c=0;c<256;c++){l=c;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;u[c]=l}return u}();r.exports=function(l,u){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?function(c,f,g,v){var h=o,y=v+g;c^=-1;for(var p=v;p<y;p++)c=c>>>8^h[255&(c^f[p])];return-1^c}(0|u,l,l.length,0):function(c,f,g,v){var h=o,y=v+g;c^=-1;for(var p=v;p<y;p++)c=c>>>8^h[255&(c^f.charCodeAt(p))];return-1^c}(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),l=n("./utils"),u=n("./stream/GenericWorker"),c=s?"uint8array":"array";function f(g,v){u.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=v,this.meta={}}i.magic="\b\0",l.inherits(f,u),f.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(c,g.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(v){g.push({data:v,meta:g.meta})}},i.compressWorker=function(g){return new f("Deflate",g)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(h,y){var p,k="";for(p=0;p<y;p++)k+=String.fromCharCode(255&h),h>>>=8;return k}function o(h,y,p,k,m,_){var T,P,V=h.file,O=h.compression,C=_!==c.utf8encode,I=l.transformTo("string",_(V.name)),N=l.transformTo("string",c.utf8encode(V.name)),D=V.comment,z=l.transformTo("string",_(D)),A=l.transformTo("string",c.utf8encode(D)),b=N.length!==V.name.length,S=A.length!==D.length,q="",me="",Z="",G=V.dir,K=V.date,ne={crc32:0,compressedSize:0,uncompressedSize:0};y&&!p||(ne.crc32=h.crc32,ne.compressedSize=h.compressedSize,ne.uncompressedSize=h.uncompressedSize);var U=0;y&&(U|=8),C||!b&&!S||(U|=2048);var F=0,le=0;G&&(F|=16),m==="UNIX"?(le=798,F|=function(se,Re){var Ve=se;return se||(Ve=Re?16893:33204),(65535&Ve)<<16}(V.unixPermissions,G)):(le=20,F|=function(se){return 63&(se||0)}(V.dosPermissions)),T=K.getUTCHours(),T<<=6,T|=K.getUTCMinutes(),T<<=5,T|=K.getUTCSeconds()/2,P=K.getUTCFullYear()-1980,P<<=4,P|=K.getUTCMonth()+1,P<<=5,P|=K.getUTCDate(),b&&(me=s(1,1)+s(f(I),4)+N,q+="up"+s(me.length,2)+me),S&&(Z=s(1,1)+s(f(z),4)+A,q+="uc"+s(Z.length,2)+Z);var ae="";return ae+=`
\0`,ae+=s(U,2),ae+=O.magic,ae+=s(T,2),ae+=s(P,2),ae+=s(ne.crc32,4),ae+=s(ne.compressedSize,4),ae+=s(ne.uncompressedSize,4),ae+=s(I.length,2),ae+=s(q.length,2),{fileRecord:g.LOCAL_FILE_HEADER+ae+I+q,dirRecord:g.CENTRAL_FILE_HEADER+s(le,2)+ae+s(z.length,2)+"\0\0\0\0"+s(F,4)+s(k,4)+I+q+z}}var l=n("../utils"),u=n("../stream/GenericWorker"),c=n("../utf8"),f=n("../crc32"),g=n("../signature");function v(h,y,p,k){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=p,this.encodeFileName=k,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(v,u),v.prototype.push=function(h){var y=h.meta.percent||0,p=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,u.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(y+100*(p-k-1))/p:100}}))},v.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var y=this.streamFiles&&!h.file.dir;if(y){var p=o(h,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(h){this.accumulate=!1;var y=this.streamFiles&&!h.file.dir,p=o(h,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),y)this.push({data:function(k){return g.DATA_DESCRIPTOR+s(k.crc32,4)+s(k.compressedSize,4)+s(k.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var h=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var p=this.bytesWritten-h,k=function(m,_,T,P,V){var O=l.transformTo("string",V(P));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(m,2)+s(m,2)+s(_,4)+s(T,4)+s(O.length,2)+O}(this.dirRecords.length,p,h,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(h){this._sources.push(h);var y=this;return h.on("data",function(p){y.processChunk(p)}),h.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),h.on("error",function(p){y.error(p)}),this},v.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(h){var y=this._sources;if(!u.prototype.error.call(this,h))return!1;for(var p=0;p<y.length;p++)try{y[p].error(h)}catch{}return!0},v.prototype.lock=function(){u.prototype.lock.call(this);for(var h=this._sources,y=0;y<h.length;y++)h[y].lock()},r.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(l,u,c){var f=new o(u.streamFiles,c,u.platform,u.encodeFileName),g=0;try{l.forEach(function(v,h){g++;var y=function(_,T){var P=_||T,V=s[P];if(!V)throw new Error(P+" is not a valid compression method !");return V}(h.options.compression,u.compression),p=h.options.compressionOptions||u.compressionOptions||{},k=h.dir,m=h.date;h._compressWorker(y,p).withStreamInfo("file",{name:v,dir:k,date:m,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(f)}),f.entriesCount=g}catch(v){f.error(v)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,l){return new s().loadAsync(o,l)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),l=n("./utf8"),u=n("./zipEntries"),c=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function g(v){return new o.Promise(function(h,y){var p=v.decompressed.getContentWorker().pipe(new c);p.on("error",function(k){y(k)}).on("end",function(){p.streamInfo.crc32!==v.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(v,h){var y=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),f.isNode&&f.isStream(v)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",v,!0,h.optimizedBinaryString,h.base64).then(function(p){var k=new u(h);return k.load(p),k}).then(function(p){var k=[o.Promise.resolve(p)],m=p.files;if(h.checkCRC32)for(var _=0;_<m.length;_++)k.push(g(m[_]));return o.Promise.all(k)}).then(function(p){for(var k=p.shift(),m=k.files,_=0;_<m.length;_++){var T=m[_],P=T.fileNameStr,V=s.resolve(T.fileNameStr);y.file(V,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:h.createFolders}),T.dir||(y.file(V).unsafeOriginalName=P)}return k.zipComment.length&&(y.comment=k.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function l(u,c){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(l,o),l.prototype._bindStream=function(u){var c=this;(this._stream=u).pause(),u.on("data",function(f){c.push({data:f,meta:{percent:0}})}).on("error",function(f){c.isPaused?this.generatedError=f:c.error(f)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(l,u,c){s.call(this,u),this._helper=l;var f=this;l.on("data",function(g,v){f.push(g)||f._helper.pause(),c&&c(v)}).on("error",function(g){f.emit("error",g)}).on("end",function(){f.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(V,O,C){var I,N=l.getTypeOf(O),D=l.extend(C||{},f);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(V=m(V)),D.createFolders&&(I=k(V))&&_.call(this,I,!0);var z=N==="string"&&D.binary===!1&&D.base64===!1;C&&C.binary!==void 0||(D.binary=!z),(O instanceof g&&O.uncompressedSize===0||D.dir||!O||O.length===0)&&(D.base64=!1,D.binary=!0,O="",D.compression="STORE",N="string");var A=null;A=O instanceof g||O instanceof u?O:y.isNode&&y.isStream(O)?new p(V,O):l.prepareContent(V,O,D.binary,D.optimizedBinaryString,D.base64);var b=new v(V,A,D);this.files[V]=b}var o=n("./utf8"),l=n("./utils"),u=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),f=n("./defaults"),g=n("./compressedObject"),v=n("./zipObject"),h=n("./generate"),y=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),k=function(V){V.slice(-1)==="/"&&(V=V.substring(0,V.length-1));var O=V.lastIndexOf("/");return 0<O?V.substring(0,O):""},m=function(V){return V.slice(-1)!=="/"&&(V+="/"),V},_=function(V,O){return O=O!==void 0?O:f.createFolders,V=m(V),this.files[V]||s.call(this,V,null,{dir:!0,createFolders:O}),this.files[V]};function T(V){return Object.prototype.toString.call(V)==="[object RegExp]"}var P={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(V){var O,C,I;for(O in this.files)I=this.files[O],(C=O.slice(this.root.length,O.length))&&O.slice(0,this.root.length)===this.root&&V(C,I)},filter:function(V){var O=[];return this.forEach(function(C,I){V(C,I)&&O.push(I)}),O},file:function(V,O,C){if(arguments.length!==1)return V=this.root+V,s.call(this,V,O,C),this;if(T(V)){var I=V;return this.filter(function(D,z){return!z.dir&&I.test(D)})}var N=this.files[this.root+V];return N&&!N.dir?N:null},folder:function(V){if(!V)return this;if(T(V))return this.filter(function(N,D){return D.dir&&V.test(N)});var O=this.root+V,C=_.call(this,O),I=this.clone();return I.root=C.name,I},remove:function(V){V=this.root+V;var O=this.files[V];if(O||(V.slice(-1)!=="/"&&(V+="/"),O=this.files[V]),O&&!O.dir)delete this.files[V];else for(var C=this.filter(function(N,D){return D.name.slice(0,V.length)===V}),I=0;I<C.length;I++)delete this.files[C[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(V){var O,C={};try{if((C=l.extend(V||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");l.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var I=C.comment||this.comment||"";O=h.generateWorker(this,C,I)}catch(N){(O=new u("error")).error(N)}return new c(O,C.type||"string",C.mimeType)},generateAsync:function(V,O){return this.generateInternalStream(V).accumulate(O)},generateNodeStream:function(V,O){return(V=V||{}).type||(V.type="nodebuffer"),this.generateInternalStream(V).toNodejsStream(O)}};r.exports=P},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(l){s.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}n("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),c=l.charCodeAt(1),f=l.charCodeAt(2),g=l.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===u&&this.data[v+1]===c&&this.data[v+2]===f&&this.data[v+3]===g)return v-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),c=l.charCodeAt(1),f=l.charCodeAt(2),g=l.charCodeAt(3),v=this.readData(4);return u===v[0]&&c===v[1]&&f===v[2]&&g===v[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,c=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)c=(c<<8)+this.byteAt(u);return this.index+=l,c},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(l){s.call(this,l)}n("../utils").inherits(o,s),o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(l){s.call(this,l)}n("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(l){s.call(this,l)}n("../utils").inherits(o,s),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),l=n("./ArrayReader"),u=n("./StringReader"),c=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");r.exports=function(g){var v=s.getTypeOf(g);return s.checkSupport(v),v!=="string"||o.uint8array?v==="nodebuffer"?new c(g):o.uint8array?new f(s.transformTo("uint8array",g)):new l(s.transformTo("array",g)):new u(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function l(u){s.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(l,s),l.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,s),l.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function l(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(l,o),l.prototype.processChunk=function(u){if(u){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+u.data.length}o.prototype.processChunk.call(this,u)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function l(u){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){c.dataIsReady=!0,c.data=f,c.max=f&&f.length||0,c.type=s.getTypeOf(f),c.isPaused||c._tickAndRepeat()},function(f){c.error(f)})}s.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,c);break;case"uint8array":u=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":u=this.data.slice(this.index,c)}return this.index=c,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(u){l.processChunk(u)}),o.on("end",function(){l.end()}),o.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),l=n("./GenericWorker"),u=n("../base64"),c=n("../support"),f=n("../external"),g=null;if(c.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(y,p){return new f.Promise(function(k,m){var _=[],T=y._internalType,P=y._outputType,V=y._mimeType;y.on("data",function(O,C){_.push(O),p&&p(C)}).on("error",function(O){_=[],m(O)}).on("end",function(){try{var O=function(C,I,N){switch(C){case"blob":return s.newBlob(s.transformTo("arraybuffer",I),N);case"base64":return u.encode(I);default:return s.transformTo(C,I)}}(P,function(C,I){var N,D=0,z=null,A=0;for(N=0;N<I.length;N++)A+=I[N].length;switch(C){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(z=new Uint8Array(A),N=0;N<I.length;N++)z.set(I[N],D),D+=I[N].length;return z;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+C+"'")}}(T,_),V);k(O)}catch(C){m(C)}_=[]}).resume()})}function h(y,p,k){var m=p;switch(p){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=p,this._mimeType=k,s.checkSupport(m),this._worker=y.pipe(new o(m)),y.lock()}catch(_){this._worker=new l("error"),this._worker.error(_)}}h.prototype={accumulate:function(y){return v(this,y)},on:function(y,p){var k=this;return y==="data"?this._worker.on(y,function(m){p.call(k,m.data,m.meta)}):this._worker.on(y,function(){s.delay(p,arguments,k)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},y)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),l=n("./nodejsUtils"),u=n("./stream/GenericWorker"),c=new Array(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;c[254]=c[254]=1;function g(){u.call(this,"utf-8 decode"),this.leftOver=null}function v(){u.call(this,"utf-8 encode")}i.utf8encode=function(h){return o.nodebuffer?l.newBufferFrom(h,"utf-8"):function(y){var p,k,m,_,T,P=y.length,V=0;for(_=0;_<P;_++)(64512&(k=y.charCodeAt(_)))==55296&&_+1<P&&(64512&(m=y.charCodeAt(_+1)))==56320&&(k=65536+(k-55296<<10)+(m-56320),_++),V+=k<128?1:k<2048?2:k<65536?3:4;for(p=o.uint8array?new Uint8Array(V):new Array(V),_=T=0;T<V;_++)(64512&(k=y.charCodeAt(_)))==55296&&_+1<P&&(64512&(m=y.charCodeAt(_+1)))==56320&&(k=65536+(k-55296<<10)+(m-56320),_++),k<128?p[T++]=k:(k<2048?p[T++]=192|k>>>6:(k<65536?p[T++]=224|k>>>12:(p[T++]=240|k>>>18,p[T++]=128|k>>>12&63),p[T++]=128|k>>>6&63),p[T++]=128|63&k);return p}(h)},i.utf8decode=function(h){return o.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):function(y){var p,k,m,_,T=y.length,P=new Array(2*T);for(p=k=0;p<T;)if((m=y[p++])<128)P[k++]=m;else if(4<(_=c[m]))P[k++]=65533,p+=_-1;else{for(m&=_===2?31:_===3?15:7;1<_&&p<T;)m=m<<6|63&y[p++],_--;1<_?P[k++]=65533:m<65536?P[k++]=m:(m-=65536,P[k++]=55296|m>>10&1023,P[k++]=56320|1023&m)}return P.length!==k&&(P.subarray?P=P.subarray(0,k):P.length=k),s.applyFromCharCode(P)}(h=s.transformTo(o.uint8array?"uint8array":"array",h))},s.inherits(g,u),g.prototype.processChunk=function(h){var y=s.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var p=y;(y=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),y.set(p,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var k=function(_,T){var P;for((T=T||_.length)>_.length&&(T=_.length),P=T-1;0<=P&&(192&_[P])==128;)P--;return P<0||P===0?T:P+c[_[P]]>T?P:T}(y),m=y;k!==y.length&&(o.uint8array?(m=y.subarray(0,k),this.leftOver=y.subarray(k,y.length)):(m=y.slice(0,k),this.leftOver=y.slice(k,y.length))),this.push({data:i.utf8decode(m),meta:h.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,s.inherits(v,u),v.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),l=n("./nodejsUtils"),u=n("./external");function c(p){return p}function f(p,k){for(var m=0;m<p.length;++m)k[m]=255&p.charCodeAt(m);return k}n("setimmediate"),i.newBlob=function(p,k){i.checkSupport("blob");try{return new Blob([p],{type:k})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(p),m.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(p,k,m){var _=[],T=0,P=p.length;if(P<=m)return String.fromCharCode.apply(null,p);for(;T<P;)k==="array"||k==="nodebuffer"?_.push(String.fromCharCode.apply(null,p.slice(T,Math.min(T+m,P)))):_.push(String.fromCharCode.apply(null,p.subarray(T,Math.min(T+m,P)))),T+=m;return _.join("")},stringifyByChar:function(p){for(var k="",m=0;m<p.length;m++)k+=String.fromCharCode(p[m]);return k},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function v(p){var k=65536,m=i.getTypeOf(p),_=!0;if(m==="uint8array"?_=g.applyCanBeUsed.uint8array:m==="nodebuffer"&&(_=g.applyCanBeUsed.nodebuffer),_)for(;1<k;)try{return g.stringifyByChunk(p,m,k)}catch{k=Math.floor(k/2)}return g.stringifyByChar(p)}function h(p,k){for(var m=0;m<p.length;m++)k[m]=p[m];return k}i.applyFromCharCode=v;var y={};y.string={string:c,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return y.string.uint8array(p).buffer},uint8array:function(p){return f(p,new Uint8Array(p.length))},nodebuffer:function(p){return f(p,l.allocBuffer(p.length))}},y.array={string:v,array:c,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return l.newBufferFrom(p)}},y.arraybuffer={string:function(p){return v(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:c,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return l.newBufferFrom(new Uint8Array(p))}},y.uint8array={string:v,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:c,nodebuffer:function(p){return l.newBufferFrom(p)}},y.nodebuffer={string:v,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return y.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:c},i.transformTo=function(p,k){if(k=k||"",!p)return k;i.checkSupport(p);var m=i.getTypeOf(k);return y[m][p](k)},i.resolve=function(p){for(var k=p.split("/"),m=[],_=0;_<k.length;_++){var T=k[_];T==="."||T===""&&_!==0&&_!==k.length-1||(T===".."?m.pop():m.push(T))}return m.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(p)?"nodebuffer":s.uint8array&&p instanceof Uint8Array?"uint8array":s.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!s[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var k,m,_="";for(m=0;m<(p||"").length;m++)_+="\\x"+((k=p.charCodeAt(m))<16?"0":"")+k.toString(16).toUpperCase();return _},i.delay=function(p,k,m){setImmediate(function(){p.apply(m||null,k||[])})},i.inherits=function(p,k){function m(){}m.prototype=k.prototype,p.prototype=new m},i.extend=function(){var p,k,m={};for(p=0;p<arguments.length;p++)for(k in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],k)&&m[k]===void 0&&(m[k]=arguments[p][k]);return m},i.prepareContent=function(p,k,m,_,T){return u.Promise.resolve(k).then(function(P){return s.blob&&(P instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(P))!==-1)&&typeof FileReader<"u"?new u.Promise(function(V,O){var C=new FileReader;C.onload=function(I){V(I.target.result)},C.onerror=function(I){O(I.target.error)},C.readAsArrayBuffer(P)}):P}).then(function(P){var V=i.getTypeOf(P);return V?(V==="arraybuffer"?P=i.transformTo("uint8array",P):V==="string"&&(T?P=o.decode(P):m&&_!==!0&&(P=function(O){return f(O,s.uint8array?new Uint8Array(O.length):new Array(O.length))}(P))),P):u.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),l=n("./signature"),u=n("./zipEntry"),c=n("./support");function f(g){this.files=[],this.loadOptions=g}f.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(v)+", expected "+o.pretty(g)+")")}},isSignature:function(g,v){var h=this.reader.index;this.reader.setIndex(g);var y=this.reader.readString(4)===v;return this.reader.setIndex(h),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),v=c.uint8array?"uint8array":"array",h=o.transformTo(v,g);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,v,h,y=this.zip64EndOfCentralSize-44;0<y;)g=this.reader.readInt(2),v=this.reader.readInt(4),h=this.reader.readData(v),this.zip64ExtensibleData[g]={id:g,length:v,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,v;for(g=0;g<this.files.length;g++)v=this.files[g],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(g=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var v=g;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var y=v-h;if(0<y)this.isSignature(v,l.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(g){this.reader=s(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),l=n("./compressedObject"),u=n("./crc32"),c=n("./utf8"),f=n("./compressions"),g=n("./support");function v(h,y){this.options=h,this.loadOptions=y}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var y,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(k){for(var m in f)if(Object.prototype.hasOwnProperty.call(f,m)&&f[m].magic===k)return f[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,y,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var y=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(y),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var y,p,k,m=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<m;)y=h.readInt(2),p=h.readInt(2),k=h.readData(p),this.extraFields[y]={id:y,length:p,value:k};h.setIndex(m)},handleUTF8:function(){var h=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var p=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var m=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var y=s(h.value);return y.readInt(1)!==1||u(this.fileName)!==y.readInt(4)?null:c.utf8decode(y.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var y=s(h.value);return y.readInt(1)!==1||u(this.fileComment)!==y.readInt(4)?null:c.utf8decode(y.readData(h.length-5))}return null}},r.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(y,p,k){this.name=y,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=p,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var o=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),u=n("./utf8"),c=n("./compressedObject"),f=n("./stream/GenericWorker");s.prototype={internalStream:function(y){var p=null,k="string";try{if(!y)throw new Error("No output type specified.");var m=(k=y.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),p=this._decompressWorker();var _=!this._dataBinary;_&&!m&&(p=p.pipe(new u.Utf8EncodeWorker)),!_&&m&&(p=p.pipe(new u.Utf8DecodeWorker))}catch(T){(p=new f("error")).error(T)}return new o(p,k,"")},async:function(y,p){return this.internalStream(y).accumulate(p)},nodeStream:function(y,p){return this.internalStream(y||"nodebuffer").toNodejsStream(p)},_compressWorker:function(y,p){if(this._data instanceof c&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new u.Utf8EncodeWorker)),c.createWorkerFrom(k,y,p)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof f?this._data:new l(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<g.length;h++)s.prototype[g[h]]=v;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,l,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var c=0,f=new u(y),g=s.document.createTextNode("");f.observe(g,{characterData:!0}),o=function(){g.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var p=s.document.createElement("script");p.onreadystatechange=function(){y(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:function(){setTimeout(y,0)};else{var v=new s.MessageChannel;v.port1.onmessage=y,o=function(){v.port2.postMessage(0)}}var h=[];function y(){var p,k;l=!0;for(var m=h.length;m;){for(k=h,h=[],p=-1;++p<m;)k[p]();m=h.length}l=!1}r.exports=function(p){h.push(p)!==1||l||o()}}).call(this,typeof Oo<"u"?Oo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var l={},u=["REJECTED"],c=["FULFILLED"],f=["PENDING"];function g(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,m!==o&&p(this,m)}function v(m,_,T){this.promise=m,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function h(m,_,T){s(function(){var P;try{P=_(T)}catch(V){return l.reject(m,V)}P===m?l.reject(m,new TypeError("Cannot resolve promise with itself")):l.resolve(m,P)})}function y(m){var _=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof _=="function")return function(){_.apply(m,arguments)}}function p(m,_){var T=!1;function P(C){T||(T=!0,l.reject(m,C))}function V(C){T||(T=!0,l.resolve(m,C))}var O=k(function(){_(V,P)});O.status==="error"&&P(O.value)}function k(m,_){var T={};try{T.value=m(_),T.status="success"}catch(P){T.status="error",T.value=P}return T}(r.exports=g).prototype.finally=function(m){if(typeof m!="function")return this;var _=this.constructor;return this.then(function(T){return _.resolve(m()).then(function(){return T})},function(T){return _.resolve(m()).then(function(){throw T})})},g.prototype.catch=function(m){return this.then(null,m)},g.prototype.then=function(m,_){if(typeof m!="function"&&this.state===c||typeof _!="function"&&this.state===u)return this;var T=new this.constructor(o);return this.state!==f?h(T,this.state===c?m:_,this.outcome):this.queue.push(new v(T,m,_)),T},v.prototype.callFulfilled=function(m){l.resolve(this.promise,m)},v.prototype.otherCallFulfilled=function(m){h(this.promise,this.onFulfilled,m)},v.prototype.callRejected=function(m){l.reject(this.promise,m)},v.prototype.otherCallRejected=function(m){h(this.promise,this.onRejected,m)},l.resolve=function(m,_){var T=k(y,_);if(T.status==="error")return l.reject(m,T.value);var P=T.value;if(P)p(m,P);else{m.state=c,m.outcome=_;for(var V=-1,O=m.queue.length;++V<O;)m.queue[V].callFulfilled(_)}return m},l.reject=function(m,_){m.state=u,m.outcome=_;for(var T=-1,P=m.queue.length;++T<P;)m.queue[T].callRejected(_);return m},g.resolve=function(m){return m instanceof this?m:l.resolve(new this(o),m)},g.reject=function(m){var _=new this(o);return l.reject(_,m)},g.all=function(m){var _=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=m.length,P=!1;if(!T)return this.resolve([]);for(var V=new Array(T),O=0,C=-1,I=new this(o);++C<T;)N(m[C],C);return I;function N(D,z){_.resolve(D).then(function(A){V[z]=A,++O!==T||P||(P=!0,l.resolve(I,V))},function(A){P||(P=!0,l.reject(I,A))})}},g.race=function(m){var _=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=m.length,P=!1;if(!T)return this.resolve([]);for(var V=-1,O=new this(o);++V<T;)C=m[V],_.resolve(C).then(function(I){P||(P=!0,l.resolve(O,I))},function(I){P||(P=!0,l.reject(O,I))});var C;return O}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),l=n("./utils/strings"),u=n("./zlib/messages"),c=n("./zlib/zstream"),f=Object.prototype.toString,g=0,v=-1,h=0,y=8;function p(m){if(!(this instanceof p))return new p(m);this.options=o.assign({level:v,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},m||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var T=s.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(T!==g)throw new Error(u[T]);if(_.header&&s.deflateSetHeader(this.strm,_.header),_.dictionary){var P;if(P=typeof _.dictionary=="string"?l.string2buf(_.dictionary):f.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(T=s.deflateSetDictionary(this.strm,P))!==g)throw new Error(u[T]);this._dict_set=!0}}function k(m,_){var T=new p(_);if(T.push(m,!0),T.err)throw T.msg||u[T.err];return T.result}p.prototype.push=function(m,_){var T,P,V=this.strm,O=this.options.chunkSize;if(this.ended)return!1;P=_===~~_?_:_===!0?4:0,typeof m=="string"?V.input=l.string2buf(m):f.call(m)==="[object ArrayBuffer]"?V.input=new Uint8Array(m):V.input=m,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new o.Buf8(O),V.next_out=0,V.avail_out=O),(T=s.deflate(V,P))!==1&&T!==g)return this.onEnd(T),!(this.ended=!0);V.avail_out!==0&&(V.avail_in!==0||P!==4&&P!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(V.output,V.next_out))):this.onData(o.shrinkBuf(V.output,V.next_out)))}while((0<V.avail_in||V.avail_out===0)&&T!==1);return P===4?(T=s.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===g):P!==2||(this.onEnd(g),!(V.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=p,i.deflate=k,i.deflateRaw=function(m,_){return(_=_||{}).raw=!0,k(m,_)},i.gzip=function(m,_){return(_=_||{}).gzip=!0,k(m,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),l=n("./utils/strings"),u=n("./zlib/constants"),c=n("./zlib/messages"),f=n("./zlib/zstream"),g=n("./zlib/gzheader"),v=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||p&&p.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,k.windowBits);if(m!==u.Z_OK)throw new Error(c[m]);this.header=new g,s.inflateGetHeader(this.strm,this.header)}function y(p,k){var m=new h(k);if(m.push(p,!0),m.err)throw m.msg||c[m.err];return m.result}h.prototype.push=function(p,k){var m,_,T,P,V,O,C=this.strm,I=this.options.chunkSize,N=this.options.dictionary,D=!1;if(this.ended)return!1;_=k===~~k?k:k===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof p=="string"?C.input=l.binstring2buf(p):v.call(p)==="[object ArrayBuffer]"?C.input=new Uint8Array(p):C.input=p,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(I),C.next_out=0,C.avail_out=I),(m=s.inflate(C,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&N&&(O=typeof N=="string"?l.string2buf(N):v.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,m=s.inflateSetDictionary(this.strm,O)),m===u.Z_BUF_ERROR&&D===!0&&(m=u.Z_OK,D=!1),m!==u.Z_STREAM_END&&m!==u.Z_OK)return this.onEnd(m),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&m!==u.Z_STREAM_END&&(C.avail_in!==0||_!==u.Z_FINISH&&_!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=l.utf8border(C.output,C.next_out),P=C.next_out-T,V=l.buf2string(C.output,T),C.next_out=P,C.avail_out=I-P,P&&o.arraySet(C.output,C.output,T,P,0),this.onData(V)):this.onData(o.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(D=!0)}while((0<C.avail_in||C.avail_out===0)&&m!==u.Z_STREAM_END);return m===u.Z_STREAM_END&&(_=u.Z_FINISH),_===u.Z_FINISH?(m=s.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===u.Z_OK):_!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(C.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=h,i.inflate=y,i.inflateRaw=function(p,k){return(k=k||{}).raw=!0,y(p,k)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var f=c.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var g in f)f.hasOwnProperty(g)&&(u[g]=f[g])}}return u},i.shrinkBuf=function(u,c){return u.length===c?u:u.subarray?u.subarray(0,c):(u.length=c,u)};var o={arraySet:function(u,c,f,g,v){if(c.subarray&&u.subarray)u.set(c.subarray(f,f+g),v);else for(var h=0;h<g;h++)u[v+h]=c[f+h]},flattenChunks:function(u){var c,f,g,v,h,y;for(c=g=0,f=u.length;c<f;c++)g+=u[c].length;for(y=new Uint8Array(g),c=v=0,f=u.length;c<f;c++)h=u[c],y.set(h,v),v+=h.length;return y}},l={arraySet:function(u,c,f,g,v){for(var h=0;h<g;h++)u[v+h]=c[f+h]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new s.Buf8(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function f(g,v){if(v<65537&&(g.subarray&&l||!g.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(g,v));for(var h="",y=0;y<v;y++)h+=String.fromCharCode(g[y]);return h}u[254]=u[254]=1,i.string2buf=function(g){var v,h,y,p,k,m=g.length,_=0;for(p=0;p<m;p++)(64512&(h=g.charCodeAt(p)))==55296&&p+1<m&&(64512&(y=g.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),p++),_+=h<128?1:h<2048?2:h<65536?3:4;for(v=new s.Buf8(_),p=k=0;k<_;p++)(64512&(h=g.charCodeAt(p)))==55296&&p+1<m&&(64512&(y=g.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),p++),h<128?v[k++]=h:(h<2048?v[k++]=192|h>>>6:(h<65536?v[k++]=224|h>>>12:(v[k++]=240|h>>>18,v[k++]=128|h>>>12&63),v[k++]=128|h>>>6&63),v[k++]=128|63&h);return v},i.buf2binstring=function(g){return f(g,g.length)},i.binstring2buf=function(g){for(var v=new s.Buf8(g.length),h=0,y=v.length;h<y;h++)v[h]=g.charCodeAt(h);return v},i.buf2string=function(g,v){var h,y,p,k,m=v||g.length,_=new Array(2*m);for(h=y=0;h<m;)if((p=g[h++])<128)_[y++]=p;else if(4<(k=u[p]))_[y++]=65533,h+=k-1;else{for(p&=k===2?31:k===3?15:7;1<k&&h<m;)p=p<<6|63&g[h++],k--;1<k?_[y++]=65533:p<65536?_[y++]=p:(p-=65536,_[y++]=55296|p>>10&1023,_[y++]=56320|1023&p)}return f(_,y)},i.utf8border=function(g,v){var h;for((v=v||g.length)>g.length&&(v=g.length),h=v-1;0<=h&&(192&g[h])==128;)h--;return h<0||h===0?v:h+u[g[h]]>v?h:v}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,l,u){for(var c=65535&s|0,f=s>>>16&65535|0,g=0;l!==0;){for(l-=g=2e3<l?2e3:l;f=f+(c=c+o[u++]|0)|0,--g;);c%=65521,f%=65521}return c|f<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();r.exports=function(o,l,u,c){var f=s,g=c+u;o^=-1;for(var v=c;v<g;v++)o=o>>>8^f[255&(o^l[v])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),l=n("./trees"),u=n("./adler32"),c=n("./crc32"),f=n("./messages"),g=0,v=4,h=0,y=-2,p=-1,k=4,m=2,_=8,T=9,P=286,V=30,O=19,C=2*P+1,I=15,N=3,D=258,z=D+N+1,A=42,b=113,S=1,q=2,me=3,Z=4;function G(E,Q){return E.msg=f[Q],Q}function K(E){return(E<<1)-(4<E?9:0)}function ne(E){for(var Q=E.length;0<=--Q;)E[Q]=0}function U(E){var Q=E.state,H=Q.pending;H>E.avail_out&&(H=E.avail_out),H!==0&&(o.arraySet(E.output,Q.pending_buf,Q.pending_out,H,E.next_out),E.next_out+=H,Q.pending_out+=H,E.total_out+=H,E.avail_out-=H,Q.pending-=H,Q.pending===0&&(Q.pending_out=0))}function F(E,Q){l._tr_flush_block(E,0<=E.block_start?E.block_start:-1,E.strstart-E.block_start,Q),E.block_start=E.strstart,U(E.strm)}function le(E,Q){E.pending_buf[E.pending++]=Q}function ae(E,Q){E.pending_buf[E.pending++]=Q>>>8&255,E.pending_buf[E.pending++]=255&Q}function se(E,Q){var H,M,j=E.max_chain_length,L=E.strstart,Y=E.prev_length,X=E.nice_match,$=E.strstart>E.w_size-z?E.strstart-(E.w_size-z):0,re=E.window,ue=E.w_mask,ie=E.prev,fe=E.strstart+D,xe=re[L+Y-1],_e=re[L+Y];E.prev_length>=E.good_match&&(j>>=2),X>E.lookahead&&(X=E.lookahead);do if(re[(H=Q)+Y]===_e&&re[H+Y-1]===xe&&re[H]===re[L]&&re[++H]===re[L+1]){L+=2,H++;do;while(re[++L]===re[++H]&&re[++L]===re[++H]&&re[++L]===re[++H]&&re[++L]===re[++H]&&re[++L]===re[++H]&&re[++L]===re[++H]&&re[++L]===re[++H]&&re[++L]===re[++H]&&L<fe);if(M=D-(fe-L),L=fe-D,Y<M){if(E.match_start=Q,X<=(Y=M))break;xe=re[L+Y-1],_e=re[L+Y]}}while((Q=ie[Q&ue])>$&&--j!=0);return Y<=E.lookahead?Y:E.lookahead}function Re(E){var Q,H,M,j,L,Y,X,$,re,ue,ie=E.w_size;do{if(j=E.window_size-E.lookahead-E.strstart,E.strstart>=ie+(ie-z)){for(o.arraySet(E.window,E.window,ie,ie,0),E.match_start-=ie,E.strstart-=ie,E.block_start-=ie,Q=H=E.hash_size;M=E.head[--Q],E.head[Q]=ie<=M?M-ie:0,--H;);for(Q=H=ie;M=E.prev[--Q],E.prev[Q]=ie<=M?M-ie:0,--H;);j+=ie}if(E.strm.avail_in===0)break;if(Y=E.strm,X=E.window,$=E.strstart+E.lookahead,re=j,ue=void 0,ue=Y.avail_in,re<ue&&(ue=re),H=ue===0?0:(Y.avail_in-=ue,o.arraySet(X,Y.input,Y.next_in,ue,$),Y.state.wrap===1?Y.adler=u(Y.adler,X,ue,$):Y.state.wrap===2&&(Y.adler=c(Y.adler,X,ue,$)),Y.next_in+=ue,Y.total_in+=ue,ue),E.lookahead+=H,E.lookahead+E.insert>=N)for(L=E.strstart-E.insert,E.ins_h=E.window[L],E.ins_h=(E.ins_h<<E.hash_shift^E.window[L+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[L+N-1])&E.hash_mask,E.prev[L&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=L,L++,E.insert--,!(E.lookahead+E.insert<N)););}while(E.lookahead<z&&E.strm.avail_in!==0)}function Ve(E,Q){for(var H,M;;){if(E.lookahead<z){if(Re(E),E.lookahead<z&&Q===g)return S;if(E.lookahead===0)break}if(H=0,E.lookahead>=N&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+N-1])&E.hash_mask,H=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),H!==0&&E.strstart-H<=E.w_size-z&&(E.match_length=se(E,H)),E.match_length>=N)if(M=l._tr_tally(E,E.strstart-E.match_start,E.match_length-N),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=N){for(E.match_length--;E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+N-1])&E.hash_mask,H=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart,--E.match_length!=0;);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else M=l._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(M&&(F(E,!1),E.strm.avail_out===0))return S}return E.insert=E.strstart<N-1?E.strstart:N-1,Q===v?(F(E,!0),E.strm.avail_out===0?me:Z):E.last_lit&&(F(E,!1),E.strm.avail_out===0)?S:q}function ke(E,Q){for(var H,M,j;;){if(E.lookahead<z){if(Re(E),E.lookahead<z&&Q===g)return S;if(E.lookahead===0)break}if(H=0,E.lookahead>=N&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+N-1])&E.hash_mask,H=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=N-1,H!==0&&E.prev_length<E.max_lazy_match&&E.strstart-H<=E.w_size-z&&(E.match_length=se(E,H),E.match_length<=5&&(E.strategy===1||E.match_length===N&&4096<E.strstart-E.match_start)&&(E.match_length=N-1)),E.prev_length>=N&&E.match_length<=E.prev_length){for(j=E.strstart+E.lookahead-N,M=l._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-N),E.lookahead-=E.prev_length-1,E.prev_length-=2;++E.strstart<=j&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+N-1])&E.hash_mask,H=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),--E.prev_length!=0;);if(E.match_available=0,E.match_length=N-1,E.strstart++,M&&(F(E,!1),E.strm.avail_out===0))return S}else if(E.match_available){if((M=l._tr_tally(E,0,E.window[E.strstart-1]))&&F(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return S}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(M=l._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<N-1?E.strstart:N-1,Q===v?(F(E,!0),E.strm.avail_out===0?me:Z):E.last_lit&&(F(E,!1),E.strm.avail_out===0)?S:q}function Ce(E,Q,H,M,j){this.good_length=E,this.max_lazy=Q,this.nice_length=H,this.max_chain=M,this.func=j}function He(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*C),this.dyn_dtree=new o.Buf16(2*(2*V+1)),this.bl_tree=new o.Buf16(2*(2*O+1)),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(I+1),this.heap=new o.Buf16(2*P+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*P+1),ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Oe(E){var Q;return E&&E.state?(E.total_in=E.total_out=0,E.data_type=m,(Q=E.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?A:b,E.adler=Q.wrap===2?0:1,Q.last_flush=g,l._tr_init(Q),h):G(E,y)}function Dt(E){var Q=Oe(E);return Q===h&&function(H){H.window_size=2*H.w_size,ne(H.head),H.max_lazy_match=s[H.level].max_lazy,H.good_match=s[H.level].good_length,H.nice_match=s[H.level].nice_length,H.max_chain_length=s[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=N-1,H.match_available=0,H.ins_h=0}(E.state),Q}function At(E,Q,H,M,j,L){if(!E)return y;var Y=1;if(Q===p&&(Q=6),M<0?(Y=0,M=-M):15<M&&(Y=2,M-=16),j<1||T<j||H!==_||M<8||15<M||Q<0||9<Q||L<0||k<L)return G(E,y);M===8&&(M=9);var X=new He;return(E.state=X).strm=E,X.wrap=Y,X.gzhead=null,X.w_bits=M,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=j+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+N-1)/N),X.window=new o.Buf8(2*X.w_size),X.head=new o.Buf16(X.hash_size),X.prev=new o.Buf16(X.w_size),X.lit_bufsize=1<<j+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new o.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=Q,X.strategy=L,X.method=H,Dt(E)}s=[new Ce(0,0,0,0,function(E,Q){var H=65535;for(H>E.pending_buf_size-5&&(H=E.pending_buf_size-5);;){if(E.lookahead<=1){if(Re(E),E.lookahead===0&&Q===g)return S;if(E.lookahead===0)break}E.strstart+=E.lookahead,E.lookahead=0;var M=E.block_start+H;if((E.strstart===0||E.strstart>=M)&&(E.lookahead=E.strstart-M,E.strstart=M,F(E,!1),E.strm.avail_out===0)||E.strstart-E.block_start>=E.w_size-z&&(F(E,!1),E.strm.avail_out===0))return S}return E.insert=0,Q===v?(F(E,!0),E.strm.avail_out===0?me:Z):(E.strstart>E.block_start&&(F(E,!1),E.strm.avail_out),S)}),new Ce(4,4,8,4,Ve),new Ce(4,5,16,8,Ve),new Ce(4,6,32,32,Ve),new Ce(4,4,16,16,ke),new Ce(8,16,32,32,ke),new Ce(8,16,128,128,ke),new Ce(8,32,128,256,ke),new Ce(32,128,258,1024,ke),new Ce(32,258,258,4096,ke)],i.deflateInit=function(E,Q){return At(E,Q,_,15,8,0)},i.deflateInit2=At,i.deflateReset=Dt,i.deflateResetKeep=Oe,i.deflateSetHeader=function(E,Q){return E&&E.state?E.state.wrap!==2?y:(E.state.gzhead=Q,h):y},i.deflate=function(E,Q){var H,M,j,L;if(!E||!E.state||5<Q||Q<0)return E?G(E,y):y;if(M=E.state,!E.output||!E.input&&E.avail_in!==0||M.status===666&&Q!==v)return G(E,E.avail_out===0?-5:y);if(M.strm=E,H=M.last_flush,M.last_flush=Q,M.status===A)if(M.wrap===2)E.adler=0,le(M,31),le(M,139),le(M,8),M.gzhead?(le(M,(M.gzhead.text?1:0)+(M.gzhead.hcrc?2:0)+(M.gzhead.extra?4:0)+(M.gzhead.name?8:0)+(M.gzhead.comment?16:0)),le(M,255&M.gzhead.time),le(M,M.gzhead.time>>8&255),le(M,M.gzhead.time>>16&255),le(M,M.gzhead.time>>24&255),le(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),le(M,255&M.gzhead.os),M.gzhead.extra&&M.gzhead.extra.length&&(le(M,255&M.gzhead.extra.length),le(M,M.gzhead.extra.length>>8&255)),M.gzhead.hcrc&&(E.adler=c(E.adler,M.pending_buf,M.pending,0)),M.gzindex=0,M.status=69):(le(M,0),le(M,0),le(M,0),le(M,0),le(M,0),le(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),le(M,3),M.status=b);else{var Y=_+(M.w_bits-8<<4)<<8;Y|=(2<=M.strategy||M.level<2?0:M.level<6?1:M.level===6?2:3)<<6,M.strstart!==0&&(Y|=32),Y+=31-Y%31,M.status=b,ae(M,Y),M.strstart!==0&&(ae(M,E.adler>>>16),ae(M,65535&E.adler)),E.adler=1}if(M.status===69)if(M.gzhead.extra){for(j=M.pending;M.gzindex<(65535&M.gzhead.extra.length)&&(M.pending!==M.pending_buf_size||(M.gzhead.hcrc&&M.pending>j&&(E.adler=c(E.adler,M.pending_buf,M.pending-j,j)),U(E),j=M.pending,M.pending!==M.pending_buf_size));)le(M,255&M.gzhead.extra[M.gzindex]),M.gzindex++;M.gzhead.hcrc&&M.pending>j&&(E.adler=c(E.adler,M.pending_buf,M.pending-j,j)),M.gzindex===M.gzhead.extra.length&&(M.gzindex=0,M.status=73)}else M.status=73;if(M.status===73)if(M.gzhead.name){j=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>j&&(E.adler=c(E.adler,M.pending_buf,M.pending-j,j)),U(E),j=M.pending,M.pending===M.pending_buf_size)){L=1;break}L=M.gzindex<M.gzhead.name.length?255&M.gzhead.name.charCodeAt(M.gzindex++):0,le(M,L)}while(L!==0);M.gzhead.hcrc&&M.pending>j&&(E.adler=c(E.adler,M.pending_buf,M.pending-j,j)),L===0&&(M.gzindex=0,M.status=91)}else M.status=91;if(M.status===91)if(M.gzhead.comment){j=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>j&&(E.adler=c(E.adler,M.pending_buf,M.pending-j,j)),U(E),j=M.pending,M.pending===M.pending_buf_size)){L=1;break}L=M.gzindex<M.gzhead.comment.length?255&M.gzhead.comment.charCodeAt(M.gzindex++):0,le(M,L)}while(L!==0);M.gzhead.hcrc&&M.pending>j&&(E.adler=c(E.adler,M.pending_buf,M.pending-j,j)),L===0&&(M.status=103)}else M.status=103;if(M.status===103&&(M.gzhead.hcrc?(M.pending+2>M.pending_buf_size&&U(E),M.pending+2<=M.pending_buf_size&&(le(M,255&E.adler),le(M,E.adler>>8&255),E.adler=0,M.status=b)):M.status=b),M.pending!==0){if(U(E),E.avail_out===0)return M.last_flush=-1,h}else if(E.avail_in===0&&K(Q)<=K(H)&&Q!==v)return G(E,-5);if(M.status===666&&E.avail_in!==0)return G(E,-5);if(E.avail_in!==0||M.lookahead!==0||Q!==g&&M.status!==666){var X=M.strategy===2?function($,re){for(var ue;;){if($.lookahead===0&&(Re($),$.lookahead===0)){if(re===g)return S;break}if($.match_length=0,ue=l._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,ue&&(F($,!1),$.strm.avail_out===0))return S}return $.insert=0,re===v?(F($,!0),$.strm.avail_out===0?me:Z):$.last_lit&&(F($,!1),$.strm.avail_out===0)?S:q}(M,Q):M.strategy===3?function($,re){for(var ue,ie,fe,xe,_e=$.window;;){if($.lookahead<=D){if(Re($),$.lookahead<=D&&re===g)return S;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=N&&0<$.strstart&&(ie=_e[fe=$.strstart-1])===_e[++fe]&&ie===_e[++fe]&&ie===_e[++fe]){xe=$.strstart+D;do;while(ie===_e[++fe]&&ie===_e[++fe]&&ie===_e[++fe]&&ie===_e[++fe]&&ie===_e[++fe]&&ie===_e[++fe]&&ie===_e[++fe]&&ie===_e[++fe]&&fe<xe);$.match_length=D-(xe-fe),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=N?(ue=l._tr_tally($,1,$.match_length-N),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(ue=l._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),ue&&(F($,!1),$.strm.avail_out===0))return S}return $.insert=0,re===v?(F($,!0),$.strm.avail_out===0?me:Z):$.last_lit&&(F($,!1),$.strm.avail_out===0)?S:q}(M,Q):s[M.level].func(M,Q);if(X!==me&&X!==Z||(M.status=666),X===S||X===me)return E.avail_out===0&&(M.last_flush=-1),h;if(X===q&&(Q===1?l._tr_align(M):Q!==5&&(l._tr_stored_block(M,0,0,!1),Q===3&&(ne(M.head),M.lookahead===0&&(M.strstart=0,M.block_start=0,M.insert=0))),U(E),E.avail_out===0))return M.last_flush=-1,h}return Q!==v?h:M.wrap<=0?1:(M.wrap===2?(le(M,255&E.adler),le(M,E.adler>>8&255),le(M,E.adler>>16&255),le(M,E.adler>>24&255),le(M,255&E.total_in),le(M,E.total_in>>8&255),le(M,E.total_in>>16&255),le(M,E.total_in>>24&255)):(ae(M,E.adler>>>16),ae(M,65535&E.adler)),U(E),0<M.wrap&&(M.wrap=-M.wrap),M.pending!==0?h:1)},i.deflateEnd=function(E){var Q;return E&&E.state?(Q=E.state.status)!==A&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==b&&Q!==666?G(E,y):(E.state=null,Q===b?G(E,-3):h):y},i.deflateSetDictionary=function(E,Q){var H,M,j,L,Y,X,$,re,ue=Q.length;if(!E||!E.state||(L=(H=E.state).wrap)===2||L===1&&H.status!==A||H.lookahead)return y;for(L===1&&(E.adler=u(E.adler,Q,ue,0)),H.wrap=0,ue>=H.w_size&&(L===0&&(ne(H.head),H.strstart=0,H.block_start=0,H.insert=0),re=new o.Buf8(H.w_size),o.arraySet(re,Q,ue-H.w_size,H.w_size,0),Q=re,ue=H.w_size),Y=E.avail_in,X=E.next_in,$=E.input,E.avail_in=ue,E.next_in=0,E.input=Q,Re(H);H.lookahead>=N;){for(M=H.strstart,j=H.lookahead-(N-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[M+N-1])&H.hash_mask,H.prev[M&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=M,M++,--j;);H.strstart=M,H.lookahead=N-1,Re(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=N-1,H.match_available=0,E.next_in=X,E.input=$,E.avail_in=Y,H.wrap=L,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var l,u,c,f,g,v,h,y,p,k,m,_,T,P,V,O,C,I,N,D,z,A,b,S,q;l=s.state,u=s.next_in,S=s.input,c=u+(s.avail_in-5),f=s.next_out,q=s.output,g=f-(o-s.avail_out),v=f+(s.avail_out-257),h=l.dmax,y=l.wsize,p=l.whave,k=l.wnext,m=l.window,_=l.hold,T=l.bits,P=l.lencode,V=l.distcode,O=(1<<l.lenbits)-1,C=(1<<l.distbits)-1;e:do{T<15&&(_+=S[u++]<<T,T+=8,_+=S[u++]<<T,T+=8),I=P[_&O];t:for(;;){if(_>>>=N=I>>>24,T-=N,(N=I>>>16&255)===0)q[f++]=65535&I;else{if(!(16&N)){if(!(64&N)){I=P[(65535&I)+(_&(1<<N)-1)];continue t}if(32&N){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}D=65535&I,(N&=15)&&(T<N&&(_+=S[u++]<<T,T+=8),D+=_&(1<<N)-1,_>>>=N,T-=N),T<15&&(_+=S[u++]<<T,T+=8,_+=S[u++]<<T,T+=8),I=V[_&C];n:for(;;){if(_>>>=N=I>>>24,T-=N,!(16&(N=I>>>16&255))){if(!(64&N)){I=V[(65535&I)+(_&(1<<N)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if(z=65535&I,T<(N&=15)&&(_+=S[u++]<<T,(T+=8)<N&&(_+=S[u++]<<T,T+=8)),h<(z+=_&(1<<N)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(_>>>=N,T-=N,(N=f-g)<z){if(p<(N=z-N)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(b=m,(A=0)===k){if(A+=y-N,N<D){for(D-=N;q[f++]=m[A++],--N;);A=f-z,b=q}}else if(k<N){if(A+=y+k-N,(N-=k)<D){for(D-=N;q[f++]=m[A++],--N;);if(A=0,k<D){for(D-=N=k;q[f++]=m[A++],--N;);A=f-z,b=q}}}else if(A+=k-N,N<D){for(D-=N;q[f++]=m[A++],--N;);A=f-z,b=q}for(;2<D;)q[f++]=b[A++],q[f++]=b[A++],q[f++]=b[A++],D-=3;D&&(q[f++]=b[A++],1<D&&(q[f++]=b[A++]))}else{for(A=f-z;q[f++]=q[A++],q[f++]=q[A++],q[f++]=q[A++],2<(D-=3););D&&(q[f++]=q[A++],1<D&&(q[f++]=q[A++]))}break}}break}}while(u<c&&f<v);u-=D=T>>3,_&=(1<<(T-=D<<3))-1,s.next_in=u,s.next_out=f,s.avail_in=u<c?c-u+5:5-(u-c),s.avail_out=f<v?v-f+257:257-(f-v),l.hold=_,l.bits=T}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),l=n("./crc32"),u=n("./inffast"),c=n("./inftrees"),f=1,g=2,v=0,h=-2,y=1,p=852,k=592;function m(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(A){var b;return A&&A.state?(b=A.state,A.total_in=A.total_out=b.total=0,A.msg="",b.wrap&&(A.adler=1&b.wrap),b.mode=y,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new s.Buf32(p),b.distcode=b.distdyn=new s.Buf32(k),b.sane=1,b.back=-1,v):h}function P(A){var b;return A&&A.state?((b=A.state).wsize=0,b.whave=0,b.wnext=0,T(A)):h}function V(A,b){var S,q;return A&&A.state?(q=A.state,b<0?(S=0,b=-b):(S=1+(b>>4),b<48&&(b&=15)),b&&(b<8||15<b)?h:(q.window!==null&&q.wbits!==b&&(q.window=null),q.wrap=S,q.wbits=b,P(A))):h}function O(A,b){var S,q;return A?(q=new _,(A.state=q).window=null,(S=V(A,b))!==v&&(A.state=null),S):h}var C,I,N=!0;function D(A){if(N){var b;for(C=new s.Buf32(512),I=new s.Buf32(32),b=0;b<144;)A.lens[b++]=8;for(;b<256;)A.lens[b++]=9;for(;b<280;)A.lens[b++]=7;for(;b<288;)A.lens[b++]=8;for(c(f,A.lens,0,288,C,0,A.work,{bits:9}),b=0;b<32;)A.lens[b++]=5;c(g,A.lens,0,32,I,0,A.work,{bits:5}),N=!1}A.lencode=C,A.lenbits=9,A.distcode=I,A.distbits=5}function z(A,b,S,q){var me,Z=A.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new s.Buf8(Z.wsize)),q>=Z.wsize?(s.arraySet(Z.window,b,S-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(q<(me=Z.wsize-Z.wnext)&&(me=q),s.arraySet(Z.window,b,S-q,me,Z.wnext),(q-=me)?(s.arraySet(Z.window,b,S-q,q,0),Z.wnext=q,Z.whave=Z.wsize):(Z.wnext+=me,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=me))),0}i.inflateReset=P,i.inflateReset2=V,i.inflateResetKeep=T,i.inflateInit=function(A){return O(A,15)},i.inflateInit2=O,i.inflate=function(A,b){var S,q,me,Z,G,K,ne,U,F,le,ae,se,Re,Ve,ke,Ce,He,Oe,Dt,At,E,Q,H,M,j=0,L=new s.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return h;(S=A.state).mode===12&&(S.mode=13),G=A.next_out,me=A.output,ne=A.avail_out,Z=A.next_in,q=A.input,K=A.avail_in,U=S.hold,F=S.bits,le=K,ae=ne,Q=v;e:for(;;)switch(S.mode){case y:if(S.wrap===0){S.mode=13;break}for(;F<16;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}if(2&S.wrap&&U===35615){L[S.check=0]=255&U,L[1]=U>>>8&255,S.check=l(S.check,L,2,0),F=U=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&U)<<8)+(U>>8))%31){A.msg="incorrect header check",S.mode=30;break}if((15&U)!=8){A.msg="unknown compression method",S.mode=30;break}if(F-=4,E=8+(15&(U>>>=4)),S.wbits===0)S.wbits=E;else if(E>S.wbits){A.msg="invalid window size",S.mode=30;break}S.dmax=1<<E,A.adler=S.check=1,S.mode=512&U?10:12,F=U=0;break;case 2:for(;F<16;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}if(S.flags=U,(255&S.flags)!=8){A.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){A.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=U>>8&1),512&S.flags&&(L[0]=255&U,L[1]=U>>>8&255,S.check=l(S.check,L,2,0)),F=U=0,S.mode=3;case 3:for(;F<32;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}S.head&&(S.head.time=U),512&S.flags&&(L[0]=255&U,L[1]=U>>>8&255,L[2]=U>>>16&255,L[3]=U>>>24&255,S.check=l(S.check,L,4,0)),F=U=0,S.mode=4;case 4:for(;F<16;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}S.head&&(S.head.xflags=255&U,S.head.os=U>>8),512&S.flags&&(L[0]=255&U,L[1]=U>>>8&255,S.check=l(S.check,L,2,0)),F=U=0,S.mode=5;case 5:if(1024&S.flags){for(;F<16;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}S.length=U,S.head&&(S.head.extra_len=U),512&S.flags&&(L[0]=255&U,L[1]=U>>>8&255,S.check=l(S.check,L,2,0)),F=U=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(K<(se=S.length)&&(se=K),se&&(S.head&&(E=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),s.arraySet(S.head.extra,q,Z,se,E)),512&S.flags&&(S.check=l(S.check,q,se,Z)),K-=se,Z+=se,S.length-=se),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(K===0)break e;for(se=0;E=q[Z+se++],S.head&&E&&S.length<65536&&(S.head.name+=String.fromCharCode(E)),E&&se<K;);if(512&S.flags&&(S.check=l(S.check,q,se,Z)),K-=se,Z+=se,E)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(K===0)break e;for(se=0;E=q[Z+se++],S.head&&E&&S.length<65536&&(S.head.comment+=String.fromCharCode(E)),E&&se<K;);if(512&S.flags&&(S.check=l(S.check,q,se,Z)),K-=se,Z+=se,E)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;F<16;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}if(U!==(65535&S.check)){A.msg="header crc mismatch",S.mode=30;break}F=U=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),A.adler=S.check=0,S.mode=12;break;case 10:for(;F<32;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}A.adler=S.check=m(U),F=U=0,S.mode=11;case 11:if(S.havedict===0)return A.next_out=G,A.avail_out=ne,A.next_in=Z,A.avail_in=K,S.hold=U,S.bits=F,2;A.adler=S.check=1,S.mode=12;case 12:if(b===5||b===6)break e;case 13:if(S.last){U>>>=7&F,F-=7&F,S.mode=27;break}for(;F<3;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}switch(S.last=1&U,F-=1,3&(U>>>=1)){case 0:S.mode=14;break;case 1:if(D(S),S.mode=20,b!==6)break;U>>>=2,F-=2;break e;case 2:S.mode=17;break;case 3:A.msg="invalid block type",S.mode=30}U>>>=2,F-=2;break;case 14:for(U>>>=7&F,F-=7&F;F<32;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}if((65535&U)!=(U>>>16^65535)){A.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&U,F=U=0,S.mode=15,b===6)break e;case 15:S.mode=16;case 16:if(se=S.length){if(K<se&&(se=K),ne<se&&(se=ne),se===0)break e;s.arraySet(me,q,Z,se,G),K-=se,Z+=se,ne-=se,G+=se,S.length-=se;break}S.mode=12;break;case 17:for(;F<14;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}if(S.nlen=257+(31&U),U>>>=5,F-=5,S.ndist=1+(31&U),U>>>=5,F-=5,S.ncode=4+(15&U),U>>>=4,F-=4,286<S.nlen||30<S.ndist){A.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;F<3;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}S.lens[Y[S.have++]]=7&U,U>>>=3,F-=3}for(;S.have<19;)S.lens[Y[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,H={bits:S.lenbits},Q=c(0,S.lens,0,19,S.lencode,0,S.work,H),S.lenbits=H.bits,Q){A.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;Ce=(j=S.lencode[U&(1<<S.lenbits)-1])>>>16&255,He=65535&j,!((ke=j>>>24)<=F);){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}if(He<16)U>>>=ke,F-=ke,S.lens[S.have++]=He;else{if(He===16){for(M=ke+2;F<M;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}if(U>>>=ke,F-=ke,S.have===0){A.msg="invalid bit length repeat",S.mode=30;break}E=S.lens[S.have-1],se=3+(3&U),U>>>=2,F-=2}else if(He===17){for(M=ke+3;F<M;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}F-=ke,E=0,se=3+(7&(U>>>=ke)),U>>>=3,F-=3}else{for(M=ke+7;F<M;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}F-=ke,E=0,se=11+(127&(U>>>=ke)),U>>>=7,F-=7}if(S.have+se>S.nlen+S.ndist){A.msg="invalid bit length repeat",S.mode=30;break}for(;se--;)S.lens[S.have++]=E}}if(S.mode===30)break;if(S.lens[256]===0){A.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,H={bits:S.lenbits},Q=c(f,S.lens,0,S.nlen,S.lencode,0,S.work,H),S.lenbits=H.bits,Q){A.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,H={bits:S.distbits},Q=c(g,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,H),S.distbits=H.bits,Q){A.msg="invalid distances set",S.mode=30;break}if(S.mode=20,b===6)break e;case 20:S.mode=21;case 21:if(6<=K&&258<=ne){A.next_out=G,A.avail_out=ne,A.next_in=Z,A.avail_in=K,S.hold=U,S.bits=F,u(A,ae),G=A.next_out,me=A.output,ne=A.avail_out,Z=A.next_in,q=A.input,K=A.avail_in,U=S.hold,F=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;Ce=(j=S.lencode[U&(1<<S.lenbits)-1])>>>16&255,He=65535&j,!((ke=j>>>24)<=F);){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}if(Ce&&!(240&Ce)){for(Oe=ke,Dt=Ce,At=He;Ce=(j=S.lencode[At+((U&(1<<Oe+Dt)-1)>>Oe)])>>>16&255,He=65535&j,!(Oe+(ke=j>>>24)<=F);){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}U>>>=Oe,F-=Oe,S.back+=Oe}if(U>>>=ke,F-=ke,S.back+=ke,S.length=He,Ce===0){S.mode=26;break}if(32&Ce){S.back=-1,S.mode=12;break}if(64&Ce){A.msg="invalid literal/length code",S.mode=30;break}S.extra=15&Ce,S.mode=22;case 22:if(S.extra){for(M=S.extra;F<M;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}S.length+=U&(1<<S.extra)-1,U>>>=S.extra,F-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;Ce=(j=S.distcode[U&(1<<S.distbits)-1])>>>16&255,He=65535&j,!((ke=j>>>24)<=F);){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}if(!(240&Ce)){for(Oe=ke,Dt=Ce,At=He;Ce=(j=S.distcode[At+((U&(1<<Oe+Dt)-1)>>Oe)])>>>16&255,He=65535&j,!(Oe+(ke=j>>>24)<=F);){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}U>>>=Oe,F-=Oe,S.back+=Oe}if(U>>>=ke,F-=ke,S.back+=ke,64&Ce){A.msg="invalid distance code",S.mode=30;break}S.offset=He,S.extra=15&Ce,S.mode=24;case 24:if(S.extra){for(M=S.extra;F<M;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}S.offset+=U&(1<<S.extra)-1,U>>>=S.extra,F-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){A.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(ne===0)break e;if(se=ae-ne,S.offset>se){if((se=S.offset-se)>S.whave&&S.sane){A.msg="invalid distance too far back",S.mode=30;break}Re=se>S.wnext?(se-=S.wnext,S.wsize-se):S.wnext-se,se>S.length&&(se=S.length),Ve=S.window}else Ve=me,Re=G-S.offset,se=S.length;for(ne<se&&(se=ne),ne-=se,S.length-=se;me[G++]=Ve[Re++],--se;);S.length===0&&(S.mode=21);break;case 26:if(ne===0)break e;me[G++]=S.length,ne--,S.mode=21;break;case 27:if(S.wrap){for(;F<32;){if(K===0)break e;K--,U|=q[Z++]<<F,F+=8}if(ae-=ne,A.total_out+=ae,S.total+=ae,ae&&(A.adler=S.check=S.flags?l(S.check,me,ae,G-ae):o(S.check,me,ae,G-ae)),ae=ne,(S.flags?U:m(U))!==S.check){A.msg="incorrect data check",S.mode=30;break}F=U=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;F<32;){if(K===0)break e;K--,U+=q[Z++]<<F,F+=8}if(U!==(4294967295&S.total)){A.msg="incorrect length check",S.mode=30;break}F=U=0}S.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;case 32:default:return h}return A.next_out=G,A.avail_out=ne,A.next_in=Z,A.avail_in=K,S.hold=U,S.bits=F,(S.wsize||ae!==A.avail_out&&S.mode<30&&(S.mode<27||b!==4))&&z(A,A.output,A.next_out,ae-A.avail_out)?(S.mode=31,-4):(le-=A.avail_in,ae-=A.avail_out,A.total_in+=le,A.total_out+=ae,S.total+=ae,S.wrap&&ae&&(A.adler=S.check=S.flags?l(S.check,me,ae,A.next_out-ae):o(S.check,me,ae,A.next_out-ae)),A.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(le==0&&ae===0||b===4)&&Q===v&&(Q=-5),Q)},i.inflateEnd=function(A){if(!A||!A.state)return h;var b=A.state;return b.window&&(b.window=null),A.state=null,v},i.inflateGetHeader=function(A,b){var S;return A&&A.state&&2&(S=A.state).wrap?((S.head=b).done=!1,v):h},i.inflateSetDictionary=function(A,b){var S,q=b.length;return A&&A.state?(S=A.state).wrap!==0&&S.mode!==11?h:S.mode===11&&o(1,b,q,0)!==S.check?-3:z(A,b,q,q)?(S.mode=31,-4):(S.havedict=1,v):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,g,v,h,y,p,k,m){var _,T,P,V,O,C,I,N,D,z=m.bits,A=0,b=0,S=0,q=0,me=0,Z=0,G=0,K=0,ne=0,U=0,F=null,le=0,ae=new s.Buf16(16),se=new s.Buf16(16),Re=null,Ve=0;for(A=0;A<=15;A++)ae[A]=0;for(b=0;b<h;b++)ae[g[v+b]]++;for(me=z,q=15;1<=q&&ae[q]===0;q--);if(q<me&&(me=q),q===0)return y[p++]=20971520,y[p++]=20971520,m.bits=1,0;for(S=1;S<q&&ae[S]===0;S++);for(me<S&&(me=S),A=K=1;A<=15;A++)if(K<<=1,(K-=ae[A])<0)return-1;if(0<K&&(f===0||q!==1))return-1;for(se[1]=0,A=1;A<15;A++)se[A+1]=se[A]+ae[A];for(b=0;b<h;b++)g[v+b]!==0&&(k[se[g[v+b]]++]=b);if(C=f===0?(F=Re=k,19):f===1?(F=o,le-=257,Re=l,Ve-=257,256):(F=u,Re=c,-1),A=S,O=p,G=b=U=0,P=-1,V=(ne=1<<(Z=me))-1,f===1&&852<ne||f===2&&592<ne)return 1;for(;;){for(I=A-G,D=k[b]<C?(N=0,k[b]):k[b]>C?(N=Re[Ve+k[b]],F[le+k[b]]):(N=96,0),_=1<<A-G,S=T=1<<Z;y[O+(U>>G)+(T-=_)]=I<<24|N<<16|D|0,T!==0;);for(_=1<<A-1;U&_;)_>>=1;if(_!==0?(U&=_-1,U+=_):U=0,b++,--ae[A]==0){if(A===q)break;A=g[v+k[b]]}if(me<A&&(U&V)!==P){for(G===0&&(G=me),O+=S,K=1<<(Z=A-G);Z+G<q&&!((K-=ae[Z+G])<=0);)Z++,K<<=1;if(ne+=1<<Z,f===1&&852<ne||f===2&&592<ne)return 1;y[P=U&V]=me<<24|Z<<16|O-p|0}}return U!==0&&(y[O+U]=A-G<<24|64<<16|0),m.bits=me,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,l=1;function u(j){for(var L=j.length;0<=--L;)j[L]=0}var c=0,f=29,g=256,v=g+1+f,h=30,y=19,p=2*v+1,k=15,m=16,_=7,T=256,P=16,V=17,O=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(v+2));u(z);var A=new Array(2*h);u(A);var b=new Array(512);u(b);var S=new Array(256);u(S);var q=new Array(f);u(q);var me,Z,G,K=new Array(h);function ne(j,L,Y,X,$){this.static_tree=j,this.extra_bits=L,this.extra_base=Y,this.elems=X,this.max_length=$,this.has_stree=j&&j.length}function U(j,L){this.dyn_tree=j,this.max_code=0,this.stat_desc=L}function F(j){return j<256?b[j]:b[256+(j>>>7)]}function le(j,L){j.pending_buf[j.pending++]=255&L,j.pending_buf[j.pending++]=L>>>8&255}function ae(j,L,Y){j.bi_valid>m-Y?(j.bi_buf|=L<<j.bi_valid&65535,le(j,j.bi_buf),j.bi_buf=L>>m-j.bi_valid,j.bi_valid+=Y-m):(j.bi_buf|=L<<j.bi_valid&65535,j.bi_valid+=Y)}function se(j,L,Y){ae(j,Y[2*L],Y[2*L+1])}function Re(j,L){for(var Y=0;Y|=1&j,j>>>=1,Y<<=1,0<--L;);return Y>>>1}function Ve(j,L,Y){var X,$,re=new Array(k+1),ue=0;for(X=1;X<=k;X++)re[X]=ue=ue+Y[X-1]<<1;for($=0;$<=L;$++){var ie=j[2*$+1];ie!==0&&(j[2*$]=Re(re[ie]++,ie))}}function ke(j){var L;for(L=0;L<v;L++)j.dyn_ltree[2*L]=0;for(L=0;L<h;L++)j.dyn_dtree[2*L]=0;for(L=0;L<y;L++)j.bl_tree[2*L]=0;j.dyn_ltree[2*T]=1,j.opt_len=j.static_len=0,j.last_lit=j.matches=0}function Ce(j){8<j.bi_valid?le(j,j.bi_buf):0<j.bi_valid&&(j.pending_buf[j.pending++]=j.bi_buf),j.bi_buf=0,j.bi_valid=0}function He(j,L,Y,X){var $=2*L,re=2*Y;return j[$]<j[re]||j[$]===j[re]&&X[L]<=X[Y]}function Oe(j,L,Y){for(var X=j.heap[Y],$=Y<<1;$<=j.heap_len&&($<j.heap_len&&He(L,j.heap[$+1],j.heap[$],j.depth)&&$++,!He(L,X,j.heap[$],j.depth));)j.heap[Y]=j.heap[$],Y=$,$<<=1;j.heap[Y]=X}function Dt(j,L,Y){var X,$,re,ue,ie=0;if(j.last_lit!==0)for(;X=j.pending_buf[j.d_buf+2*ie]<<8|j.pending_buf[j.d_buf+2*ie+1],$=j.pending_buf[j.l_buf+ie],ie++,X===0?se(j,$,L):(se(j,(re=S[$])+g+1,L),(ue=C[re])!==0&&ae(j,$-=q[re],ue),se(j,re=F(--X),Y),(ue=I[re])!==0&&ae(j,X-=K[re],ue)),ie<j.last_lit;);se(j,T,L)}function At(j,L){var Y,X,$,re=L.dyn_tree,ue=L.stat_desc.static_tree,ie=L.stat_desc.has_stree,fe=L.stat_desc.elems,xe=-1;for(j.heap_len=0,j.heap_max=p,Y=0;Y<fe;Y++)re[2*Y]!==0?(j.heap[++j.heap_len]=xe=Y,j.depth[Y]=0):re[2*Y+1]=0;for(;j.heap_len<2;)re[2*($=j.heap[++j.heap_len]=xe<2?++xe:0)]=1,j.depth[$]=0,j.opt_len--,ie&&(j.static_len-=ue[2*$+1]);for(L.max_code=xe,Y=j.heap_len>>1;1<=Y;Y--)Oe(j,re,Y);for($=fe;Y=j.heap[1],j.heap[1]=j.heap[j.heap_len--],Oe(j,re,1),X=j.heap[1],j.heap[--j.heap_max]=Y,j.heap[--j.heap_max]=X,re[2*$]=re[2*Y]+re[2*X],j.depth[$]=(j.depth[Y]>=j.depth[X]?j.depth[Y]:j.depth[X])+1,re[2*Y+1]=re[2*X+1]=$,j.heap[1]=$++,Oe(j,re,1),2<=j.heap_len;);j.heap[--j.heap_max]=j.heap[1],function(_e,ut){var Fn,Ft,xr,Me,Er,Gr,Bt=ut.dyn_tree,xo=ut.max_code,Fl=ut.stat_desc.static_tree,qi=ut.stat_desc.has_stree,Eo=ut.stat_desc.extra_bits,Qi=ut.stat_desc.extra_base,rn=ut.stat_desc.max_length,Bn=0;for(Me=0;Me<=k;Me++)_e.bl_count[Me]=0;for(Bt[2*_e.heap[_e.heap_max]+1]=0,Fn=_e.heap_max+1;Fn<p;Fn++)rn<(Me=Bt[2*Bt[2*(Ft=_e.heap[Fn])+1]+1]+1)&&(Me=rn,Bn++),Bt[2*Ft+1]=Me,xo<Ft||(_e.bl_count[Me]++,Er=0,Qi<=Ft&&(Er=Eo[Ft-Qi]),Gr=Bt[2*Ft],_e.opt_len+=Gr*(Me+Er),qi&&(_e.static_len+=Gr*(Fl[2*Ft+1]+Er)));if(Bn!==0){do{for(Me=rn-1;_e.bl_count[Me]===0;)Me--;_e.bl_count[Me]--,_e.bl_count[Me+1]+=2,_e.bl_count[rn]--,Bn-=2}while(0<Bn);for(Me=rn;Me!==0;Me--)for(Ft=_e.bl_count[Me];Ft!==0;)xo<(xr=_e.heap[--Fn])||(Bt[2*xr+1]!==Me&&(_e.opt_len+=(Me-Bt[2*xr+1])*Bt[2*xr],Bt[2*xr+1]=Me),Ft--)}}(j,L),Ve(re,xe,j.bl_count)}function E(j,L,Y){var X,$,re=-1,ue=L[1],ie=0,fe=7,xe=4;for(ue===0&&(fe=138,xe=3),L[2*(Y+1)+1]=65535,X=0;X<=Y;X++)$=ue,ue=L[2*(X+1)+1],++ie<fe&&$===ue||(ie<xe?j.bl_tree[2*$]+=ie:$!==0?($!==re&&j.bl_tree[2*$]++,j.bl_tree[2*P]++):ie<=10?j.bl_tree[2*V]++:j.bl_tree[2*O]++,re=$,xe=(ie=0)===ue?(fe=138,3):$===ue?(fe=6,3):(fe=7,4))}function Q(j,L,Y){var X,$,re=-1,ue=L[1],ie=0,fe=7,xe=4;for(ue===0&&(fe=138,xe=3),X=0;X<=Y;X++)if($=ue,ue=L[2*(X+1)+1],!(++ie<fe&&$===ue)){if(ie<xe)for(;se(j,$,j.bl_tree),--ie!=0;);else $!==0?($!==re&&(se(j,$,j.bl_tree),ie--),se(j,P,j.bl_tree),ae(j,ie-3,2)):ie<=10?(se(j,V,j.bl_tree),ae(j,ie-3,3)):(se(j,O,j.bl_tree),ae(j,ie-11,7));re=$,xe=(ie=0)===ue?(fe=138,3):$===ue?(fe=6,3):(fe=7,4)}}u(K);var H=!1;function M(j,L,Y,X){ae(j,(c<<1)+(X?1:0),3),function($,re,ue,ie){Ce($),ie&&(le($,ue),le($,~ue)),s.arraySet($.pending_buf,$.window,re,ue,$.pending),$.pending+=ue}(j,L,Y,!0)}i._tr_init=function(j){H||(function(){var L,Y,X,$,re,ue=new Array(k+1);for($=X=0;$<f-1;$++)for(q[$]=X,L=0;L<1<<C[$];L++)S[X++]=$;for(S[X-1]=$,$=re=0;$<16;$++)for(K[$]=re,L=0;L<1<<I[$];L++)b[re++]=$;for(re>>=7;$<h;$++)for(K[$]=re<<7,L=0;L<1<<I[$]-7;L++)b[256+re++]=$;for(Y=0;Y<=k;Y++)ue[Y]=0;for(L=0;L<=143;)z[2*L+1]=8,L++,ue[8]++;for(;L<=255;)z[2*L+1]=9,L++,ue[9]++;for(;L<=279;)z[2*L+1]=7,L++,ue[7]++;for(;L<=287;)z[2*L+1]=8,L++,ue[8]++;for(Ve(z,v+1,ue),L=0;L<h;L++)A[2*L+1]=5,A[2*L]=Re(L,5);me=new ne(z,C,g+1,v,k),Z=new ne(A,I,0,h,k),G=new ne(new Array(0),N,0,y,_)}(),H=!0),j.l_desc=new U(j.dyn_ltree,me),j.d_desc=new U(j.dyn_dtree,Z),j.bl_desc=new U(j.bl_tree,G),j.bi_buf=0,j.bi_valid=0,ke(j)},i._tr_stored_block=M,i._tr_flush_block=function(j,L,Y,X){var $,re,ue=0;0<j.level?(j.strm.data_type===2&&(j.strm.data_type=function(ie){var fe,xe=4093624447;for(fe=0;fe<=31;fe++,xe>>>=1)if(1&xe&&ie.dyn_ltree[2*fe]!==0)return o;if(ie.dyn_ltree[18]!==0||ie.dyn_ltree[20]!==0||ie.dyn_ltree[26]!==0)return l;for(fe=32;fe<g;fe++)if(ie.dyn_ltree[2*fe]!==0)return l;return o}(j)),At(j,j.l_desc),At(j,j.d_desc),ue=function(ie){var fe;for(E(ie,ie.dyn_ltree,ie.l_desc.max_code),E(ie,ie.dyn_dtree,ie.d_desc.max_code),At(ie,ie.bl_desc),fe=y-1;3<=fe&&ie.bl_tree[2*D[fe]+1]===0;fe--);return ie.opt_len+=3*(fe+1)+5+5+4,fe}(j),$=j.opt_len+3+7>>>3,(re=j.static_len+3+7>>>3)<=$&&($=re)):$=re=Y+5,Y+4<=$&&L!==-1?M(j,L,Y,X):j.strategy===4||re===$?(ae(j,2+(X?1:0),3),Dt(j,z,A)):(ae(j,4+(X?1:0),3),function(ie,fe,xe,_e){var ut;for(ae(ie,fe-257,5),ae(ie,xe-1,5),ae(ie,_e-4,4),ut=0;ut<_e;ut++)ae(ie,ie.bl_tree[2*D[ut]+1],3);Q(ie,ie.dyn_ltree,fe-1),Q(ie,ie.dyn_dtree,xe-1)}(j,j.l_desc.max_code+1,j.d_desc.max_code+1,ue+1),Dt(j,j.dyn_ltree,j.dyn_dtree)),ke(j),X&&Ce(j)},i._tr_tally=function(j,L,Y){return j.pending_buf[j.d_buf+2*j.last_lit]=L>>>8&255,j.pending_buf[j.d_buf+2*j.last_lit+1]=255&L,j.pending_buf[j.l_buf+j.last_lit]=255&Y,j.last_lit++,L===0?j.dyn_ltree[2*Y]++:(j.matches++,L--,j.dyn_ltree[2*(S[Y]+g+1)]++,j.dyn_dtree[2*F(L)]++),j.last_lit===j.lit_bufsize-1},i._tr_align=function(j){ae(j,2,3),se(j,T,z),function(L){L.bi_valid===16?(le(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):8<=L.bi_valid&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)}(j)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,l){if(!o.setImmediate){var u,c,f,g,v=1,h={},y=!1,p=o.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(o);k=k&&k.setTimeout?k:o,u={}.toString.call(o.process)==="[object process]"?function(P){process.nextTick(function(){_(P)})}:function(){if(o.postMessage&&!o.importScripts){var P=!0,V=o.onmessage;return o.onmessage=function(){P=!1},o.postMessage("","*"),o.onmessage=V,P}}()?(g="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",T,!1):o.attachEvent("onmessage",T),function(P){o.postMessage(g+P,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(P){_(P.data)},function(P){f.port2.postMessage(P)}):p&&"onreadystatechange"in p.createElement("script")?(c=p.documentElement,function(P){var V=p.createElement("script");V.onreadystatechange=function(){_(P),V.onreadystatechange=null,c.removeChild(V),V=null},c.appendChild(V)}):function(P){setTimeout(_,0,P)},k.setImmediate=function(P){typeof P!="function"&&(P=new Function(""+P));for(var V=new Array(arguments.length-1),O=0;O<V.length;O++)V[O]=arguments[O+1];var C={callback:P,args:V};return h[v]=C,u(v),v++},k.clearImmediate=m}function m(P){delete h[P]}function _(P){if(y)setTimeout(_,0,P);else{var V=h[P];if(V){y=!0;try{(function(O){var C=O.callback,I=O.args;switch(I.length){case 0:C();break;case 1:C(I[0]);break;case 2:C(I[0],I[1]);break;case 3:C(I[0],I[1],I[2]);break;default:C.apply(l,I)}})(V)}finally{m(P),y=!1}}}}function T(P){P.source===o&&typeof P.data=="string"&&P.data.indexOf(g)===0&&_(+P.data.slice(g.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Oo<"u"?Oo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(V0);var mw=V0.exports;const gw=Uy(mw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yw=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),kp=t=>{const e=yw(t);return e.charAt(0).toUpperCase()+e.slice(1)},M0=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),vw=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ww={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=pe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},u)=>pe.createElement("svg",{ref:u,...ww,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:M0("lucide",i),...!s&&!vw(l)&&{"aria-hidden":"true"},...l},[...o.map(([c,f])=>pe.createElement(c,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=pe.forwardRef(({className:r,...i},s)=>pe.createElement(xw,{ref:s,iconNode:e,className:M0(`lucide-${_w(kp(t))}`,`lucide-${t}`,r),...i}));return n.displayName=kp(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],kw=Pe("arrow-down",Ew);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],z0=Pe("arrow-left",Tw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Iw=Pe("arrow-up",Sw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cw=Pe("calendar",Aw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],bw=Pe("chart-pie",Nw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],O0=Pe("chevron-down",Rw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Dw=Pe("chevron-up",Pw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Js=Pe("crosshair",jw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],L0=Pe("crown",Vw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],zw=Pe("file-braces",Mw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351",key:"1k2beg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],Lw=Pe("file-pen-line",Ow);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],F0=Pe("gamepad-2",Fw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Uw=Pe("layout-dashboard",Bw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Ww=Pe("layout-grid",$w);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],B0=Pe("list",Hw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qw=Pe("log-out",Kw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ar=Pe("map",Qw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Yw=Pe("pen",Gw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ga=Pe("refresh-cw",Xw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Jw=Pe("save",Zw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],tx=Pe("scale",ex);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Uh=Pe("search",nx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ix=Pe("shield",rx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],Ei=Pe("swords",sx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Tp=Pe("trash-2",ox);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],lx=Pe("trophy",ax);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],cx=Pe("upload",ux);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],U0=Pe("user-cog",hx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],$0=Pe("users-round",dx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$h=Pe("users",fx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sp=Pe("x",px);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},H0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|l>>4;let v=(l&15)<<2|c>>6,h=c&63;u||(h=64,o||(v=64)),r.push(n[f],n[g],n[v],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(W0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||g==null)throw new gx;const v=s<<2|l>>4;if(r.push(v),c!==64){const h=l<<4&240|c>>2;if(r.push(h),g!==64){const y=c<<6&192|g;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _x=function(t){const e=W0(t);return H0.encodeByteArray(e,!0)},Ya=function(t){return _x(t).replace(/\./g,"")},yx=function(t){try{return H0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=()=>vx().__FIREBASE_DEFAULTS__,xx=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ex=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yx(t[1]);return e&&JSON.parse(e)},Wh=()=>{try{return wx()||xx()||Ex()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kx=t=>{var e,n;return(n=(e=Wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Tx=t=>{const e=kx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},K0=()=>{var t;return(t=Wh())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Ya(JSON.stringify(n)),Ya(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cx(){var t;const e=(t=Wh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nx(){return!Cx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bx(){try{return typeof indexedDB=="object"}catch{return!1}}function Rx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="FirebaseError";class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Px,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q0.prototype.create)}}class q0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Dx(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ui(i,l,r)}}function Dx(t,e){return t.replace(jx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jx=/\{\$([^}]+)}/g;function Ac(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ip(s)&&Ip(o)){if(!Ac(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ip(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t){return t&&t._delegate?t._delegate:t}class eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zx(e))try{this.getOrInitializeService({instanceIdentifier:Nr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nr){return this.instances.has(e)}getOptions(e=Nr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nr){return this.component?this.component.multipleInstances?e:Nr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Mx(t){return t===Nr?void 0:t}function zx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const Lx={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},Fx=Ie.INFO,Bx={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},Ux=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Bx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Q0{constructor(e){this.name=e,this._logLevel=Fx,this._logHandler=Ux,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const $x=(t,e)=>e.some(n=>t instanceof n);let Ap,Cp;function Wx(){return Ap||(Ap=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hx(){return Cp||(Cp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G0=new WeakMap,Cc=new WeakMap,Y0=new WeakMap,Iu=new WeakMap,Hh=new WeakMap;function Kx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(lr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&G0.set(n,t)}).catch(()=>{}),Hh.set(e,t),e}function qx(t){if(Cc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cc.set(t,e)}let Nc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Qx(t){Nc=t(Nc)}function Gx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Au(this),e,...n);return Y0.set(r,e.sort?e.sort():[e]),lr(r)}:Hx().includes(t)?function(...e){return t.apply(Au(this),e),lr(G0.get(this))}:function(...e){return lr(t.apply(Au(this),e))}}function Yx(t){return typeof t=="function"?Gx(t):(t instanceof IDBTransaction&&qx(t),$x(t,Wx())?new Proxy(t,Nc):t)}function lr(t){if(t instanceof IDBRequest)return Kx(t);if(Iu.has(t))return Iu.get(t);const e=Yx(t);return e!==t&&(Iu.set(t,e),Hh.set(e,t)),e}const Au=t=>Hh.get(t);function Xx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=lr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(lr(o.result),u.oldVersion,u.newVersion,lr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const Zx=["get","getKey","getAll","getAllKeys","count"],Jx=["put","add","delete","clear"],Cu=new Map;function Np(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cu.get(e))return Cu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Zx.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Cu.set(e,s),s}Qx(t=>({...t,get:(e,n,r)=>Np(e,n)||t.get(e,n,r),has:(e,n)=>!!Np(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function t2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bc="@firebase/app",bp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new Q0("@firebase/app"),n2="@firebase/app-compat",r2="@firebase/analytics-compat",i2="@firebase/analytics",s2="@firebase/app-check-compat",o2="@firebase/app-check",a2="@firebase/auth",l2="@firebase/auth-compat",u2="@firebase/database",c2="@firebase/data-connect",h2="@firebase/database-compat",d2="@firebase/functions",f2="@firebase/functions-compat",p2="@firebase/installations",m2="@firebase/installations-compat",g2="@firebase/messaging",_2="@firebase/messaging-compat",y2="@firebase/performance",v2="@firebase/performance-compat",w2="@firebase/remote-config",x2="@firebase/remote-config-compat",E2="@firebase/storage",k2="@firebase/storage-compat",T2="@firebase/firestore",S2="@firebase/vertexai-preview",I2="@firebase/firestore-compat",A2="firebase",C2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc="[DEFAULT]",N2={[bc]:"fire-core",[n2]:"fire-core-compat",[i2]:"fire-analytics",[r2]:"fire-analytics-compat",[o2]:"fire-app-check",[s2]:"fire-app-check-compat",[a2]:"fire-auth",[l2]:"fire-auth-compat",[u2]:"fire-rtdb",[c2]:"fire-data-connect",[h2]:"fire-rtdb-compat",[d2]:"fire-fn",[f2]:"fire-fn-compat",[p2]:"fire-iid",[m2]:"fire-iid-compat",[g2]:"fire-fcm",[_2]:"fire-fcm-compat",[y2]:"fire-perf",[v2]:"fire-perf-compat",[w2]:"fire-rc",[x2]:"fire-rc-compat",[E2]:"fire-gcs",[k2]:"fire-gcs-compat",[T2]:"fire-fst",[I2]:"fire-fst-compat",[S2]:"fire-vertex","fire-js":"fire-js",[A2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Map,b2=new Map,Pc=new Map;function Rp(t,e){try{t.container.addComponent(e)}catch(n){Mn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Za(t){const e=t.name;if(Pc.has(e))return Mn.debug(`There were multiple attempts to register component ${e}.`),!1;Pc.set(e,t);for(const n of Xa.values())Rp(n,t);for(const n of b2.values())Rp(n,t);return!0}function R2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new q0("app","Firebase",P2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=C2;function X0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ur.create("bad-app-name",{appName:String(i)});if(n||(n=K0()),!n)throw ur.create("no-options");const s=Xa.get(i);if(s){if(Ac(n,s.options)&&Ac(r,s.config))return s;throw ur.create("duplicate-app",{appName:i})}const o=new Ox(i);for(const u of Pc.values())o.addComponent(u);const l=new D2(n,r,o);return Xa.set(i,l),l}function V2(t=Rc){const e=Xa.get(t);if(!e&&t===Rc&&K0())return X0();if(!e)throw ur.create("no-app",{appName:t});return e}function ki(t,e,n){var r;let i=(r=N2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mn.warn(l.join(" "));return}Za(new eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="firebase-heartbeat-database",z2=1,to="firebase-heartbeat-store";let Nu=null;function Z0(){return Nu||(Nu=Xx(M2,z2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(to)}catch(n){console.warn(n)}}}}).catch(t=>{throw ur.create("idb-open",{originalErrorMessage:t.message})})),Nu}async function O2(t){try{const n=(await Z0()).transaction(to),r=await n.objectStore(to).get(J0(t));return await n.done,r}catch(e){if(e instanceof Ui)Mn.warn(e.message);else{const n=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mn.warn(n.message)}}}async function Pp(t,e){try{const r=(await Z0()).transaction(to,"readwrite");await r.objectStore(to).put(e,J0(t)),await r.done}catch(n){if(n instanceof Ui)Mn.warn(n.message);else{const r=ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mn.warn(r.message)}}}function J0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=1024,F2=30*24*60*60*1e3;class B2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=F2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dp(),{heartbeatsToSend:r,unsentEntries:i}=U2(this._heartbeatsCache.heartbeats),s=Ya(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Mn.warn(n),""}}}function Dp(){return new Date().toISOString().substring(0,10)}function U2(t,e=L2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),jp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bx()?Rx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await O2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jp(t){return Ya(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t){Za(new eo("platform-logger",e=>new e2(e),"PRIVATE")),Za(new eo("heartbeat",e=>new B2(e),"PRIVATE")),ki(bc,bp,t),ki(bc,bp,"esm2017"),ki("fire-js","")}W2("");var H2="firebase",K2="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(H2,K2,"app");var Vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,e_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function N(){}N.prototype=I.prototype,C.D=I.prototype,C.prototype=new N,C.prototype.constructor=C,C.C=function(D,z,A){for(var b=Array(arguments.length-2),S=2;S<arguments.length;S++)b[S-2]=arguments[S];return I.prototype[z].apply(D,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,N){N||(N=0);var D=Array(16);if(typeof I=="string")for(var z=0;16>z;++z)D[z]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(z=0;16>z;++z)D[z]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=C.g[0],N=C.g[1],z=C.g[2];var A=C.g[3],b=I+(A^N&(z^A))+D[0]+3614090360&4294967295;I=N+(b<<7&4294967295|b>>>25),b=A+(z^I&(N^z))+D[1]+3905402710&4294967295,A=I+(b<<12&4294967295|b>>>20),b=z+(N^A&(I^N))+D[2]+606105819&4294967295,z=A+(b<<17&4294967295|b>>>15),b=N+(I^z&(A^I))+D[3]+3250441966&4294967295,N=z+(b<<22&4294967295|b>>>10),b=I+(A^N&(z^A))+D[4]+4118548399&4294967295,I=N+(b<<7&4294967295|b>>>25),b=A+(z^I&(N^z))+D[5]+1200080426&4294967295,A=I+(b<<12&4294967295|b>>>20),b=z+(N^A&(I^N))+D[6]+2821735955&4294967295,z=A+(b<<17&4294967295|b>>>15),b=N+(I^z&(A^I))+D[7]+4249261313&4294967295,N=z+(b<<22&4294967295|b>>>10),b=I+(A^N&(z^A))+D[8]+1770035416&4294967295,I=N+(b<<7&4294967295|b>>>25),b=A+(z^I&(N^z))+D[9]+2336552879&4294967295,A=I+(b<<12&4294967295|b>>>20),b=z+(N^A&(I^N))+D[10]+4294925233&4294967295,z=A+(b<<17&4294967295|b>>>15),b=N+(I^z&(A^I))+D[11]+2304563134&4294967295,N=z+(b<<22&4294967295|b>>>10),b=I+(A^N&(z^A))+D[12]+1804603682&4294967295,I=N+(b<<7&4294967295|b>>>25),b=A+(z^I&(N^z))+D[13]+4254626195&4294967295,A=I+(b<<12&4294967295|b>>>20),b=z+(N^A&(I^N))+D[14]+2792965006&4294967295,z=A+(b<<17&4294967295|b>>>15),b=N+(I^z&(A^I))+D[15]+1236535329&4294967295,N=z+(b<<22&4294967295|b>>>10),b=I+(z^A&(N^z))+D[1]+4129170786&4294967295,I=N+(b<<5&4294967295|b>>>27),b=A+(N^z&(I^N))+D[6]+3225465664&4294967295,A=I+(b<<9&4294967295|b>>>23),b=z+(I^N&(A^I))+D[11]+643717713&4294967295,z=A+(b<<14&4294967295|b>>>18),b=N+(A^I&(z^A))+D[0]+3921069994&4294967295,N=z+(b<<20&4294967295|b>>>12),b=I+(z^A&(N^z))+D[5]+3593408605&4294967295,I=N+(b<<5&4294967295|b>>>27),b=A+(N^z&(I^N))+D[10]+38016083&4294967295,A=I+(b<<9&4294967295|b>>>23),b=z+(I^N&(A^I))+D[15]+3634488961&4294967295,z=A+(b<<14&4294967295|b>>>18),b=N+(A^I&(z^A))+D[4]+3889429448&4294967295,N=z+(b<<20&4294967295|b>>>12),b=I+(z^A&(N^z))+D[9]+568446438&4294967295,I=N+(b<<5&4294967295|b>>>27),b=A+(N^z&(I^N))+D[14]+3275163606&4294967295,A=I+(b<<9&4294967295|b>>>23),b=z+(I^N&(A^I))+D[3]+4107603335&4294967295,z=A+(b<<14&4294967295|b>>>18),b=N+(A^I&(z^A))+D[8]+1163531501&4294967295,N=z+(b<<20&4294967295|b>>>12),b=I+(z^A&(N^z))+D[13]+2850285829&4294967295,I=N+(b<<5&4294967295|b>>>27),b=A+(N^z&(I^N))+D[2]+4243563512&4294967295,A=I+(b<<9&4294967295|b>>>23),b=z+(I^N&(A^I))+D[7]+1735328473&4294967295,z=A+(b<<14&4294967295|b>>>18),b=N+(A^I&(z^A))+D[12]+2368359562&4294967295,N=z+(b<<20&4294967295|b>>>12),b=I+(N^z^A)+D[5]+4294588738&4294967295,I=N+(b<<4&4294967295|b>>>28),b=A+(I^N^z)+D[8]+2272392833&4294967295,A=I+(b<<11&4294967295|b>>>21),b=z+(A^I^N)+D[11]+1839030562&4294967295,z=A+(b<<16&4294967295|b>>>16),b=N+(z^A^I)+D[14]+4259657740&4294967295,N=z+(b<<23&4294967295|b>>>9),b=I+(N^z^A)+D[1]+2763975236&4294967295,I=N+(b<<4&4294967295|b>>>28),b=A+(I^N^z)+D[4]+1272893353&4294967295,A=I+(b<<11&4294967295|b>>>21),b=z+(A^I^N)+D[7]+4139469664&4294967295,z=A+(b<<16&4294967295|b>>>16),b=N+(z^A^I)+D[10]+3200236656&4294967295,N=z+(b<<23&4294967295|b>>>9),b=I+(N^z^A)+D[13]+681279174&4294967295,I=N+(b<<4&4294967295|b>>>28),b=A+(I^N^z)+D[0]+3936430074&4294967295,A=I+(b<<11&4294967295|b>>>21),b=z+(A^I^N)+D[3]+3572445317&4294967295,z=A+(b<<16&4294967295|b>>>16),b=N+(z^A^I)+D[6]+76029189&4294967295,N=z+(b<<23&4294967295|b>>>9),b=I+(N^z^A)+D[9]+3654602809&4294967295,I=N+(b<<4&4294967295|b>>>28),b=A+(I^N^z)+D[12]+3873151461&4294967295,A=I+(b<<11&4294967295|b>>>21),b=z+(A^I^N)+D[15]+530742520&4294967295,z=A+(b<<16&4294967295|b>>>16),b=N+(z^A^I)+D[2]+3299628645&4294967295,N=z+(b<<23&4294967295|b>>>9),b=I+(z^(N|~A))+D[0]+4096336452&4294967295,I=N+(b<<6&4294967295|b>>>26),b=A+(N^(I|~z))+D[7]+1126891415&4294967295,A=I+(b<<10&4294967295|b>>>22),b=z+(I^(A|~N))+D[14]+2878612391&4294967295,z=A+(b<<15&4294967295|b>>>17),b=N+(A^(z|~I))+D[5]+4237533241&4294967295,N=z+(b<<21&4294967295|b>>>11),b=I+(z^(N|~A))+D[12]+1700485571&4294967295,I=N+(b<<6&4294967295|b>>>26),b=A+(N^(I|~z))+D[3]+2399980690&4294967295,A=I+(b<<10&4294967295|b>>>22),b=z+(I^(A|~N))+D[10]+4293915773&4294967295,z=A+(b<<15&4294967295|b>>>17),b=N+(A^(z|~I))+D[1]+2240044497&4294967295,N=z+(b<<21&4294967295|b>>>11),b=I+(z^(N|~A))+D[8]+1873313359&4294967295,I=N+(b<<6&4294967295|b>>>26),b=A+(N^(I|~z))+D[15]+4264355552&4294967295,A=I+(b<<10&4294967295|b>>>22),b=z+(I^(A|~N))+D[6]+2734768916&4294967295,z=A+(b<<15&4294967295|b>>>17),b=N+(A^(z|~I))+D[13]+1309151649&4294967295,N=z+(b<<21&4294967295|b>>>11),b=I+(z^(N|~A))+D[4]+4149444226&4294967295,I=N+(b<<6&4294967295|b>>>26),b=A+(N^(I|~z))+D[11]+3174756917&4294967295,A=I+(b<<10&4294967295|b>>>22),b=z+(I^(A|~N))+D[2]+718787259&4294967295,z=A+(b<<15&4294967295|b>>>17),b=N+(A^(z|~I))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(z+(b<<21&4294967295|b>>>11))&4294967295,C.g[2]=C.g[2]+z&4294967295,C.g[3]=C.g[3]+A&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var N=I-this.blockSize,D=this.B,z=this.h,A=0;A<I;){if(z==0)for(;A<=N;)i(this,C,A),A+=this.blockSize;if(typeof C=="string"){for(;A<I;)if(D[z++]=C.charCodeAt(A++),z==this.blockSize){i(this,D),z=0;break}}else for(;A<I;)if(D[z++]=C[A++],z==this.blockSize){i(this,D),z=0;break}}this.h=z,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var N=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=N&255,N/=256;for(this.u(C),C=Array(16),I=N=0;4>I;++I)for(var D=0;32>D;D+=8)C[N++]=this.g[I]>>>D&255;return C};function s(C,I){var N=l;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=I(C)}function o(C,I){this.h=I;for(var N=[],D=!0,z=C.length-1;0<=z;z--){var A=C[z]|0;D&&A==I||(N[z]=A,D=!1)}this.g=N}var l={};function u(C){return-128<=C&&128>C?s(C,function(I){return new o([I|0],0>I?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return g;if(0>C)return k(c(-C));for(var I=[],N=1,D=0;C>=N;D++)I[D]=C/N|0,N*=4294967296;return new o(I,0)}function f(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return k(f(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=c(Math.pow(I,8)),D=g,z=0;z<C.length;z+=8){var A=Math.min(8,C.length-z),b=parseInt(C.substring(z,z+A),I);8>A?(A=c(Math.pow(I,A)),D=D.j(A).add(c(b))):(D=D.j(N),D=D.add(c(b)))}return D}var g=u(0),v=u(1),h=u(16777216);t=o.prototype,t.m=function(){if(p(this))return-k(this).m();for(var C=0,I=1,N=0;N<this.g.length;N++){var D=this.i(N);C+=(0<=D?D:4294967296+D)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(p(this))return"-"+k(this).toString(C);for(var I=c(Math.pow(C,6)),N=this,D="";;){var z=P(N,I).g;N=m(N,z.j(I));var A=((0<N.g.length?N.g[0]:N.h)>>>0).toString(C);if(N=z,y(N))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function p(C){return C.h==-1}t.l=function(C){return C=m(this,C),p(C)?-1:y(C)?0:1};function k(C){for(var I=C.g.length,N=[],D=0;D<I;D++)N[D]=~C.g[D];return new o(N,~C.h).add(v)}t.abs=function(){return p(this)?k(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),N=[],D=0,z=0;z<=I;z++){var A=D+(this.i(z)&65535)+(C.i(z)&65535),b=(A>>>16)+(this.i(z)>>>16)+(C.i(z)>>>16);D=b>>>16,A&=65535,b&=65535,N[z]=b<<16|A}return new o(N,N[N.length-1]&-2147483648?-1:0)};function m(C,I){return C.add(k(I))}t.j=function(C){if(y(this)||y(C))return g;if(p(this))return p(C)?k(this).j(k(C)):k(k(this).j(C));if(p(C))return k(this.j(k(C)));if(0>this.l(h)&&0>C.l(h))return c(this.m()*C.m());for(var I=this.g.length+C.g.length,N=[],D=0;D<2*I;D++)N[D]=0;for(D=0;D<this.g.length;D++)for(var z=0;z<C.g.length;z++){var A=this.i(D)>>>16,b=this.i(D)&65535,S=C.i(z)>>>16,q=C.i(z)&65535;N[2*D+2*z]+=b*q,_(N,2*D+2*z),N[2*D+2*z+1]+=A*q,_(N,2*D+2*z+1),N[2*D+2*z+1]+=b*S,_(N,2*D+2*z+1),N[2*D+2*z+2]+=A*S,_(N,2*D+2*z+2)}for(D=0;D<I;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=I;D<2*I;D++)N[D]=0;return new o(N,0)};function _(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function T(C,I){this.g=C,this.h=I}function P(C,I){if(y(I))throw Error("division by zero");if(y(C))return new T(g,g);if(p(C))return I=P(k(C),I),new T(k(I.g),k(I.h));if(p(I))return I=P(C,k(I)),new T(k(I.g),I.h);if(30<C.g.length){if(p(C)||p(I))throw Error("slowDivide_ only works with positive integers.");for(var N=v,D=I;0>=D.l(C);)N=V(N),D=V(D);var z=O(N,1),A=O(D,1);for(D=O(D,2),N=O(N,2);!y(D);){var b=A.add(D);0>=b.l(C)&&(z=z.add(N),A=b),D=O(D,1),N=O(N,1)}return I=m(C,z.j(I)),new T(z,I)}for(z=g;0<=C.l(I);){for(N=Math.max(1,Math.floor(C.m()/I.m())),D=Math.ceil(Math.log(N)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=c(N),b=A.j(I);p(b)||0<b.l(C);)N-=D,A=c(N),b=A.j(I);y(A)&&(A=v),z=z.add(A),C=m(C,b)}return new T(z,C)}t.A=function(C){return P(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),N=[],D=0;D<I;D++)N[D]=this.i(D)&C.i(D);return new o(N,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),N=[],D=0;D<I;D++)N[D]=this.i(D)|C.i(D);return new o(N,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),N=[],D=0;D<I;D++)N[D]=this.i(D)^C.i(D);return new o(N,this.h^C.h)};function V(C){for(var I=C.g.length+1,N=[],D=0;D<I;D++)N[D]=C.i(D)<<1|C.i(D-1)>>>31;return new o(N,C.h)}function O(C,I){var N=I>>5;I%=32;for(var D=C.g.length-N,z=[],A=0;A<D;A++)z[A]=0<I?C.i(A+N)>>>I|C.i(A+N+1)<<32-I:C.i(A+N);return new o(z,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,e_=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,Mr=o}).apply(typeof Vp<"u"?Vp:typeof self<"u"?self:typeof window<"u"?window:{});var ra=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t_,ws,n_,wa,Dc,r_,i_,s_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,x){return a==Array.prototype||a==Object.prototype||(a[d]=x.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ra=="object"&&ra];for(var d=0;d<a.length;++d){var x=a[d];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var x=r;a=a.split(".");for(var R=0;R<a.length-1;R++){var B=a[R];if(!(B in x))break e;x=x[B]}a=a[a.length-1],R=x[a],d=d(R),d!=R&&d!=null&&e(x,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var x=0,R=!1,B={next:function(){if(!R&&x<a.length){var W=x++;return{value:d(W,a[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,x){return a.call.apply(a.bind,arguments)}function g(a,d,x){if(!a)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,R),a.apply(d,B)}}return function(){return a.apply(d,arguments)}}function v(a,d,x){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,v.apply(null,arguments)}function h(a,d){var x=Array.prototype.slice.call(arguments,1);return function(){var R=x.slice();return R.push.apply(R,arguments),a.apply(this,R)}}function y(a,d){function x(){}x.prototype=d.prototype,a.aa=d.prototype,a.prototype=new x,a.prototype.constructor=a,a.Qb=function(R,B,W){for(var oe=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)oe[ze-2]=arguments[ze];return d.prototype[B].apply(R,oe)}}function p(a){const d=a.length;if(0<d){const x=Array(d);for(let R=0;R<d;R++)x[R]=a[R];return x}return[]}function k(a,d){for(let x=1;x<arguments.length;x++){const R=arguments[x];if(u(R)){const B=a.length||0,W=R.length||0;a.length=B+W;for(let oe=0;oe<W;oe++)a[B+oe]=R[oe]}else a.push(R)}}class m{constructor(d,x){this.i=d,this.j=x,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function _(a){return/^[\s\xa0]*$/.test(a)}function T(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function P(a){return P[" "](a),a}P[" "]=function(){};var V=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function O(a,d,x){for(const R in a)d.call(x,a[R],R,a)}function C(a,d){for(const x in a)d.call(void 0,a[x],x,a)}function I(a){const d={};for(const x in a)d[x]=a[x];return d}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(a,d){let x,R;for(let B=1;B<arguments.length;B++){R=arguments[B];for(x in R)a[x]=R[x];for(let W=0;W<N.length;W++)x=N[W],Object.prototype.hasOwnProperty.call(R,x)&&(a[x]=R[x])}}function z(a){var d=1;a=a.split(":");const x=[];for(;0<d&&a.length;)x.push(a.shift()),d--;return a.length&&x.push(a.join(":")),x}function A(a){l.setTimeout(()=>{throw a},0)}function b(){var a=K;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class S{constructor(){this.h=this.g=null}add(d,x){const R=q.get();R.set(d,x),this.h?this.h.next=R:this.g=R,this.h=R}}var q=new m(()=>new me,a=>a.reset());class me{constructor(){this.next=this.g=this.h=null}set(d,x){this.h=d,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,G=!1,K=new S,ne=()=>{const a=l.Promise.resolve(void 0);Z=()=>{a.then(U)}};var U=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(x){A(x)}var d=q;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}G=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const x=()=>{};l.addEventListener("test",x,d),l.removeEventListener("test",x,d)}catch{}return a}();function se(a,d){if(le.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var x=this.type=a.type,R=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(V){e:{try{P(d.nodeName);var B=!0;break e}catch{}B=!1}B||(d=null)}}else x=="mouseover"?d=a.fromElement:x=="mouseout"&&(d=a.toElement);this.relatedTarget=d,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Re[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&se.aa.h.call(this)}}y(se,le);var Re={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Ce(a,d,x,R,B){this.listener=a,this.proxy=null,this.src=d,this.type=x,this.capture=!!R,this.ha=B,this.key=++ke,this.da=this.fa=!1}function He(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Oe(a){this.src=a,this.g={},this.h=0}Oe.prototype.add=function(a,d,x,R,B){var W=a.toString();a=this.g[W],a||(a=this.g[W]=[],this.h++);var oe=At(a,d,R,B);return-1<oe?(d=a[oe],x||(d.fa=!1)):(d=new Ce(d,this.src,W,!!R,B),d.fa=x,a.push(d)),d};function Dt(a,d){var x=d.type;if(x in a.g){var R=a.g[x],B=Array.prototype.indexOf.call(R,d,void 0),W;(W=0<=B)&&Array.prototype.splice.call(R,B,1),W&&(He(d),a.g[x].length==0&&(delete a.g[x],a.h--))}}function At(a,d,x,R){for(var B=0;B<a.length;++B){var W=a[B];if(!W.da&&W.listener==d&&W.capture==!!x&&W.ha==R)return B}return-1}var E="closure_lm_"+(1e6*Math.random()|0),Q={};function H(a,d,x,R,B){if(R&&R.once)return L(a,d,x,R,B);if(Array.isArray(d)){for(var W=0;W<d.length;W++)H(a,d[W],x,R,B);return null}return x=fe(x),a&&a[Ve]?a.K(d,x,c(R)?!!R.capture:!!R,B):M(a,d,x,!1,R,B)}function M(a,d,x,R,B,W){if(!d)throw Error("Invalid event type");var oe=c(B)?!!B.capture:!!B,ze=ue(a);if(ze||(a[E]=ze=new Oe(a)),x=ze.add(d,x,R,oe,W),x.proxy)return x;if(R=j(),x.proxy=R,R.src=a,R.listener=x,a.addEventListener)ae||(B=oe),B===void 0&&(B=!1),a.addEventListener(d.toString(),R,B);else if(a.attachEvent)a.attachEvent($(d.toString()),R);else if(a.addListener&&a.removeListener)a.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return x}function j(){function a(x){return d.call(a.src,a.listener,x)}const d=re;return a}function L(a,d,x,R,B){if(Array.isArray(d)){for(var W=0;W<d.length;W++)L(a,d[W],x,R,B);return null}return x=fe(x),a&&a[Ve]?a.L(d,x,c(R)?!!R.capture:!!R,B):M(a,d,x,!0,R,B)}function Y(a,d,x,R,B){if(Array.isArray(d))for(var W=0;W<d.length;W++)Y(a,d[W],x,R,B);else R=c(R)?!!R.capture:!!R,x=fe(x),a&&a[Ve]?(a=a.i,d=String(d).toString(),d in a.g&&(W=a.g[d],x=At(W,x,R,B),-1<x&&(He(W[x]),Array.prototype.splice.call(W,x,1),W.length==0&&(delete a.g[d],a.h--)))):a&&(a=ue(a))&&(d=a.g[d.toString()],a=-1,d&&(a=At(d,x,R,B)),(x=-1<a?d[a]:null)&&X(x))}function X(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Ve])Dt(d.i,a);else{var x=a.type,R=a.proxy;d.removeEventListener?d.removeEventListener(x,R,a.capture):d.detachEvent?d.detachEvent($(x),R):d.addListener&&d.removeListener&&d.removeListener(R),(x=ue(d))?(Dt(x,a),x.h==0&&(x.src=null,d[E]=null)):He(a)}}}function $(a){return a in Q?Q[a]:Q[a]="on"+a}function re(a,d){if(a.da)a=!0;else{d=new se(d,this);var x=a.listener,R=a.ha||a.src;a.fa&&X(a),a=x.call(R,d)}return a}function ue(a){return a=a[E],a instanceof Oe?a:null}var ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(a){return typeof a=="function"?a:(a[ie]||(a[ie]=function(d){return a.handleEvent(d)}),a[ie])}function xe(){F.call(this),this.i=new Oe(this),this.M=this,this.F=null}y(xe,F),xe.prototype[Ve]=!0,xe.prototype.removeEventListener=function(a,d,x,R){Y(this,a,d,x,R)};function _e(a,d){var x,R=a.F;if(R)for(x=[];R;R=R.F)x.push(R);if(a=a.M,R=d.type||d,typeof d=="string")d=new le(d,a);else if(d instanceof le)d.target=d.target||a;else{var B=d;d=new le(R,a),D(d,B)}if(B=!0,x)for(var W=x.length-1;0<=W;W--){var oe=d.g=x[W];B=ut(oe,R,!0,d)&&B}if(oe=d.g=a,B=ut(oe,R,!0,d)&&B,B=ut(oe,R,!1,d)&&B,x)for(W=0;W<x.length;W++)oe=d.g=x[W],B=ut(oe,R,!1,d)&&B}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var x=a.g[d],R=0;R<x.length;R++)He(x[R]);delete a.g[d],a.h--}}this.F=null},xe.prototype.K=function(a,d,x,R){return this.i.add(String(a),d,!1,x,R)},xe.prototype.L=function(a,d,x,R){return this.i.add(String(a),d,!0,x,R)};function ut(a,d,x,R){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var B=!0,W=0;W<d.length;++W){var oe=d[W];if(oe&&!oe.da&&oe.capture==x){var ze=oe.listener,ct=oe.ha||oe.src;oe.fa&&Dt(a.i,oe),B=ze.call(ct,R)!==!1&&B}}return B&&!R.defaultPrevented}function Fn(a,d,x){if(typeof a=="function")x&&(a=v(a,x));else if(a&&typeof a.handleEvent=="function")a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Ft(a){a.g=Fn(()=>{a.g=null,a.i&&(a.i=!1,Ft(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class xr extends F{constructor(d,x){super(),this.m=d,this.l=x,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ft(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(a){F.call(this),this.h=a,this.g={}}y(Me,F);var Er=[];function Gr(a){O(a.g,function(d,x){this.g.hasOwnProperty(x)&&X(d)},a),a.g={}}Me.prototype.N=function(){Me.aa.N.call(this),Gr(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bt=l.JSON.stringify,xo=l.JSON.parse,Fl=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function qi(){}qi.prototype.h=null;function Eo(a){return a.h||(a.h=a.i())}function Qi(){}var rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bn(){le.call(this,"d")}y(Bn,le);function Bl(){le.call(this,"c")}y(Bl,le);var kr={},Td=null;function ko(){return Td=Td||new xe}kr.La="serverreachability";function Sd(a){le.call(this,kr.La,a)}y(Sd,le);function Gi(a){const d=ko();_e(d,new Sd(d))}kr.STAT_EVENT="statevent";function Id(a,d){le.call(this,kr.STAT_EVENT,a),this.stat=d}y(Id,le);function Ct(a){const d=ko();_e(d,new Id(d,a))}kr.Ma="timingevent";function Ad(a,d){le.call(this,kr.Ma,a),this.size=d}y(Ad,le);function Yi(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function Xi(){this.g=!0}Xi.prototype.xa=function(){this.g=!1};function vy(a,d,x,R,B,W){a.info(function(){if(a.g)if(W)for(var oe="",ze=W.split("&"),ct=0;ct<ze.length;ct++){var Ne=ze[ct].split("=");if(1<Ne.length){var yt=Ne[0];Ne=Ne[1];var vt=yt.split("_");oe=2<=vt.length&&vt[1]=="type"?oe+(yt+"="+Ne+"&"):oe+(yt+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+R+") [attempt "+B+"]: "+d+`
`+x+`
`+oe})}function wy(a,d,x,R,B,W,oe){a.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+B+"]: "+d+`
`+x+`
`+W+" "+oe})}function Yr(a,d,x,R){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ey(a,x)+(R?" "+R:"")})}function xy(a,d){a.info(function(){return"TIMEOUT: "+d})}Xi.prototype.info=function(){};function Ey(a,d){if(!a.g)return d;if(!d)return null;try{var x=JSON.parse(d);if(x){for(a=0;a<x.length;a++)if(Array.isArray(x[a])){var R=x[a];if(!(2>R.length)){var B=R[1];if(Array.isArray(B)&&!(1>B.length)){var W=B[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<B.length;oe++)B[oe]=""}}}}return Bt(x)}catch{return d}}var To={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ul;function So(){}y(So,qi),So.prototype.g=function(){return new XMLHttpRequest},So.prototype.i=function(){return{}},Ul=new So;function Un(a,d,x,R){this.j=a,this.i=d,this.l=x,this.R=R||1,this.U=new Me(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nd}function Nd(){this.i=null,this.g="",this.h=!1}var bd={},$l={};function Wl(a,d,x){a.L=1,a.v=No(Tn(d)),a.m=x,a.P=!0,Rd(a,null)}function Rd(a,d){a.F=Date.now(),Io(a),a.A=Tn(a.v);var x=a.A,R=a.R;Array.isArray(R)||(R=[String(R)]),Hd(x.i,"t",R),a.C=0,x=a.j.J,a.h=new Nd,a.g=cf(a.j,x?d:null,!a.m),0<a.O&&(a.M=new xr(v(a.Y,a,a.g),a.O)),d=a.U,x=a.g,R=a.ca;var B="readystatechange";Array.isArray(B)||(B&&(Er[0]=B.toString()),B=Er);for(var W=0;W<B.length;W++){var oe=H(x,B[W],R||d.handleEvent,!1,d.h||d);if(!oe)break;d.g[oe.key]=oe}d=a.H?I(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Gi(),vy(a.i,a.u,a.A,a.l,a.R,a.m)}Un.prototype.ca=function(a){a=a.target;const d=this.M;d&&Sn(a)==3?d.j():this.Y(a)},Un.prototype.Y=function(a){try{if(a==this.g)e:{const vt=Sn(this.g);var d=this.g.Ba();const Jr=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Zd(this.g)))){this.J||vt!=4||d==7||(d==8||0>=Jr?Gi(3):Gi(2)),Hl(this);var x=this.g.Z();this.X=x;t:if(Pd(this)){var R=Zd(this.g);a="";var B=R.length,W=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tr(this),Zi(this);var oe="";break t}this.h.i=new l.TextDecoder}for(d=0;d<B;d++)this.h.h=!0,a+=this.h.i.decode(R[d],{stream:!(W&&d==B-1)});R.length=0,this.h.g+=a,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=x==200,wy(this.i,this.u,this.A,this.l,this.R,vt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,ct=this.g;if((ze=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ze)){var Ne=ze;break t}}Ne=null}if(x=Ne)Yr(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kl(this,x);else{this.o=!1,this.s=3,Ct(12),Tr(this),Zi(this);break e}}if(this.P){x=!0;let sn;for(;!this.J&&this.C<oe.length;)if(sn=ky(this,oe),sn==$l){vt==4&&(this.s=4,Ct(14),x=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==bd){this.s=4,Ct(15),Yr(this.i,this.l,oe,"[Invalid Chunk]"),x=!1;break}else Yr(this.i,this.l,sn,null),Kl(this,sn);if(Pd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||oe.length!=0||this.h.h||(this.s=1,Ct(16),x=!1),this.o=this.o&&x,!x)Yr(this.i,this.l,oe,"[Invalid Chunked Response]"),Tr(this),Zi(this);else if(0<oe.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Zl(yt),yt.M=!0,Ct(11))}}else Yr(this.i,this.l,oe,null),Kl(this,oe);vt==4&&Tr(this),this.o&&!this.J&&(vt==4?of(this.j,this):(this.o=!1,Io(this)))}else Fy(this.g),x==400&&0<oe.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Tr(this),Zi(this)}}}catch{}finally{}};function Pd(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function ky(a,d){var x=a.C,R=d.indexOf(`
`,x);return R==-1?$l:(x=Number(d.substring(x,R)),isNaN(x)?bd:(R+=1,R+x>d.length?$l:(d=d.slice(R,R+x),a.C=R+x,d)))}Un.prototype.cancel=function(){this.J=!0,Tr(this)};function Io(a){a.S=Date.now()+a.I,Dd(a,a.I)}function Dd(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Yi(v(a.ba,a),d)}function Hl(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Un.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(xy(this.i,this.A),this.L!=2&&(Gi(),Ct(17)),Tr(this),this.s=2,Zi(this)):Dd(this,this.S-a)};function Zi(a){a.j.G==0||a.J||of(a.j,a)}function Tr(a){Hl(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Gr(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Kl(a,d){try{var x=a.j;if(x.G!=0&&(x.g==a||ql(x.h,a))){if(!a.K&&ql(x.h,a)&&x.G==3){try{var R=x.Da.g.parse(d)}catch{R=null}if(Array.isArray(R)&&R.length==3){var B=R;if(B[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<a.F)Vo(x),Do(x);else break e;Xl(x),Ct(18)}}else x.za=B[1],0<x.za-x.T&&37500>B[2]&&x.F&&x.v==0&&!x.C&&(x.C=Yi(v(x.Za,x),6e3));if(1>=Md(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ir(x,11)}else if((a.K||x.g==a)&&Vo(x),!_(d))for(B=x.Da.g.parse(d),d=0;d<B.length;d++){let Ne=B[d];if(x.T=Ne[0],Ne=Ne[1],x.G==2)if(Ne[0]=="c"){x.K=Ne[1],x.ia=Ne[2];const yt=Ne[3];yt!=null&&(x.la=yt,x.j.info("VER="+x.la));const vt=Ne[4];vt!=null&&(x.Aa=vt,x.j.info("SVER="+x.Aa));const Jr=Ne[5];Jr!=null&&typeof Jr=="number"&&0<Jr&&(R=1.5*Jr,x.L=R,x.j.info("backChannelRequestTimeoutMs_="+R)),R=x;const sn=a.g;if(sn){const zo=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zo){var W=R.h;W.g||zo.indexOf("spdy")==-1&&zo.indexOf("quic")==-1&&zo.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ql(W,W.h),W.h=null))}if(R.D){const Jl=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jl&&(R.ya=Jl,Fe(R.I,R.D,Jl))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-a.F,x.j.info("Handshake RTT: "+x.R+"ms")),R=x;var oe=a;if(R.qa=uf(R,R.J?R.ia:null,R.W),oe.K){zd(R.h,oe);var ze=oe,ct=R.L;ct&&(ze.I=ct),ze.B&&(Hl(ze),Io(ze)),R.g=oe}else rf(R);0<x.i.length&&jo(x)}else Ne[0]!="stop"&&Ne[0]!="close"||Ir(x,7);else x.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Ir(x,7):Yl(x):Ne[0]!="noop"&&x.l&&x.l.ta(Ne),x.v=0)}}Gi(4)}catch{}}var Ty=class{constructor(a,d){this.g=a,this.map=d}};function jd(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vd(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Md(a){return a.h?1:a.g?a.g.size:0}function ql(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Ql(a,d){a.g?a.g.add(d):a.h=d}function zd(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}jd.prototype.cancel=function(){if(this.i=Od(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Od(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const x of a.g.values())d=d.concat(x.D);return d}return p(a.i)}function Sy(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],x=a.length,R=0;R<x;R++)d.push(a[R]);return d}d=[],x=0;for(R in a)d[x++]=a[R];return d}function Iy(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var x=0;x<a;x++)d.push(x);return d}d=[],x=0;for(const R in a)d[x++]=R;return d}}}function Ld(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var x=Iy(a),R=Sy(a),B=R.length,W=0;W<B;W++)d.call(void 0,R[W],x&&x[W],a)}var Fd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ay(a,d){if(a){a=a.split("&");for(var x=0;x<a.length;x++){var R=a[x].indexOf("="),B=null;if(0<=R){var W=a[x].substring(0,R);B=a[x].substring(R+1)}else W=a[x];d(W,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Sr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Sr){this.h=a.h,Ao(this,a.j),this.o=a.o,this.g=a.g,Co(this,a.s),this.l=a.l;var d=a.i,x=new ts;x.i=d.i,d.g&&(x.g=new Map(d.g),x.h=d.h),Bd(this,x),this.m=a.m}else a&&(d=String(a).match(Fd))?(this.h=!1,Ao(this,d[1]||"",!0),this.o=Ji(d[2]||""),this.g=Ji(d[3]||"",!0),Co(this,d[4]),this.l=Ji(d[5]||"",!0),Bd(this,d[6]||"",!0),this.m=Ji(d[7]||"")):(this.h=!1,this.i=new ts(null,this.h))}Sr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(es(d,Ud,!0),":");var x=this.g;return(x||d=="file")&&(a.push("//"),(d=this.o)&&a.push(es(d,Ud,!0),"@"),a.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&a.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&a.push("/"),a.push(es(x,x.charAt(0)=="/"?by:Ny,!0))),(x=this.i.toString())&&a.push("?",x),(x=this.m)&&a.push("#",es(x,Py)),a.join("")};function Tn(a){return new Sr(a)}function Ao(a,d,x){a.j=x?Ji(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Co(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Bd(a,d,x){d instanceof ts?(a.i=d,Dy(a.i,a.h)):(x||(d=es(d,Ry)),a.i=new ts(d,a.h))}function Fe(a,d,x){a.i.set(d,x)}function No(a){return Fe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ji(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function es(a,d,x){return typeof a=="string"?(a=encodeURI(a).replace(d,Cy),x&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Cy(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ud=/[#\/\?@]/g,Ny=/[#\?:]/g,by=/[#\?]/g,Ry=/[#\?@]/g,Py=/#/g;function ts(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function $n(a){a.g||(a.g=new Map,a.h=0,a.i&&Ay(a.i,function(d,x){a.add(decodeURIComponent(d.replace(/\+/g," ")),x)}))}t=ts.prototype,t.add=function(a,d){$n(this),this.i=null,a=Xr(this,a);var x=this.g.get(a);return x||this.g.set(a,x=[]),x.push(d),this.h+=1,this};function $d(a,d){$n(a),d=Xr(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Wd(a,d){return $n(a),d=Xr(a,d),a.g.has(d)}t.forEach=function(a,d){$n(this),this.g.forEach(function(x,R){x.forEach(function(B){a.call(d,B,R,this)},this)},this)},t.na=function(){$n(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),x=[];for(let R=0;R<d.length;R++){const B=a[R];for(let W=0;W<B.length;W++)x.push(d[R])}return x},t.V=function(a){$n(this);let d=[];if(typeof a=="string")Wd(this,a)&&(d=d.concat(this.g.get(Xr(this,a))));else{a=Array.from(this.g.values());for(let x=0;x<a.length;x++)d=d.concat(a[x])}return d},t.set=function(a,d){return $n(this),this.i=null,a=Xr(this,a),Wd(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Hd(a,d,x){$d(a,d),0<x.length&&(a.i=null,a.g.set(Xr(a,d),p(x)),a.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var x=0;x<d.length;x++){var R=d[x];const W=encodeURIComponent(String(R)),oe=this.V(R);for(R=0;R<oe.length;R++){var B=W;oe[R]!==""&&(B+="="+encodeURIComponent(String(oe[R]))),a.push(B)}}return this.i=a.join("&")};function Xr(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Dy(a,d){d&&!a.j&&($n(a),a.i=null,a.g.forEach(function(x,R){var B=R.toLowerCase();R!=B&&($d(this,R),Hd(this,B,x))},a)),a.j=d}function jy(a,d){const x=new Xi;if(l.Image){const R=new Image;R.onload=h(Wn,x,"TestLoadImage: loaded",!0,d,R),R.onerror=h(Wn,x,"TestLoadImage: error",!1,d,R),R.onabort=h(Wn,x,"TestLoadImage: abort",!1,d,R),R.ontimeout=h(Wn,x,"TestLoadImage: timeout",!1,d,R),l.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=a}else d(!1)}function Vy(a,d){const x=new Xi,R=new AbortController,B=setTimeout(()=>{R.abort(),Wn(x,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:R.signal}).then(W=>{clearTimeout(B),W.ok?Wn(x,"TestPingServer: ok",!0,d):Wn(x,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(B),Wn(x,"TestPingServer: error",!1,d)})}function Wn(a,d,x,R,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),R(x)}catch{}}function My(){this.g=new Fl}function zy(a,d,x){const R=x||"";try{Ld(a,function(B,W){let oe=B;c(B)&&(oe=Bt(B)),d.push(R+W+"="+encodeURIComponent(oe))})}catch(B){throw d.push(R+"type="+encodeURIComponent("_badmap")),B}}function bo(a){this.l=a.Ub||null,this.j=a.eb||!1}y(bo,qi),bo.prototype.g=function(){return new Ro(this.l,this.j)},bo.prototype.i=function(a){return function(){return a}}({});function Ro(a,d){xe.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Ro,xe),t=Ro.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,rs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,rs(this)),this.g&&(this.readyState=3,rs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kd(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kd(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ns(this):rs(this),this.readyState==3&&Kd(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ns(this))},t.Qa=function(a){this.g&&(this.response=a,ns(this))},t.ga=function(){this.g&&ns(this)};function ns(a){a.readyState=4,a.l=null,a.j=null,a.v=null,rs(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var x=d.next();!x.done;)x=x.value,a.push(x[0]+": "+x[1]),x=d.next();return a.join(`\r
`)};function rs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ro.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function qd(a){let d="";return O(a,function(x,R){d+=R,d+=":",d+=x,d+=`\r
`}),d}function Gl(a,d,x){e:{for(R in x){var R=!1;break e}R=!0}R||(x=qd(x),typeof a=="string"?x!=null&&encodeURIComponent(String(x)):Fe(a,d,x))}function Ye(a){xe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Ye,xe);var Oy=/^https?$/i,Ly=["POST","PUT"];t=Ye.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,x,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ul.g(),this.v=this.o?Eo(this.o):Eo(Ul),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(W){Qd(this,W);return}if(a=x||"",x=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var B in R)x.set(B,R[B]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())x.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(x.keys()).find(W=>W.toLowerCase()=="content-type"),B=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Ly,d,void 0))||R||B||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of x)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xd(this),this.u=!0,this.g.send(a),this.u=!1}catch(W){Qd(this,W)}};function Qd(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Gd(a),Po(a)}function Gd(a){a.A||(a.A=!0,_e(a,"complete"),_e(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,_e(this,"complete"),_e(this,"abort"),Po(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Po(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Yd(this):this.bb())},t.bb=function(){Yd(this)};function Yd(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Sn(a)!=4||a.Z()!=2)){if(a.u&&Sn(a)==4)Fn(a.Ea,0,a);else if(_e(a,"readystatechange"),Sn(a)==4){a.h=!1;try{const oe=a.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var x;if(!(x=d)){var R;if(R=oe===0){var B=String(a.D).match(Fd)[1]||null;!B&&l.self&&l.self.location&&(B=l.self.location.protocol.slice(0,-1)),R=!Oy.test(B?B.toLowerCase():"")}x=R}if(x)_e(a,"complete"),_e(a,"success");else{a.m=6;try{var W=2<Sn(a)?a.g.statusText:""}catch{W=""}a.l=W+" ["+a.Z()+"]",Gd(a)}}finally{Po(a)}}}}function Po(a,d){if(a.g){Xd(a);const x=a.g,R=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||_e(a,"ready");try{x.onreadystatechange=R}catch{}}}function Xd(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Sn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),xo(d)}};function Zd(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Fy(a){const d={};a=(a.g&&2<=Sn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<a.length;R++){if(_(a[R]))continue;var x=z(a[R]);const B=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const W=d[B]||[];d[B]=W,W.push(x)}C(d,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(a,d,x){return x&&x.internalChannelParams&&x.internalChannelParams[a]||d}function Jd(a){this.Aa=0,this.i=[],this.j=new Xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=is("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=is("baseRetryDelayMs",5e3,a),this.cb=is("retryDelaySeedMs",1e4,a),this.Wa=is("forwardChannelMaxRetries",2,a),this.wa=is("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new jd(a&&a.concurrentRequestLimit),this.Da=new My,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jd.prototype,t.la=8,t.G=1,t.connect=function(a,d,x,R){Ct(0),this.W=a,this.H=d||{},x&&R!==void 0&&(this.H.OSID=x,this.H.OAID=R),this.F=this.X,this.I=uf(this,null,this.W),jo(this)};function Yl(a){if(ef(a),a.G==3){var d=a.U++,x=Tn(a.I);if(Fe(x,"SID",a.K),Fe(x,"RID",d),Fe(x,"TYPE","terminate"),ss(a,x),d=new Un(a,a.j,d),d.L=2,d.v=No(Tn(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!x&&l.Image&&(new Image().src=d.v,x=!0),x||(d.g=cf(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Io(d)}lf(a)}function Do(a){a.g&&(Zl(a),a.g.cancel(),a.g=null)}function ef(a){Do(a),a.u&&(l.clearTimeout(a.u),a.u=null),Vo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function jo(a){if(!Vd(a.h)&&!a.s){a.s=!0;var d=a.Ga;Z||ne(),G||(Z(),G=!0),K.add(d,a),a.B=0}}function By(a,d){return Md(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Yi(v(a.Ga,a,d),af(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const B=new Un(this,this.j,a);let W=this.o;if(this.S&&(W?(W=I(W),D(W,this.S)):W=this.S),this.m!==null||this.O||(B.H=W,W=null),this.P)e:{for(var d=0,x=0;x<this.i.length;x++){t:{var R=this.i[x];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(d+=R,4096<d){d=x;break e}if(d===4096||x===this.i.length-1){d=x+1;break e}}d=1e3}else d=1e3;d=nf(this,B,d),x=Tn(this.I),Fe(x,"RID",a),Fe(x,"CVER",22),this.D&&Fe(x,"X-HTTP-Session-Id",this.D),ss(this,x),W&&(this.O?d="headers="+encodeURIComponent(String(qd(W)))+"&"+d:this.m&&Gl(x,this.m,W)),Ql(this.h,B),this.Ua&&Fe(x,"TYPE","init"),this.P?(Fe(x,"$req",d),Fe(x,"SID","null"),B.T=!0,Wl(B,x,null)):Wl(B,x,d),this.G=2}}else this.G==3&&(a?tf(this,a):this.i.length==0||Vd(this.h)||tf(this))};function tf(a,d){var x;d?x=d.l:x=a.U++;const R=Tn(a.I);Fe(R,"SID",a.K),Fe(R,"RID",x),Fe(R,"AID",a.T),ss(a,R),a.m&&a.o&&Gl(R,a.m,a.o),x=new Un(a,a.j,x,a.B+1),a.m===null&&(x.H=a.o),d&&(a.i=d.D.concat(a.i)),d=nf(a,x,1e3),x.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ql(a.h,x),Wl(x,R,d)}function ss(a,d){a.H&&O(a.H,function(x,R){Fe(d,R,x)}),a.l&&Ld({},function(x,R){Fe(d,R,x)})}function nf(a,d,x){x=Math.min(a.i.length,x);var R=a.l?v(a.l.Na,a.l,a):null;e:{var B=a.i;let W=-1;for(;;){const oe=["count="+x];W==-1?0<x?(W=B[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let ze=!0;for(let ct=0;ct<x;ct++){let Ne=B[ct].g;const yt=B[ct].map;if(Ne-=W,0>Ne)W=Math.max(0,B[ct].g-100),ze=!1;else try{zy(yt,oe,"req"+Ne+"_")}catch{R&&R(yt)}}if(ze){R=oe.join("&");break e}}}return a=a.i.splice(0,x),d.D=a,R}function rf(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Z||ne(),G||(Z(),G=!0),K.add(d,a),a.v=0}}function Xl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Yi(v(a.Fa,a),af(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,sf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Yi(v(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),Do(this),sf(this))};function Zl(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function sf(a){a.g=new Un(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Tn(a.qa);Fe(d,"RID","rpc"),Fe(d,"SID",a.K),Fe(d,"AID",a.T),Fe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Fe(d,"TO",a.ja),Fe(d,"TYPE","xmlhttp"),ss(a,d),a.m&&a.o&&Gl(d,a.m,a.o),a.L&&(a.g.I=a.L);var x=a.g;a=a.ia,x.L=1,x.v=No(Tn(d)),x.m=null,x.P=!0,Rd(x,a)}t.Za=function(){this.C!=null&&(this.C=null,Do(this),Xl(this),Ct(19))};function Vo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function of(a,d){var x=null;if(a.g==d){Vo(a),Zl(a),a.g=null;var R=2}else if(ql(a.h,d))x=d.D,zd(a.h,d),R=1;else return;if(a.G!=0){if(d.o)if(R==1){x=d.m?d.m.length:0,d=Date.now()-d.F;var B=a.B;R=ko(),_e(R,new Ad(R,x)),jo(a)}else rf(a);else if(B=d.s,B==3||B==0&&0<d.X||!(R==1&&By(a,d)||R==2&&Xl(a)))switch(x&&0<x.length&&(d=a.h,d.i=d.i.concat(x)),B){case 1:Ir(a,5);break;case 4:Ir(a,10);break;case 3:Ir(a,6);break;default:Ir(a,2)}}}function af(a,d){let x=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(x*=2),x*d}function Ir(a,d){if(a.j.info("Error code "+d),d==2){var x=v(a.fb,a),R=a.Xa;const B=!R;R=new Sr(R||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ao(R,"https"),No(R),B?jy(R.toString(),x):Vy(R.toString(),x)}else Ct(2);a.G=0,a.l&&a.l.sa(d),lf(a),ef(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function lf(a){if(a.G=0,a.ka=[],a.l){const d=Od(a.h);(d.length!=0||a.i.length!=0)&&(k(a.ka,d),k(a.ka,a.i),a.h.i.length=0,p(a.i),a.i.length=0),a.l.ra()}}function uf(a,d,x){var R=x instanceof Sr?Tn(x):new Sr(x);if(R.g!="")d&&(R.g=d+"."+R.g),Co(R,R.s);else{var B=l.location;R=B.protocol,d=d?d+"."+B.hostname:B.hostname,B=+B.port;var W=new Sr(null);R&&Ao(W,R),d&&(W.g=d),B&&Co(W,B),x&&(W.l=x),R=W}return x=a.D,d=a.ya,x&&d&&Fe(R,x,d),Fe(R,"VER",a.la),ss(a,R),R}function cf(a,d,x){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ye(new bo({eb:x})):new Ye(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hf(){}t=hf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mo(){}Mo.prototype.g=function(a,d){return new Ut(a,d)};function Ut(a,d){xe.call(this),this.g=new Jd(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!_(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Zr(this)}y(Ut,xe),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Yl(this.g)},Ut.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var x={};x.__data__=a,a=x}else this.u&&(x={},x.__data__=Bt(a),a=x);d.i.push(new Ty(d.Ya++,a)),d.G==3&&jo(d)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,Ut.aa.N.call(this)};function df(a){Bn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const x in d){a=x;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}y(df,Bn);function ff(){Bl.call(this),this.status=1}y(ff,Bl);function Zr(a){this.g=a}y(Zr,hf),Zr.prototype.ua=function(){_e(this.g,"a")},Zr.prototype.ta=function(a){_e(this.g,new df(a))},Zr.prototype.sa=function(a){_e(this.g,new ff)},Zr.prototype.ra=function(){_e(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,s_=function(){return new Mo},i_=function(){return ko()},r_=kr,Dc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},To.NO_ERROR=0,To.TIMEOUT=8,To.HTTP_ERROR=6,wa=To,Cd.COMPLETE="complete",n_=Cd,Qi.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",xe.prototype.listen=xe.prototype.K,ws=Qi,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,t_=Ye}).apply(typeof ra<"u"?ra:typeof self<"u"?self:typeof window<"u"?window:{});const Mp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $i="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Q0("@firebase/firestore");function ps(){return Ur.logLevel}function he(t,...e){if(Ur.logLevel<=Ie.DEBUG){const n=e.map(Kh);Ur.debug(`Firestore (${$i}): ${t}`,...n)}}function zn(t,...e){if(Ur.logLevel<=Ie.ERROR){const n=e.map(Kh);Ur.error(`Firestore (${$i}): ${t}`,...n)}}function Pi(t,...e){if(Ur.logLevel<=Ie.WARN){const n=e.map(Kh);Ur.warn(`Firestore (${$i}): ${t}`,...n)}}function Kh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${$i}) INTERNAL ASSERTION FAILED: `+t;throw zn(e),new Error(e)}function je(t,e){t||ye()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class Q2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class G2{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new o_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new kt(e)}}class Y2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class X2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Y2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){je(this.o===void 0);const r=s=>{s.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new Z2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=eE(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Di(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new st(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new st(0,0))}static max(){return new ve(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return no.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof no?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class We extends no{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new We(n)}static emptyPath(){return new We([])}}const tE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends no{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return tE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(We.fromString(e))}static fromName(e){return new ge(We.fromString(e).popFirst(5))}static empty(){return new ge(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new We(e.slice()))}}function nE(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new pr(i,ge.empty(),e)}function rE(t){return new pr(t.readTime,t.key,-1)}class pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pr(ve.min(),ge.empty(),-1)}static max(){return new pr(ve.max(),ge.empty(),-1)}}function iE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==sE)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new ee((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function aE(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qh.oe=-1;function Sl(t){return t==null}function Ja(t){return t===0&&1/t==-1/0}function lE(t){return typeof t=="number"&&Number.isInteger(t)&&!Ja(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ia(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ia(this.root,e,this.comparator,!1)}getReverseIterator(){return new ia(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ia(this.root,e,this.comparator,!0)}}class ia{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dt.RED,this.left=i??dt.EMPTY,this.right=s??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,s){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Op(this.data.getIterator())}getIteratorFrom(e){return new Op(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class Op{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Ht([])}unionWith(e){let n=new mt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ht(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Di(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new u_("Invalid base64 string: "+s):s}}(e);return new _t(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const uE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(t){if(je(!!t),typeof t=="string"){let e=0;const n=uE.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $r(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gh(t){const e=t.mapValue.fields.__previous_value__;return Qh(e)?Gh(e):e}function ro(t){const e=mr(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class io{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new io("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qh(t)?4:dE(t)?9007199254740991:hE(t)?10:11:ye()}function En(t,e){if(t===e)return!0;const n=Wr(t);if(n!==Wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ro(t).isEqual(ro(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=mr(i.timestampValue),l=mr(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return $r(i.bytesValue).isEqual($r(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ze(i.geoPointValue.latitude)===Ze(s.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ze(i.integerValue)===Ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ze(i.doubleValue),l=Ze(s.doubleValue);return o===l?Ja(o)===Ja(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Di(t.arrayValue.values||[],e.arrayValue.values||[],En);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(zp(o)!==zp(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!En(o[u],l[u])))return!1;return!0}(t,e);default:return ye()}}function so(t,e){return(t.values||[]).find(n=>En(n,e))!==void 0}function ji(t,e){if(t===e)return 0;const n=Wr(t),r=Wr(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Ze(s.integerValue||s.doubleValue),u=Ze(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Lp(t.timestampValue,e.timestampValue);case 4:return Lp(ro(t),ro(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(s,o){const l=$r(s),u=$r(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=be(l[c],u[c]);if(f!==0)return f}return be(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=be(Ze(s.latitude),Ze(o.latitude));return l!==0?l:be(Ze(s.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Fp(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,c,f;const g=s.fields||{},v=o.fields||{},h=(l=g.value)===null||l===void 0?void 0:l.arrayValue,y=(u=v.value)===null||u===void 0?void 0:u.arrayValue,p=be(((c=h==null?void 0:h.values)===null||c===void 0?void 0:c.length)||0,((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0);return p!==0?p:Fp(h,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===sa.mapValue&&o===sa.mapValue)return 0;if(s===sa.mapValue)return 1;if(o===sa.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const v=be(u[g],f[g]);if(v!==0)return v;const h=ji(l[u[g]],c[f[g]]);if(h!==0)return h}return be(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ye()}}function Lp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=mr(t),r=mr(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function Fp(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ji(n[i],r[i]);if(s)return s}return be(n.length,r.length)}function Vi(t){return jc(t)}function jc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $r(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=jc(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${jc(n.fields[o])}`;return i+"}"}(t.mapValue):ye()}function Vc(t){return!!t&&"integerValue"in t}function Yh(t){return!!t&&"arrayValue"in t}function Bp(t){return!!t&&"nullValue"in t}function Up(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xa(t){return!!t&&"mapValue"in t}function hE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ps(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ps(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ps(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.value=e}static empty(){return new Vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ps(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Ps(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());xa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return En(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vt(Ps(this.value))}}function c_(t){const e=[];return qr(t.fields,(n,r)=>{const i=new ft([n]);if(xa(r)){const s=c_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ht(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new St(e,0,ve.min(),ve.min(),ve.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new St(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new St(e,2,n,ve.min(),ve.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,ve.min(),ve.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.position=e,this.inclusive=n}}function $p(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ge.comparator(ge.fromName(o.referenceValue),n.key):r=ji(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!En(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n="asc"){this.field=e,this.dir=n}}function fE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{}class rt extends h_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mE(e,n,r):n==="array-contains"?new yE(e,r):n==="in"?new vE(e,r):n==="not-in"?new wE(e,r):n==="array-contains-any"?new xE(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gE(e,r):new _E(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ji(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends h_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new kn(e,n)}matches(e){return d_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function d_(t){return t.op==="and"}function f_(t){return pE(t)&&d_(t)}function pE(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function Mc(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Vi(t.value);if(f_(t))return t.filters.map(e=>Mc(e)).join(",");{const e=t.filters.map(n=>Mc(n)).join(",");return`${t.op}(${e})`}}function p_(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&En(r.value,i.value)}(t,e):t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&p_(o,i.filters[l]),!0):!1}(t,e):void ye()}function m_(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${Vi(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(m_).join(" ,")+"}"}(t):"Filter"}class mE extends rt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class gE extends rt{constructor(e,n){super(e,"in",n),this.keys=g_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _E extends rt{constructor(e,n){super(e,"not-in",n),this.keys=g_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function g_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class yE extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yh(n)&&so(n.arrayValue,this.value)}}class vE extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&so(this.value.arrayValue,n)}}class wE extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!so(this.value.arrayValue,n)}}class xE extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>so(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function Hp(t,e=null,n=[],r=[],i=null,s=null,o=null){return new EE(t,e,n,r,i,s,o)}function Xh(t){const e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vi(r)).join(",")),e.ue=n}return e.ue}function Zh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fE(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!p_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wp(t.startAt,e.startAt)&&Wp(t.endAt,e.endAt)}function zc(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kE(t,e,n,r,i,s,o,l){return new Il(t,e,n,r,i,s,o,l)}function __(t){return new Il(t)}function Kp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TE(t){return t.collectionGroup!==null}function Ds(t){const e=we(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new mt(ft.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new tl(s,r))}),n.has(ft.keyField().canonicalString())||e.ce.push(new tl(ft.keyField(),r))}return e.ce}function wn(t){const e=we(t);return e.le||(e.le=SE(e,Ds(t))),e.le}function SE(t,e){if(t.limitType==="F")return Hp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new tl(i.field,s)});const n=t.endAt?new el(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new el(t.startAt.position,t.startAt.inclusive):null;return Hp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Oc(t,e,n){return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Al(t,e){return Zh(wn(t),wn(e))&&t.limitType===e.limitType}function y_(t){return`${Xh(wn(t))}|lt:${t.limitType}`}function ti(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>m_(i)).join(", ")}]`),Sl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vi(i)).join(",")),`Target(${r})`}(wn(t))}; limitType=${t.limitType})`}function Cl(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ds(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=$p(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Ds(r),i)||r.endAt&&!function(o,l,u){const c=$p(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Ds(r),i))}(t,e)}function IE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v_(t){return(e,n)=>{let r=!1;for(const i of Ds(t)){const s=AE(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function AE(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?ji(u,c):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return l_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Ge(ge.comparator);function On(){return CE}const w_=new Ge(ge.comparator);function xs(...t){let e=w_;for(const n of t)e=e.insert(n.key,n);return e}function x_(t){let e=w_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Dr(){return js()}function E_(){return js()}function js(){return new Wi(t=>t.toString(),(t,e)=>t.isEqual(e))}const NE=new Ge(ge.comparator),bE=new mt(ge.comparator);function Te(...t){let e=bE;for(const n of t)e=e.add(n);return e}const RE=new mt(be);function PE(){return RE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ja(e)?"-0":e}}function k_(t){return{integerValue:""+t}}function DE(t,e){return lE(e)?k_(e):Jh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this._=void 0}}function jE(t,e,n){return t instanceof nl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Qh(s)&&(s=Gh(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof oo?S_(t,e):t instanceof ao?I_(t,e):function(i,s){const o=T_(i,s),l=qp(o)+qp(i.Pe);return Vc(o)&&Vc(i.Pe)?k_(l):Jh(i.serializer,l)}(t,e)}function VE(t,e,n){return t instanceof oo?S_(t,e):t instanceof ao?I_(t,e):n}function T_(t,e){return t instanceof rl?function(r){return Vc(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class nl extends Nl{}class oo extends Nl{constructor(e){super(),this.elements=e}}function S_(t,e){const n=A_(e);for(const r of t.elements)n.some(i=>En(i,r))||n.push(r);return{arrayValue:{values:n}}}class ao extends Nl{constructor(e){super(),this.elements=e}}function I_(t,e){let n=A_(e);for(const r of t.elements)n=n.filter(i=>!En(i,r));return{arrayValue:{values:n}}}class rl extends Nl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qp(t){return Ze(t.integerValue||t.doubleValue)}function A_(t){return Yh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ME(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oo&&i instanceof oo||r instanceof ao&&i instanceof ao?Di(r.elements,i.elements,En):r instanceof rl&&i instanceof rl?En(r.Pe,i.Pe):r instanceof nl&&i instanceof nl}(t.transform,e.transform)}class zE{constructor(e,n){this.version=e,this.transformResults=n}}class dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ea(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bl{}function C_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ed(t.key,dn.none()):new go(t.key,t.data,dn.none());{const n=t.data,r=Vt.empty();let i=new mt(ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new wr(t.key,r,new Ht(i.toArray()),dn.none())}}function OE(t,e,n){t instanceof go?function(i,s,o){const l=i.value.clone(),u=Gp(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof wr?function(i,s,o){if(!Ea(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Gp(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(N_(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vs(t,e,n,r){return t instanceof go?function(s,o,l,u){if(!Ea(s.precondition,o))return l;const c=s.value.clone(),f=Yp(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof wr?function(s,o,l,u){if(!Ea(s.precondition,o))return l;const c=Yp(s.fieldTransforms,u,o),f=o.data;return f.setAll(N_(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,l){return Ea(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function LE(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=T_(r.transform,i||null);s!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,s))}return n||null}function Qp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Di(r,i,(s,o)=>ME(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class go extends bl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wr extends bl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function N_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Gp(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,VE(o,l,n[i]))}return r}function Yp(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,jE(s,o,e))}return r}class ed extends bl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FE extends bl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&OE(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=C_(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&Di(this.mutations,e.mutations,(n,r)=>Qp(n,r))&&Di(this.baseMutations,e.baseMutations,(n,r)=>Qp(n,r))}}class td{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return NE}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new td(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,Se;function WE(t){switch(t){default:return ye();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function b_(t){if(t===void 0)return zn("GRPC error has no .code"),J.UNKNOWN;switch(t){case et.OK:return J.OK;case et.CANCELLED:return J.CANCELLED;case et.UNKNOWN:return J.UNKNOWN;case et.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case et.INTERNAL:return J.INTERNAL;case et.UNAVAILABLE:return J.UNAVAILABLE;case et.UNAUTHENTICATED:return J.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case et.NOT_FOUND:return J.NOT_FOUND;case et.ALREADY_EXISTS:return J.ALREADY_EXISTS;case et.PERMISSION_DENIED:return J.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case et.ABORTED:return J.ABORTED;case et.OUT_OF_RANGE:return J.OUT_OF_RANGE;case et.UNIMPLEMENTED:return J.UNIMPLEMENTED;case et.DATA_LOSS:return J.DATA_LOSS;default:return ye()}}(Se=et||(et={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Mr([4294967295,4294967295],0);function Xp(t){const e=HE().encode(t),n=new e_;return n.update(e),new Uint8Array(n.digest())}function Zp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Mr([n,r],0),new Mr([i,s],0)]}class nd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Es(`Invalid padding: ${n}`);if(r<0)throw new Es(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Es(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Es(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Mr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Mr.fromNumber(r)));return i.compare(KE)===1&&(i=new Mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Xp(e),[r,i]=Zp(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new nd(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Xp(e),[r,i]=Zp(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Es extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_o.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rl(ve.min(),i,new Ge(be),On(),Te())}}class _o{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _o(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class R_{constructor(e,n){this.targetId=e,this.me=n}}class P_{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Jp{constructor(){this.fe=0,this.ge=tm(),this.pe=_t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),n=Te(),r=Te();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new _o(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=tm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qE{constructor(e){this.Le=e,this.Be=new Map,this.ke=On(),this.qe=em(),this.Qe=new Ge(be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(zc(s))if(r===0){const o=new ge(s.path);this.Ue(n,o,St.newNoDocument(o,ve.min()))}else je(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=$r(r).toUint8Array()}catch(u){if(u instanceof u_)return Pi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new nd(o,i,s)}catch(u){return Pi(u instanceof Es?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&zc(l.target)){const u=new ge(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,St.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Te();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Rl(e,n,this.Qe,this.ke,r);return this.ke=On(),this.qe=em(),this.Qe=new Ge(be),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Jp,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Jp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function em(){return new Ge(ge.comparator)}function tm(){return new Ge(ge.comparator)}const QE=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),GE=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),YE=(()=>({and:"AND",or:"OR"}))();class XE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lc(t,e){return t.useProto3Json||Sl(e)?e:{value:e}}function il(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZE(t,e){return il(t,e.toTimestamp())}function xn(t){return je(!!t),ve.fromTimestamp(function(n){const r=mr(n);return new st(r.seconds,r.nanos)}(t))}function rd(t,e){return Fc(t,e).canonicalString()}function Fc(t,e){const n=function(i){return new We(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function j_(t){const e=We.fromString(t);return je(L_(e)),e}function Bc(t,e){return rd(t.databaseId,e.path)}function bu(t,e){const n=j_(e);if(n.get(1)!==t.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(M_(n))}function V_(t,e){return rd(t.databaseId,e)}function JE(t){const e=j_(t);return e.length===4?We.emptyPath():M_(e)}function Uc(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function M_(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nm(t,e,n){return{name:Bc(t,e),fields:n.value.mapValue.fields}}function ek(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(je(f===void 0||typeof f=="string"),_t.fromBase64String(f||"")):(je(f===void 0||f instanceof Buffer||f instanceof Uint8Array),_t.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const f=c.code===void 0?J.UNKNOWN:b_(c.code);return new de(f,c.message||"")}(o);n=new P_(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bu(t,r.document.name),s=xn(r.document.updateTime),o=r.document.createTime?xn(r.document.createTime):ve.min(),l=new Vt({mapValue:{fields:r.document.fields}}),u=St.newFoundDocument(i,s,o,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new ka(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bu(t,r.document),s=r.readTime?xn(r.readTime):ve.min(),o=St.newNoDocument(i,s),l=r.removedTargetIds||[];n=new ka([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bu(t,r.document),s=r.removedTargetIds||[];n=new ka([],s,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new $E(i,s),l=r.targetId;n=new R_(l,o)}}return n}function tk(t,e){let n;if(e instanceof go)n={update:nm(t,e.key,e.value)};else if(e instanceof ed)n={delete:Bc(t,e.key)};else if(e instanceof wr)n={update:nm(t,e.key,e.data),updateMask:ck(e.fieldMask)};else{if(!(e instanceof FE))return ye();n={verify:Bc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof nl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof oo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ao)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof rl)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ZE(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ye()}(t,e.precondition)),n}function nk(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?xn(i.updateTime):xn(s);return o.isEqual(ve.min())&&(o=xn(s)),new zE(o,i.transformResults||[])}(n,e))):[]}function rk(t,e){return{documents:[V_(t,e.path)]}}function ik(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=V_(t,i);const s=function(c){if(c.length!==0)return O_(kn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(v){return{field:ni(v.field),direction:ak(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Lc(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function sk(t){let e=JE(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){const v=z_(g);return v instanceof kn&&f_(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(v=>function(y){return new tl(ri(y.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(v))}(n.orderBy));let l=null;n.limit&&(l=function(g){let v;return v=typeof g=="object"?g.value:g,Sl(v)?null:v}(n.limit));let u=null;n.startAt&&(u=function(g){const v=!!g.before,h=g.values||[];return new el(h,v)}(n.startAt));let c=null;return n.endAt&&(c=function(g){const v=!g.before,h=g.values||[];return new el(h,v)}(n.endAt)),kE(e,i,o,s,l,"F",u,c)}function ok(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function z_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ri(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ri(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ri(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ri(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(ri(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>z_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function ak(t){return QE[t]}function lk(t){return GE[t]}function uk(t){return YE[t]}function ni(t){return{fieldPath:t.canonicalString()}}function ri(t){return ft.fromServerFormat(t.fieldPath)}function O_(t){return t instanceof rt?function(n){if(n.op==="=="){if(Up(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NAN"}};if(Bp(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Up(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NOT_NAN"}};if(Bp(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ni(n.field),op:lk(n.op),value:n.value}}}(t):t instanceof kn?function(n){const r=n.getFilters().map(i=>O_(i));return r.length===1?r[0]:{compositeFilter:{op:uk(n.op),filters:r}}}(t):ye()}function ck(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function L_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r,i,s=ve.min(),o=ve.min(),l=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Zn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.ct=e}}function dk(t){const e=sk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Oc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.un=new pk}addToCollectionParentIndex(e,n){return this.un.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(pr.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class pk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mt(We.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Mi(0)}static kn(){return new Mi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.changes=new Wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Vs(r.mutation,i,Ht.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const i=Dr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=xs();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Dr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=On();const o=js(),l=function(){return js()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof wr)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),Vs(f.mutation,c,f.mutation.getFieldMask(),st.now())):o.set(c.key,Ht.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var g;return l.set(c,new gk(f,(g=o.get(c))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=js();let i=new Ge((o,l)=>o-l),s=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||Ht.empty();f=l.applyToLocalView(c,f),r.set(u,f);const g=(i.get(l.batchId)||Te()).add(u);i=i.insert(l.batchId,g)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,g=E_();f.forEach(v=>{if(!s.has(v)){const h=C_(n.get(v),r.get(v));h!==null&&g.set(v,h),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,g))}return ee.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ee.resolve(Dr());let l=-1,u=s;return o.next(c=>ee.forEach(c,(f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(f)?ee.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{u=u.insert(f,v)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Te())).next(f=>({batchId:l,changes:x_(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=xs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=xs();return this.indexManager.getCollectionParents(e,s).next(l=>ee.forEach(l,u=>{const c=function(g,v){return new Il(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,St.newInvalidDocument(f)))});let l=xs();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&Vs(f.mutation,c,Ht.empty(),st.now()),Cl(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ee.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xn(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:dk(i.bundledQuery),readTime:xn(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.overlays=new Ge(ge.comparator),this.Ir=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Dr();return ee.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=Dr(),s=n.length+1,o=new ge(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ge((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=Dr(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Dr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return ee.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new UE(n,r));let s=this.Ir.get(n);s===void 0&&(s=Te(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.Tr=new mt(ot.Er),this.dr=new mt(ot.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ot(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ge(new We([])),r=new ot(n,e),i=new ot(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ge(new We([])),r=new ot(n,e),i=new ot(n,e+1);let s=Te();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ot(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ge.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new mt(ot.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new BE(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new ot(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,n){return ee.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(be);return n.forEach(i=>{const s=new ot(i,0),o=new ot(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),ee.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ge.isDocumentKey(s)||(s=s.child(""));const o=new ot(new ge(s),0);let l=new mt(be);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},o),ee.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ee.forEach(n.mutations,i=>{const s=new ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ot(n,0),i=this.br.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.Mr=e,this.docs=function(){return new Ge(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=On();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():St.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=On();const o=n.path,l=new ge(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||iE(rE(f),r)<=0||(i.has(f.key)||Cl(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return ee.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ye()}Or(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kk(this)}getSize(e){return ee.resolve(this.size)}}class kk extends mk{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.persistence=e,this.Nr=new Wi(n=>Xh(n),Zh),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new id,this.targetCount=0,this.kr=Mi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Mi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Kn(n),ee.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ee.waitFor(s).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ee.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n){this.qr={},this.overlays={},this.Qr=new qh(0),this.Kr=!1,this.Kr=!0,this.$r=new wk,this.referenceDelegate=e(this),this.Ur=new Tk(this),this.indexManager=new fk,this.remoteDocumentCache=function(i){return new Ek(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new hk(n),this.Gr=new yk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new xk(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new Ik(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ee.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Ik extends oE{constructor(e){super(),this.currentSequenceNumber=e}}class sd{constructor(e){this.persistence=e,this.Jr=new id,this.Yr=null}static Zr(e){return new sd(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,r=>{const i=ge.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ee.or([()=>ee.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Te(),i=Te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new od(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Nx()?8:aE(Ax())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Ak;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ps()<=Ie.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ti(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(ps()<=Ie.DEBUG&&he("QueryEngine","Query:",ti(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ps()<=Ie.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ti(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wn(n))):ee.resolve())}Yi(e,n){if(Kp(n))return ee.resolve(null);let r=wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Oc(n,null,"F"),r=wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Te(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,o,u.readTime)?this.Yi(e,Oc(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return Kp(n)||i.isEqual(ve.min())?ee.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ee.resolve(null):(ps()<=Ie.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ti(n)),this.rs(e,o,n,nE(i,-1)).next(l=>l))})}ts(e,n){let r=new mt(v_(e));return n.forEach((i,s)=>{Cl(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ps()<=Ie.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ti(n)),this.Ji.getDocumentsMatchingQuery(e,n,pr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ge(be),this._s=new Wi(s=>Xh(s),Zh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _k(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function bk(t,e,n,r){return new Nk(t,e,n,r)}async function F_(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=Te();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:l}))})})}function Rk(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const g=c.batch,v=g.keys();let h=ee.resolve();return v.forEach(y=>{h=h.next(()=>f.getEntry(u,y)).next(p=>{const k=c.docVersions.get(y);je(k!==null),p.version.compareTo(k)<0&&(g.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),f.addEntry(p)))})}),h.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Te();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function B_(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Pk(t,e){const n=we(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((f,g)=>{const v=i.get(g);if(!v)return;l.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,g)));let h=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?h=h.withResumeToken(_t.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):f.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(f.resumeToken,r)),i=i.insert(g,h),function(p,k,m){return p.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(v,h,f)&&l.push(n.Ur.updateTargetData(s,h))});let u=On(),c=Te();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(Dk(s,o,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(ve.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return ee.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function Dk(t,e,n){let r=Te(),i=Te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=On();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ve.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):he("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function jk(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Vk(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ee.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Zn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function $c(t,e,n){const r=we(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!mo(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function rm(t,e,n){const r=we(t);let i=ve.min(),s=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const g=we(u),v=g._s.get(f);return v!==void 0?ee.resolve(g.os.get(v)):g.Ur.getTargetData(c,f)}(r,o,wn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ve.min(),n?s:Te())).next(l=>(Mk(r,IE(e),l),{documents:l,Ts:s})))}function Mk(t,e,n){let r=t.us.get(e)||ve.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class im{constructor(){this.activeTargetIds=PE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zk{constructor(){this.so=new im,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new im,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa=null;function Ru(){return oa===null?oa=function(){return 268435456+Math.round(2147483648*Math.random())}():oa++,"0x"+oa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class Bk extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=Ru(),u=this.xo(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(f=>(he("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Pi("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$i}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=Lk[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Ru();return new Promise((o,l)=>{const u=new t_;u.setWithCredentials(!0),u.listenOnce(n_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case wa.NO_ERROR:const f=u.getResponseJson();he(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case wa.TIMEOUT:he(Et,`RPC '${e}' ${s} timed out`),l(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case wa.HTTP_ERROR:const g=u.getStatus();if(he(Et,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const h=v==null?void 0:v.error;if(h&&h.status&&h.message){const y=function(k){const m=k.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(m)>=0?m:J.UNKNOWN}(h.status);l(new de(y,h.message))}else l(new de(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new de(J.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{he(Et,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);he(Et,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Ru(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=s_(),l=i_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");he(Et,`Creating RPC '${e}' stream ${i}: ${f}`,u);const g=o.createWebChannel(f,u);let v=!1,h=!1;const y=new Fk({Io:k=>{h?he(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(v||(he(Et,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),he(Et,`RPC '${e}' stream ${i} sending:`,k),g.send(k))},To:()=>g.close()}),p=(k,m,_)=>{k.listen(m,T=>{try{_(T)}catch(P){setTimeout(()=>{throw P},0)}})};return p(g,ws.EventType.OPEN,()=>{h||(he(Et,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),p(g,ws.EventType.CLOSE,()=>{h||(h=!0,he(Et,`RPC '${e}' stream ${i} transport closed`),y.So())}),p(g,ws.EventType.ERROR,k=>{h||(h=!0,Pi(Et,`RPC '${e}' stream ${i} transport errored:`,k),y.So(new de(J.UNAVAILABLE,"The operation could not be completed")))}),p(g,ws.EventType.MESSAGE,k=>{var m;if(!h){const _=k.data[0];je(!!_);const T=_,P=T.error||((m=T[0])===null||m===void 0?void 0:m.error);if(P){he(Et,`RPC '${e}' stream ${i} received error:`,P);const V=P.status;let O=function(N){const D=et[N];if(D!==void 0)return b_(D)}(V),C=P.message;O===void 0&&(O=J.INTERNAL,C="Unknown error status: "+V+" with message "+P.message),h=!0,y.So(new de(O,C)),g.close()}else he(Et,`RPC '${e}' stream ${i} received:`,_),y.bo(_)}}),p(l,r_.STAT_EVENT,k=>{k.stat===Dc.PROXY?he(Et,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Dc.NOPROXY&&he(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Pu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){return new XE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new U_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(zn(n.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new de(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uk extends $_{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=ek(this.serializer,e),r=function(s){if(!("targetChange"in s))return ve.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?xn(o.readTime):ve.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Uc(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=zc(u)?{documents:rk(s,u)}:{query:ik(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=D_(s,o.resumeToken);const c=Lc(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(ve.min())>0){l.readTime=il(s,o.snapshotVersion.toTimestamp());const c=Lc(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=ok(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Uc(this.serializer),n.removeTarget=e,this.a_(n)}}class $k extends $_{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=nk(e.writeResults,e.commitTime),r=xn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Uc(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tk(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Fc(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(J.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Fc(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(J.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Hk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zn(n),this.D_=!1):he("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Qr(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=we(u);c.L_.add(4),await yo(c),c.q_.set("Unknown"),c.L_.delete(4),await Dl(c)}(this))})}),this.q_=new Hk(r,i)}}async function Dl(t){if(Qr(t))for(const e of t.B_)await e(!0)}async function yo(t){for(const e of t.B_)await e(!1)}function W_(t,e){const n=we(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),cd(n)?ud(n):Hi(n).r_()&&ld(n,e))}function ad(t,e){const n=we(t),r=Hi(n);n.N_.delete(e),r.r_()&&H_(n,e),n.N_.size===0&&(r.r_()?r.o_():Qr(n)&&n.q_.set("Unknown"))}function ld(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hi(t).A_(e)}function H_(t,e){t.Q_.xe(e),Hi(t).R_(e)}function ud(t){t.Q_=new qE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Hi(t).start(),t.q_.v_()}function cd(t){return Qr(t)&&!Hi(t).n_()&&t.N_.size>0}function Qr(t){return we(t).L_.size===0}function K_(t){t.Q_=void 0}async function qk(t){t.q_.set("Online")}async function Qk(t){t.N_.forEach((e,n)=>{ld(t,e)})}async function Gk(t,e){K_(t),cd(t)?(t.q_.M_(e),ud(t)):t.q_.set("Unknown")}async function Yk(t,e,n){if(t.q_.set("Online"),e instanceof P_&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sl(t,r)}else if(e instanceof ka?t.Q_.Ke(e):e instanceof R_?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ve.min()))try{const r=await B_(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(c);f&&s.N_.set(c,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(_t.EMPTY_BYTE_STRING,f.snapshotVersion)),H_(s,u);const g=new Zn(f.target,u,c,f.sequenceNumber);ld(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await sl(t,r)}}async function sl(t,e,n){if(!mo(e))throw e;t.L_.add(1),await yo(t),t.q_.set("Offline"),n||(n=()=>B_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Dl(t)})}function q_(t,e){return e().catch(n=>sl(t,n,e))}async function jl(t){const e=we(t),n=gr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Xk(e);)try{const i=await jk(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Zk(e,i)}catch(i){await sl(e,i)}Q_(e)&&G_(e)}function Xk(t){return Qr(t)&&t.O_.length<10}function Zk(t,e){t.O_.push(e);const n=gr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Q_(t){return Qr(t)&&!gr(t).n_()&&t.O_.length>0}function G_(t){gr(t).start()}async function Jk(t){gr(t).p_()}async function eT(t){const e=gr(t);for(const n of t.O_)e.m_(n.mutations)}async function tT(t,e,n){const r=t.O_.shift(),i=td.from(r,e,n);await q_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await jl(t)}async function nT(t,e){e&&gr(t).V_&&await async function(r,i){if(function(o){return WE(o)&&o!==J.ABORTED}(i.code)){const s=r.O_.shift();gr(r).s_(),await q_(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await jl(r)}}(t,e),Q_(t)&&G_(t)}async function om(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Qr(n);n.L_.add(3),await yo(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Dl(n)}async function rT(t,e){const n=we(t);e?(n.L_.delete(2),await Dl(n)):e||(n.L_.add(2),await yo(n),n.q_.set("Unknown"))}function Hi(t){return t.K_||(t.K_=function(n,r,i){const s=we(n);return s.w_(),new Uk(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:qk.bind(null,t),Ro:Qk.bind(null,t),mo:Gk.bind(null,t),d_:Yk.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),cd(t)?ud(t):t.q_.set("Unknown")):(await t.K_.stop(),K_(t))})),t.K_}function gr(t){return t.U_||(t.U_=function(n,r,i){const s=we(n);return s.w_(),new $k(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Jk.bind(null,t),mo:nT.bind(null,t),f_:eT.bind(null,t),g_:tT.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await jl(t)):(await t.U_.stop(),t.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new hd(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dd(t,e){if(zn("AsyncQueue",`${e}: ${t}`),mo(t))return new de(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=xs(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new Ti(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ti)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ti;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.W_=new Ge(ge.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class zi{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new zi(e,n,Ti.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Al(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class sT{constructor(){this.queries=lm(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=we(n),s=i.queries;i.queries=lm(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function lm(){return new Wi(t=>y_(t),Al)}async function oT(t,e){const n=we(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new iT,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=dd(o,`Initialization of query '${ti(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&fd(n)}async function aT(t,e){const n=we(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lT(t,e){const n=we(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&fd(n)}function uT(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function fd(t){t.Y_.forEach(e=>{e.next()})}var Wc,um;(um=Wc||(Wc={})).ea="default",um.Cache="cache";class cT{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=zi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this.key=e}}class X_{constructor(e){this.key=e}}class hT{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Te(),this.mutatedKeys=Te(),this.Aa=v_(e),this.Ra=new Ti(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new am,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const v=i.get(f),h=Cl(this.query,g)?g:null,y=!!v&&this.mutatedKeys.has(v.key),p=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let k=!1;v&&h?v.data.isEqual(h.data)?y!==p&&(r.track({type:3,doc:h}),k=!0):this.ga(v,h)||(r.track({type:2,doc:h}),k=!0,(u&&this.Aa(h,u)>0||c&&this.Aa(h,c)<0)&&(l=!0)):!v&&h?(r.track({type:0,doc:h}),k=!0):v&&!h&&(r.track({type:1,doc:v}),k=!0,(u||c)&&(l=!0)),k&&(h?(o=o.add(h),s=p?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,g)=>function(h,y){const p=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return p(h)-p(y)}(f.type,g.type)||this.Aa(f.doc,g.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new zi(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new am,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new X_(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Y_(r))}),n}ba(e){this.Ta=e.Ts,this.da=Te();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return zi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class dT{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fT{constructor(e){this.key=e,this.va=!1}}class pT{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Wi(l=>y_(l),Al),this.Ma=new Map,this.xa=new Set,this.Oa=new Ge(ge.comparator),this.Na=new Map,this.La=new id,this.Ba={},this.ka=new Map,this.qa=Mi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function mT(t,e,n=!0){const r=ry(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Z_(r,e,n,!0),i}async function gT(t,e){const n=ry(t);await Z_(n,e,!0,!1)}async function Z_(t,e,n,r){const i=await Vk(t.localStore,wn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await _T(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&W_(t.remoteStore,i),l}async function _T(t,e,n,r,i){t.Ka=(g,v,h)=>async function(p,k,m,_){let T=k.view.ma(m);T.ns&&(T=await rm(p.localStore,k.query,!1).then(({documents:C})=>k.view.ma(C,T)));const P=_&&_.targetChanges.get(k.targetId),V=_&&_.targetMismatches.get(k.targetId)!=null,O=k.view.applyChanges(T,p.isPrimaryClient,P,V);return hm(p,k.targetId,O.wa),O.snapshot}(t,g,v,h);const s=await rm(t.localStore,e,!0),o=new hT(e,s.Ts),l=o.ma(s.documents),u=_o.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);hm(t,n,c.wa);const f=new dT(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function yT(t,e,n){const r=we(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Al(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $c(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ad(r.remoteStore,i.targetId),Hc(r,i.targetId)}).catch(po)):(Hc(r,i.targetId),await $c(r.localStore,i.targetId,!0))}async function vT(t,e){const n=we(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ad(n.remoteStore,r.targetId))}async function wT(t,e,n){const r=AT(t);try{const i=await function(o,l){const u=we(o),c=st.now(),f=l.reduce((h,y)=>h.add(y.key),Te());let g,v;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let y=On(),p=Te();return u.cs.getEntries(h,f).next(k=>{y=k,y.forEach((m,_)=>{_.isValidDocument()||(p=p.add(m))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,y)).next(k=>{g=k;const m=[];for(const _ of l){const T=LE(_,g.get(_.key).overlayedDocument);T!=null&&m.push(new wr(_.key,T,c_(T.value.mapValue),dn.exists(!0)))}return u.mutationQueue.addMutationBatch(h,c,m,l)}).next(k=>{v=k;const m=k.applyToLocalDocumentSet(g,p);return u.documentOverlayCache.saveOverlays(h,k.batchId,m)})}).then(()=>({batchId:v.batchId,changes:x_(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ge(be)),c=c.insert(l,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await vo(r,i.changes),await jl(r.remoteStore)}catch(i){const s=dd(i,"Failed to persist write");n.reject(s)}}async function J_(t,e){const n=we(t);try{const r=await Pk(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?je(o.va):i.removedDocuments.size>0&&(je(o.va),o.va=!1))}),await vo(n,r,e)}catch(r){await po(r)}}function cm(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=we(o);u.onlineState=l;let c=!1;u.queries.forEach((f,g)=>{for(const v of g.j_)v.Z_(l)&&(c=!0)}),c&&fd(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xT(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ge(ge.comparator);o=o.insert(s,St.newNoDocument(s,ve.min()));const l=Te().add(s),u=new Rl(ve.min(),new Map,new Ge(be),o,l);await J_(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),pd(r)}else await $c(r.localStore,e,!1).then(()=>Hc(r,e,n)).catch(po)}async function ET(t,e){const n=we(t),r=e.batch.batchId;try{const i=await Rk(n.localStore,e);ty(n,r,null),ey(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vo(n,i)}catch(i){await po(i)}}async function kT(t,e,n){const r=we(t);try{const i=await function(o,l){const u=we(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(g=>(je(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(c,g))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);ty(r,e,n),ey(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vo(r,i)}catch(i){await po(i)}}function ey(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ty(t,e,n){const r=we(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Hc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ny(t,r)})}function ny(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ad(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),pd(t))}function hm(t,e,n){for(const r of n)r instanceof Y_?(t.La.addReference(r.key,e),TT(t,r)):r instanceof X_?(he("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ny(t,r.key)):ye()}function TT(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(he("SyncEngine","New document in limbo: "+n),t.xa.add(r),pd(t))}function pd(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ge(We.fromString(e)),r=t.qa.next();t.Na.set(r,new fT(n)),t.Oa=t.Oa.insert(n,r),W_(t.remoteStore,new Zn(wn(__(n.path)),r,"TargetPurposeLimboResolution",qh.oe))}}async function vo(t,e,n){const r=we(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const g=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(c){i.push(c);const g=od.Wi(u.targetId,c);s.push(g)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const f=we(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ee.forEach(c,v=>ee.forEach(v.$i,h=>f.persistence.referenceDelegate.addReference(g,v.targetId,h)).next(()=>ee.forEach(v.Ui,h=>f.persistence.referenceDelegate.removeReference(g,v.targetId,h)))))}catch(g){if(!mo(g))throw g;he("LocalStore","Failed to update sequence numbers: "+g)}for(const g of c){const v=g.targetId;if(!g.fromCache){const h=f.os.get(v),y=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(y);f.os=f.os.insert(v,p)}}}(r.localStore,s))}async function ST(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await F_(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new de(J.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vo(n,r.hs)}}function IT(t,e){const n=we(t),r=n.Na.get(e);if(r&&r.va)return Te().add(r.key);{let i=Te();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function ry(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=J_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xT.bind(null,e),e.Ca.d_=lT.bind(null,e.eventManager),e.Ca.$a=uT.bind(null,e.eventManager),e}function AT(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ET.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kT.bind(null,e),e}class ol{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pl(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return bk(this.persistence,new Ck,e.initialUser,this.serializer)}Ga(e){return new Sk(sd.Zr,this.serializer)}Wa(e){return new zk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ol.provider={build:()=>new ol};class Kc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ST.bind(null,this.syncEngine),await rT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sT}()}createDatastore(e){const n=Pl(e.databaseInfo.databaseId),r=function(s){return new Bk(s)}(e.databaseInfo);return function(s,o,l,u){return new Wk(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new Kk(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>cm(this.syncEngine,n,0),function(){return sm.D()?new sm:new Ok}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,f){const g=new pT(i,s,o,l,u,c);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=we(i);he("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await yo(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Kc.provider={build:()=>new Kc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=a_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{he("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(he("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Du(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await F_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bT(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>om(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>om(e.remoteStore,i)),t._onlineComponents=e}async function bT(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Du(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Pi("Error using user provided cache. Falling back to memory cache: "+n),await Du(t,new ol)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Du(t,new ol);return t._offlineComponents}async function iy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await dm(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await dm(t,new Kc))),t._onlineComponents}function RT(t){return iy(t).then(e=>e.syncEngine)}async function PT(t){const e=await iy(t),n=e.eventManager;return n.onListen=mT.bind(null,e.syncEngine),n.onUnlisten=yT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vT.bind(null,e.syncEngine),n}function DT(t,e,n={}){const r=new cr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const f=new CT({next:v=>{f.Za(),o.enqueueAndForget(()=>aT(s,g)),v.fromCache&&u.source==="server"?c.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(v)},error:v=>c.reject(v)}),g=new cT(l,f,{includeMetadataChanges:!0,_a:!0});return oT(s,g)}(await PT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jT(t,e,n,r){if(e===!0&&r===!0)throw new de(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pm(t){if(!ge.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mm(t){if(ge.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function al(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=md(t);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sy((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new q2;switch(r.type){case"firstParty":return new X2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fm.get(n);r&&(he("ComponentProvider","Removing Datastore"),fm.delete(n),r.terminate())}(this),Promise.resolve()}}function VT(t,e,n,r={}){var i;const s=(t=al(t,Vl))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=kt.MOCK_USER;else{l=Ix(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kt(c)}t._authCredentials=new Q2(new o_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ml(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class hr extends Ml{constructor(e,n,r){super(e,n,__(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ge(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function MT(t,e,...n){if(t=Vn(t),oy("collection","path",e),t instanceof Vl){const r=We.fromString(e,...n);return mm(r),new hr(t,null,r)}{if(!(t instanceof fn||t instanceof hr))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return mm(r),new hr(t.firestore,null,r)}}function _m(t,e,...n){if(t=Vn(t),arguments.length===1&&(e=a_.newId()),oy("doc","path",e),t instanceof Vl){const r=We.fromString(e,...n);return pm(r),new fn(t,null,new ge(r))}{if(!(t instanceof fn||t instanceof hr))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return pm(r),new fn(t.firestore,t instanceof hr?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new U_(this,"async_queue_retry"),this.Vu=()=>{const r=Pu();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Pu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Pu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new cr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!mo(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw zn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=hd.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class gd extends Vl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ym,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ym(e),this._firestoreClient=void 0,await e}}}function zT(t,e){const n=typeof t=="object"?t:V2(),r=typeof t=="string"?t:e||"(default)",i=R2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Tx("firestore");s&&VT(i,...s)}return i}function _d(t){if(t._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||OT(t),t._firestoreClient}function OT(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,f){return new cE(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,sy(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new NT(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oi(_t.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oi(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=/^__.*__$/;class FT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new go(e,this.data,n,this.fieldTransforms)}}class ay{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ly(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class xd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new xd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ll(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ly(this.Cu)&&LT.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class BT{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pl(e)}Qu(e,n,r,i=!1){return new xd({Cu:e,methodName:n,qu:r,path:ft.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UT(t){const e=t._freezeSettings(),n=Pl(t._databaseId);return new BT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $T(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Ed("Data must be an object, but it was:",o,r);const l=uy(r,o);let u,c;if(s.merge)u=new Ht(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const v=qc(e,g,n);if(!o.contains(v))throw new de(J.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);hy(f,v)||f.push(v)}u=new Ht(f),c=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,c=o.fieldTransforms;return new FT(new Vt(l),u,c)}class Ol extends yd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ol}}function WT(t,e,n,r){const i=t.Qu(1,e,n);Ed("Data must be an object, but it was:",i,r);const s=[],o=Vt.empty();qr(r,(u,c)=>{const f=kd(e,u,n);c=Vn(c);const g=i.Nu(f);if(c instanceof Ol)s.push(f);else{const v=Ll(c,g);v!=null&&(s.push(f),o.set(f,v))}});const l=new Ht(s);return new ay(o,l,i.fieldTransforms)}function HT(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[qc(e,r,n)],u=[i];if(s.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)l.push(qc(e,s[v])),u.push(s[v+1]);const c=[],f=Vt.empty();for(let v=l.length-1;v>=0;--v)if(!hy(c,l[v])){const h=l[v];let y=u[v];y=Vn(y);const p=o.Nu(h);if(y instanceof Ol)c.push(h);else{const k=Ll(y,p);k!=null&&(c.push(h),f.set(h,k))}}const g=new Ht(c);return new ay(f,g,o.fieldTransforms)}function Ll(t,e){if(cy(t=Vn(t)))return Ed("Unsupported field value:",e,t),uy(t,e);if(t instanceof yd)return function(r,i){if(!ly(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Ll(l,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DE(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=st.fromDate(r);return{timestampValue:il(i.serializer,s)}}if(r instanceof st){const s=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:il(i.serializer,s)}}if(r instanceof vd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oi)return{bytesValue:D_(i.serializer,r._byteString)};if(r instanceof fn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:rd(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wd)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return Jh(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${md(r)}`)}(t,e)}function uy(t,e){const n={};return l_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qr(t,(r,i)=>{const s=Ll(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function cy(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof vd||t instanceof Oi||t instanceof fn||t instanceof yd||t instanceof wd)}function Ed(t,e,n){if(!cy(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=md(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function qc(t,e,n){if((e=Vn(e))instanceof zl)return e._internalPath;if(typeof e=="string")return kd(t,e);throw ll("Field path arguments must be of type string or ",t,!1,void 0,n)}const KT=new RegExp("[~\\*/\\[\\]]");function kd(t,e,n){if(e.search(KT)>=0)throw ll(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zl(...e.split("."))._internalPath}catch{throw ll(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ll(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new de(J.INVALID_ARGUMENT,l+t+u)}function hy(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qT extends dy{data(){return super.data()}}function fy(t,e){return typeof e=="string"?kd(t,e):e instanceof zl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GT{convertValue(e,n="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ze(o.doubleValue));return new wd(s)}convertGeoPoint(e){return new vd(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ro(e));default:return null}}convertTimestamp(e){const n=mr(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);je(L_(r));const i=new io(r.get(1),r.get(3)),s=new ge(r.popFirst(5));return i.isEqual(n)||zn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XT extends dy{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ta extends XT{data(e={}){return super.data(e)}}class ZT{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new aa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ta(this._firestore,this._userDataWriter,r.key,r,new aa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Ta(i._firestore,i._userDataWriter,l.doc.key,l.doc,new aa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Ta(i._firestore,i._userDataWriter,l.doc.key,l.doc,new aa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:JT(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}class eS extends GT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function tS(t){t=al(t,Ml);const e=al(t.firestore,gd),n=_d(e),r=new eS(e);return QT(t._query),DT(n,t._query).then(i=>new ZT(e,r,t,i))}function nS(t,e){return function(r,i){const s=new cr;return r.asyncQueue.enqueueAndForget(async()=>wT(await RT(r),i,s)),s.promise}(_d(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=UT(e)}set(e,n,r){this._verifyNotCommitted();const i=ju(e,this._firestore),s=YT(i.converter,n,r),o=$T(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,dn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ju(e,this._firestore);let o;return o=typeof(n=Vn(n))=="string"||n instanceof zl?HT(this._dataReader,"WriteBatch.update",s._key,n,r,i):WT(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ju(e,this._firestore);return this._mutations=this._mutations.concat(new ed(n._key,dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ju(t,e){if((t=Vn(t)).firestore!==e)throw new de(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t){return _d(t=al(t,gd)),new rS(t,e=>nS(t,e))}(function(e,n=!0){(function(i){$i=i})(j2),Za(new eo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new gd(new G2(r.getProvider("auth-internal")),new J2(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ki(Mp,"4.7.3",e),ki(Mp,"4.7.3","esm2017")})();const iS={apiKey:"AIzaSyClZCL60c4WBCDeoRzez8hW5V1uzQUYLJ8",authDomain:"jjksk-e5ca7.firebaseapp.com",projectId:"jjksk-e5ca7",storageBucket:"jjksk-e5ca7.firebasestorage.app",messagingSenderId:"532127539780",appId:"1:532127539780:web:78e4660e79a9e8e70c9211"},sS=X0(iS),ms=zT(sS),py=pe.createContext({notify:()=>{}}),my=pe.createContext({matches:[],addMatch:async()=>{},addMatches:async()=>{},deleteMatch:async()=>{},deleteMatches:async()=>{},restoreData:()=>{},clearAllData:()=>{},updatePlayerName:()=>{},loading:!0,allPlayers:[]}),gy=pe.createContext({isAdmin:!1,login:()=>!1,logout:()=>{}}),_y=()=>pe.useContext(py),Ki=()=>pe.useContext(my),yy=()=>pe.useContext(gy),wo=t=>{if(t.hltv_3_0_score&&!isNaN(t.hltv_3_0_score)&&t.hltv_3_0_score>0)return t.hltv_3_0_score;if(t.rating&&!isNaN(t.rating)&&t.rating>0)return Number(t.rating);const e=t.rounds_played>0?t.kills/t.rounds_played:0,n=t.rounds_played>0?t.deaths/t.rounds_played:0,r=t.impact||1,i=t.rounds_played>0?t.damage_total/t.rounds_played:0;let s=1+(e-.67)+(.73-n)+(r-1)*.5+(i-75)*.005;return Math.max(0,s)},Zt=t=>{let e=t.replace(".json","");const n=e.match(/(?:de_|cs_)([a-zA-Z0-9_]+)/);return n&&n[1]?e=n[1]:e=e.replace(/^(de_|cs_)/,""),e.charAt(0).toUpperCase()+e.slice(1)},oS=t=>{const e=new Map;return t.forEach(n=>{n.data&&n.data.forEach(r=>{const i=String(r.steam_id),s=e.get(i),o=wo(r),l=r.weapon_kills||{};if(s){const u={...s.weapon_stats};Object.entries(l).forEach(([c,f])=>{u[c]=(u[c]||0)+f}),e.set(i,{...s,matches:s.matches+1,kills:s.kills+r.kills,deaths:s.deaths+r.deaths,assists:s.assists+r.assists,rounds_played:s.rounds_played+r.rounds_played,damage_total:s.damage_total+r.damage_total,hltv_3_0_score:s.hltv_3_0_score+o,impact:s.impact+(r.impact||0),sniper_kills:s.sniper_kills+r.sniper_kills,utility_damage:s.utility_damage+r.utility_damage,flashes_thrown:s.flashes_thrown+r.flashes_thrown,enemies_flashed:s.enemies_flashed+(r.enemies_flashed||0),opening_kills:s.opening_kills+r.opening_kills,opening_deaths:s.opening_deaths+r.opening_deaths,opening_attempts:s.opening_attempts+r.opening_attempts,trade_kills:s.trade_kills+(r.trade_kills||0),clutches_won:s.clutches_won+(r.clutches_won||0),headshot_kills:s.headshot_kills+(r.headshot_kills||0),weapon_stats:u,name:n.timestamp>(s.last_match_timestamp||0)?r.name:s.name,last_match_timestamp:Math.max(s.last_match_timestamp||0,n.timestamp)})}else e.set(i,{steam_id:i,name:r.name,matches:1,kills:r.kills,deaths:r.deaths,assists:r.assists,rounds_played:r.rounds_played,damage_total:r.damage_total,hltv_3_0_score:o,impact:r.impact||0,sniper_kills:r.sniper_kills,utility_damage:r.utility_damage,flashes_thrown:r.flashes_thrown,enemies_flashed:r.enemies_flashed||0,opening_kills:r.opening_kills,opening_deaths:r.opening_deaths,opening_attempts:r.opening_attempts,trade_kills:r.trade_kills||0,clutches_won:r.clutches_won||0,headshot_kills:r.headshot_kills||0,weapon_stats:l,last_match_timestamp:n.timestamp})})}),Array.from(e.values()).map(n=>({...n,hltv_3_0_score:n.matches>0?n.hltv_3_0_score/n.matches:0,impact:n.matches>0?n.impact/n.matches:0}))},aS=t=>{const e=/[_\-](\d{10})([_\-\.]|$)/g,n=[...t.matchAll(e)];let r=null;for(const i of n){const s=i[1],o="20"+s.substring(0,2),l=s.substring(2,4),u=s.substring(4,6),c=s.substring(6,8),f=s.substring(8,10),g=parseInt(l,10),v=parseInt(u,10),h=parseInt(c,10),y=parseInt(f,10);if(g>=1&&g<=12&&v>=1&&v<=31&&h>=0&&h<=23&&y>=0&&y<=59){const p=new Date(`${o}-${l}-${u}T${c}:${f}:00`);isNaN(p.getTime())||(r=p.getTime())}}return r},wm=(t,e)=>{try{let n=[],r=Date.now();const i=aS(e);if(i&&(r=i),t.team_ct&&Array.isArray(t.team_ct)&&t.team_t&&Array.isArray(t.team_t)){const s=t.team_ct.map(l=>({...l,last_team_name:l.team||"CT",last_side:"CT",hltv_3_0_score:l.rating||0})),o=t.team_t.map(l=>({...l,last_team_name:l.team||"T",last_side:"T",hltv_3_0_score:l.rating||0}));n=[...s,...o]}else if(Array.isArray(t))n=t;else if(t.data&&Array.isArray(t.data))n=t.data,t.timestamp&&(r=new Date(t.timestamp).getTime());else return console.error("Unknown data format",t),null;return n=n.map(s=>{const o=Number(s.rounds_played)||Number(s.rounds)||1,l=Number(s.kills)||0;let u=Number(s.damage_total)||Number(s.total_damage)||0;const c=parseFloat(s.adr||s.ADR);!u&&!isNaN(c)&&(u=Math.round(c*o));let f=Number(s.headshot_kills)||0;!f&&s.fatal_hitgroups&&(f=Number(s.fatal_hitgroups.Head)||Number(s.fatal_hitgroups.head)||0);const g=s.hs_percent??s.hsp??s["hs%"]??s.HS_Percent??s.hs;if((!f||f===0)&&g!==void 0&&l>0){const v=parseFloat(String(g).replace("%",""));isNaN(v)||(f=Math.round(l*(v/100)))}return{name:s.name||"Unknown",steam_id:s.steam_id||Math.random().toString(36).substr(2,9),last_team_name:s.last_team_name||s.team||"Unknown",last_side:s.last_side||"Unknown",duels:s.duels||{},kills:l,deaths:Number(s.deaths)||0,assists:Number(s.assists)||0,rounds_played:o,damage_total:u,adr:isNaN(c)?void 0:c,opening_kills:Number(s.opening_kills)||Number(s.open_kills)||0,opening_deaths:Number(s.opening_deaths)||Number(s.open_deaths)||0,opening_attempts:Number(s.opening_attempts)||0,sniper_kills:Number(s.sniper_kills)||Number(s.awp_kills)||0,utility_damage:Number(s.utility_damage)||0,flashes_thrown:Number(s.flashes_thrown)||Number(s.flashes)||0,enemies_flashed:Number(s.enemies_flashed)||Number(s.flash_assists)||Number(s.blinded_enemies)||Number(s.ef)||0,hltv_3_0_score:Number(s.hltv_3_0_score)||Number(s.rating)||0,impact:Number(s.impact)||0,headshot_kills:f,trade_kills:Number(s.trade_kills)||0,clutches_won:Number(s.clutches_won)||0,weapon_kills:s.weapon_kills||{}}}),n.forEach(s=>{(!s.hltv_3_0_score||s.hltv_3_0_score===0)&&(s.hltv_3_0_score=wo(s))}),{id:Math.random().toString(36).substr(2,9),filename:e.replace(".json",""),timestamp:r,data:n}}catch(n){return console.error("Error normalizing data",n),null}},lS=({children:t})=>{const[e,n]=pe.useState(null);return pe.useEffect(()=>{if(e){const r=setTimeout(()=>n(null),3e3);return()=>clearTimeout(r)}},[e]),w.jsxs(py.Provider,{value:{notify:(r,i)=>n({t:r,m:i})},children:[t,e&&w.jsx("div",{className:`fixed bottom-20 md:bottom-4 right-4 p-4 rounded-lg shadow-lg text-white z-50 animate-slide-up ${e.t==="error"?"bg-app-danger":e.t==="success"?"bg-app-success":"bg-app-accent"}`,children:e.m})]})},uS=({children:t})=>{const[e,n]=pe.useState(!1);pe.useEffect(()=>{n(localStorage.getItem("isAdmin")==="true")},[]);const r=s=>s==="admin123"?(n(!0),localStorage.setItem("isAdmin","true"),!0):!1,i=()=>{n(!1),localStorage.removeItem("isAdmin")};return w.jsx(gy.Provider,{value:{isAdmin:e,login:r,logout:i},children:t})},cS=({children:t})=>{const[e,n]=pe.useState([]),[r,i]=pe.useState(!0),{notify:s}=_y(),{isAdmin:o}=yy();pe.useEffect(()=>{(async()=>{i(!0);try{const k=await tS(MT(ms,"matches")),m=[];k.forEach(_=>{m.push(_.data())}),n(m.sort((_,T)=>T.timestamp-_.timestamp))}catch(k){console.error("Error fetching matches:",k),s("error","Failed to load matches from database.")}finally{i(!1)}})()},[s]);const l=async p=>{if(!o){s("error","Unauthorized");return}const k=vm(ms);p.forEach(m=>{const _=_m(ms,"matches",m.id);k.set(_,m)});try{await k.commit(),n(m=>{const _=new Set(p.map(P=>P.id)),T=m.filter(P=>!_.has(P.id));return[...p,...T].sort((P,V)=>V.timestamp-P.timestamp)}),s("success",`Saved ${p.length} matches`)}catch(m){console.error(m),s("error","Failed to save to database")}},u=async p=>l([p]),c=async p=>{if(!o){s("error","Unauthorized");return}if(p.length!==0)try{for(let m=0;m<p.length;m+=450){const _=p.slice(m,m+450),T=vm(ms);_.forEach(P=>{const V=_m(ms,"matches",P);T.delete(V)}),await T.commit()}n(m=>m.filter(_=>!p.includes(_.id))),s("success",`Deleted ${p.length} matches`)}catch(k){console.error(k),s("error","Failed to delete from database")}},f=p=>c([p]),g=(p,k)=>{n(m=>m.map(_=>({..._,data:_.data.map(T=>String(T.steam_id)===p?{...T,name:k}:T)})))},v=()=>{},h=()=>{},y=pe.useMemo(()=>oS(e),[e]);return w.jsx(my.Provider,{value:{matches:e,addMatch:u,addMatches:l,deleteMatch:f,deleteMatches:c,restoreData:v,clearAllData:h,updatePlayerName:g,loading:r,allPlayers:y},children:t})},hS=({data:t})=>{const e=t.reduce((i,s)=>i+s.value,0);let n=0;const r=i=>{const s=Math.cos(2*Math.PI*i),o=Math.sin(2*Math.PI*i);return[s,o]};return e===0?w.jsx("div",{className:"text-center text-app-textMuted p-8",children:"No data available"}):w.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 justify-center p-8 animate-fade-in",children:[w.jsx("div",{className:"relative w-64 h-64 flex-shrink-0",children:w.jsx("svg",{viewBox:"-1 -1 2 2",style:{transform:"rotate(-90deg)"},className:"overflow-visible w-full h-full",children:t.map((i,s)=>{const o=n,l=i.value/e;n+=l;const u=n;if(l===1)return w.jsx("circle",{cx:"0",cy:"0",r:"1",fill:i.color},s);const[c,f]=r(o),[g,v]=r(u),h=l>.5?1:0,y=["M 0 0",`L ${c} ${f}`,`A 1 1 0 ${h} 1 ${g} ${v}`,"Z"].join(" ");return w.jsx("path",{d:y,fill:i.color,className:"hover:opacity-80 transition-opacity cursor-pointer",children:w.jsxs("title",{children:[i.label,": ",i.value," matches (",Math.round(l*100),"%)"]})},s)})})}),w.jsx("div",{className:"flex flex-col gap-2 w-full md:w-auto overflow-y-auto max-h-64 pr-2",children:t.map((i,s)=>w.jsxs("div",{className:"flex items-center gap-2 justify-between md:justify-start",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-4 h-4 rounded shadow-sm",style:{backgroundColor:i.color}}),w.jsx("span",{className:"text-white font-medium text-sm",children:i.label})]}),w.jsxs("span",{className:"text-app-textMuted text-xs font-mono ml-4",children:[i.value," (",Math.round(i.value/e*100),"%)"]})]},s))})]})},dS=()=>{const{allPlayers:t}=Ki(),[e,n]=pe.useState([]),[r,i]=pe.useState([]),[s,o]=pe.useState(""),l=(h,y)=>{y==="A"?e.includes(h)?n(p=>p.filter(k=>k!==h)):(n(p=>[...p,h]),i(p=>p.filter(k=>k!==h))):r.includes(h)?i(p=>p.filter(k=>k!==h)):(i(p=>[...p,h]),n(p=>p.filter(k=>k!==h)))},u=()=>{const h=[...e,...r];if(h.length===0)return;const y=h.map(T=>t.find(P=>String(P.steam_id)===T)).filter(T=>!!T);y.sort((T,P)=>P.hltv_3_0_score-T.hltv_3_0_score);const p=[],k=[];let m=0,_=0;y.forEach(T=>{const P=Math.ceil(y.length/2);p.length<P&&k.length<P?m<=_?(p.push(String(T.steam_id)),m+=Number(T.hltv_3_0_score)):(k.push(String(T.steam_id)),_+=Number(T.hltv_3_0_score)):p.length<P?(p.push(String(T.steam_id)),m+=Number(T.hltv_3_0_score)):(k.push(String(T.steam_id)),_+=Number(T.hltv_3_0_score))}),n(p),i(k)},c=h=>{const y=h.map(T=>t.find(P=>String(P.steam_id)===T)).filter(Boolean),p=y.length;if(p===0)return{avgRating:"0.00",avgAdr:"0.0",avgKpr:"0.00",players:[]};const k=(y.reduce((T,P)=>T+P.hltv_3_0_score,0)/p).toFixed(2),m=(y.reduce((T,P)=>T+P.damage_total/P.rounds_played,0)/p).toFixed(1),_=(y.reduce((T,P)=>T+P.kills/P.rounds_played,0)/p).toFixed(2);return{avgRating:k,avgAdr:m,avgKpr:_,players:y}},f=c(e),g=c(r),v=t.filter(h=>h.name.toLowerCase().includes(s.toLowerCase())).sort((h,y)=>y.hltv_3_0_score-h.hltv_3_0_score);return w.jsxs("div",{className:"p-4 md:p-6 h-full flex flex-col animate-fade-in pb-20 md:pb-6",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 md:mb-6 gap-4",children:[w.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[w.jsx($0,{})," Team Builder"]}),w.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[w.jsxs("button",{onClick:u,className:"flex-1 md:flex-none justify-center text-xs text-app-accent hover:text-white px-3 py-2 md:py-1 border border-app-accent/50 rounded hover:bg-app-accent/20 transition-colors flex items-center gap-1",children:[w.jsx(tx,{size:14})," Auto Balance"]}),w.jsx("button",{onClick:()=>{n([]),i([])},className:"flex-1 md:flex-none justify-center text-xs text-red-400 hover:text-red-300 px-3 py-2 md:py-1 border border-red-900/50 rounded hover:bg-red-900/20 transition-colors",children:"Clear Teams"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full overflow-y-auto lg:overflow-hidden min-h-[500px]",children:[w.jsxs("div",{className:"bg-app-card rounded-xl border border-app-cardHover flex flex-col overflow-hidden shadow-lg order-2 lg:order-1 h-[400px] lg:h-auto",children:[w.jsxs("div",{className:"p-4 border-b border-app-cardHover bg-zinc-900/50",children:[w.jsxs("div",{className:"relative",children:[w.jsx(Uh,{className:"absolute left-3 top-2.5 w-4 h-4 text-app-textMuted"}),w.jsx("input",{type:"text",placeholder:"Search players...",className:"w-full bg-zinc-950 rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:border-app-accent border border-zinc-800 text-white placeholder-zinc-600",value:s,onChange:h=>o(h.target.value)})]}),w.jsxs("div",{className:"mt-2 text-xs text-app-textMuted text-right",children:[v.length," players found"]})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:v.map(h=>{const y=e.includes(String(h.steam_id)),p=r.includes(String(h.steam_id)),k=y||p;return w.jsxs("div",{className:`flex items-center justify-between p-2 rounded hover:bg-zinc-800 transition-colors border border-transparent hover:border-zinc-700 ${k?"opacity-40 grayscale":""}`,children:[w.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[w.jsx("div",{className:"font-medium text-sm text-white truncate",children:h.name}),w.jsxs("div",{className:"text-xs text-app-textMuted flex gap-2",children:[w.jsxs("span",{children:[h.hltv_3_0_score.toFixed(2)," R"]}),w.jsxs("span",{children:[(h.damage_total/h.rounds_played).toFixed(0)," ADR"]})]})]}),w.jsxs("div",{className:"flex gap-1",children:[w.jsx("button",{disabled:k,onClick:()=>l(String(h.steam_id),"A"),className:`w-8 h-8 flex items-center justify-center text-xs font-bold rounded transition-colors ${y?"bg-app-accent text-white":"bg-zinc-700 text-zinc-400 hover:text-white hover:bg-app-accent/80"}`,children:"A"}),w.jsx("button",{disabled:k,onClick:()=>l(String(h.steam_id),"B"),className:`w-8 h-8 flex items-center justify-center text-xs font-bold rounded transition-colors ${p?"bg-orange-500 text-white":"bg-zinc-700 text-zinc-400 hover:text-white hover:bg-orange-500/80"}`,children:"B"})]})]},h.steam_id)})})]}),w.jsxs("div",{className:"bg-app-card rounded-xl border border-app-cardHover flex flex-col shadow-lg lg:order-2 h-[300px] lg:h-auto",children:[w.jsxs("div",{className:"p-4 border-b border-app-cardHover bg-app-accent/5",children:[w.jsxs("h3",{className:"font-bold text-app-accent mb-2 flex justify-between items-center",children:["Team A ",w.jsx("span",{className:"text-xs bg-app-accent/20 px-2 py-0.5 rounded-full text-app-accent",children:e.length})]}),w.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-app-textMuted bg-zinc-900/50 p-2 rounded-lg",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-white font-bold text-lg",children:f.avgRating}),"Rating"]}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-white font-bold text-lg",children:f.avgAdr}),"ADR"]}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-white font-bold text-lg",children:f.avgKpr}),"KPR"]})]})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[f.players.map(h=>w.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-zinc-900/40 border border-zinc-800/50 group hover:border-red-500/30 transition-colors",children:[w.jsxs("div",{children:[w.jsx("div",{className:"font-medium text-sm text-white",children:h.name}),w.jsxs("div",{className:"text-xs text-app-textMuted",children:[h.hltv_3_0_score.toFixed(2)," Rating"]})]}),w.jsx("button",{onClick:()=>l(String(h.steam_id),"A"),className:"text-zinc-600 hover:text-red-400 p-1 opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity",children:w.jsx(Sp,{size:16})})]},h.steam_id)),e.length===0&&w.jsx("div",{className:"h-full flex items-center justify-center text-zinc-600 text-sm italic",children:"Add players to Team A"})]})]}),w.jsxs("div",{className:"bg-app-card rounded-xl border border-app-cardHover flex flex-col shadow-lg lg:order-3 h-[300px] lg:h-auto",children:[w.jsxs("div",{className:"p-4 border-b border-app-cardHover bg-orange-500/5",children:[w.jsxs("h3",{className:"font-bold text-orange-500 mb-2 flex justify-between items-center",children:["Team B ",w.jsx("span",{className:"text-xs bg-orange-500/20 px-2 py-0.5 rounded-full text-orange-500",children:r.length})]}),w.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-app-textMuted bg-zinc-900/50 p-2 rounded-lg",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-white font-bold text-lg",children:g.avgRating}),"Rating"]}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-white font-bold text-lg",children:g.avgAdr}),"ADR"]}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-white font-bold text-lg",children:g.avgKpr}),"KPR"]})]})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[g.players.map(h=>w.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-zinc-900/40 border border-zinc-800/50 group hover:border-red-500/30 transition-colors",children:[w.jsxs("div",{children:[w.jsx("div",{className:"font-medium text-sm text-white",children:h.name}),w.jsxs("div",{className:"text-xs text-app-textMuted",children:[h.hltv_3_0_score.toFixed(2)," Rating"]})]}),w.jsx("button",{onClick:()=>l(String(h.steam_id),"B"),className:"text-zinc-600 hover:text-red-400 p-1 opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity",children:w.jsx(Sp,{size:16})})]},h.steam_id)),r.length===0&&w.jsx("div",{className:"h-full flex items-center justify-center text-zinc-600 text-sm italic",children:"Add players to Team B"})]})]})]})]})},fS=()=>{const{addMatches:t,deleteMatches:e,matches:n,clearAllData:r,deleteMatch:i}=Ki(),{isAdmin:s,login:o,logout:l}=yy(),{notify:u}=_y(),[c,f]=pe.useState(""),[g,v]=pe.useState(!1),[h,y]=pe.useState(null),[p,k]=pe.useState(""),[m,_]=pe.useState(!1),T=async C=>{var D;if(!((D=C.target.files)!=null&&D.length))return;v(!0);const I=Array.from(C.target.files),N=[];for(const z of I)try{if(z.name.endsWith(".json")){const A=await z.text(),b=JSON.parse(A),S=wm(b,z.name);S&&N.push(S)}else if(z.name.endsWith(".zip")){const A=await gw.loadAsync(z);for(const b of Object.keys(A.files))if(b.endsWith(".json")){const S=await A.files[b].async("text"),q=JSON.parse(S),me=wm(q,b);me&&N.push(me)}}}catch(A){console.error("Error parsing file",z.name,A),u("error",`Error parsing ${z.name}`)}N.length>0&&await t(N),v(!1),C.target.value=""},P=async()=>{confirm("Are you sure? This cannot be undone.")&&(_(!0),await e(n.map(C=>C.id)),_(!1))},V=C=>{y(C.id),k(JSON.stringify(C.data,null,2))},O=async()=>{if(h)try{const C=JSON.parse(p),I=n.find(N=>N.id===h);if(I){const N={...I,data:C};await t([N]),u("success","Match updated")}y(null)}catch{u("error","Invalid JSON")}};return s?h?w.jsxs("div",{className:"p-6 h-full flex flex-col",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[w.jsx(Lw,{})," Edit Match Data"]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:O,className:"bg-app-success hover:bg-green-600 px-4 py-2 rounded text-white flex items-center gap-2",children:[w.jsx(Jw,{size:16})," Save"]}),w.jsx("button",{onClick:()=>y(null),className:"bg-zinc-700 hover:bg-zinc-600 px-4 py-2 rounded text-white",children:"Cancel"})]})]}),w.jsx("textarea",{className:"flex-1 w-full bg-zinc-950 font-mono text-sm p-4 rounded-xl border border-zinc-800 focus:border-app-accent outline-none resize-none",value:p,onChange:C=>k(C.target.value)})]}):w.jsxs("div",{className:"p-4 md:p-6 space-y-6 pb-20 md:pb-6 animate-fade-in",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[w.jsx(U0,{})," Settings"]}),w.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-red-400 hover:text-red-300 px-3 py-1 border border-red-900/50 rounded hover:bg-red-900/10",children:[w.jsx(qw,{size:16})," Logout"]})]}),w.jsxs("div",{className:"bg-app-card p-6 rounded-xl border border-app-cardHover",children:[w.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[w.jsx(cx,{})," Import Matches"]}),w.jsxs("div",{className:"border-2 border-dashed border-zinc-700 rounded-xl p-8 text-center hover:border-app-accent hover:bg-app-accent/5 transition-all cursor-pointer relative group",children:[w.jsx("input",{type:"file",multiple:!0,accept:".json,.zip",onChange:T,className:"absolute inset-0 opacity-0 cursor-pointer",disabled:g}),g?w.jsx(Ga,{className:"w-8 h-8 mx-auto animate-spin text-app-accent"}):w.jsx(zw,{className:"w-10 h-10 mx-auto text-app-textMuted group-hover:text-app-accent transition-colors"}),w.jsx("p",{className:"mt-4 text-sm text-app-textMuted group-hover:text-white transition-colors",children:g?"Processing...":"Click to upload JSON or ZIP files"}),w.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Supports multiple files"})]})]}),w.jsxs("div",{className:"bg-app-card p-6 rounded-xl border border-app-cardHover flex flex-col h-[500px]",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[w.jsx(B0,{})," Managed Matches (",n.length,")"]}),w.jsxs("button",{onClick:P,disabled:m||n.length===0,className:`text-xs px-3 py-1 rounded border transition-colors flex items-center gap-1 ${m?"text-zinc-500 border-zinc-700":"text-red-400 border-red-900/50 hover:bg-red-900/20"}`,children:[m?w.jsx(Ga,{className:"animate-spin w-3 h-3"}):w.jsx(Tp,{size:14}),m?"Deleting...":"Delete All"]})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:[n.map(C=>w.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-950 rounded-lg border border-zinc-800 hover:border-zinc-700 transition-colors",children:[w.jsx("span",{className:"text-sm font-mono truncate max-w-[200px] md:max-w-md text-zinc-300",children:C.filename}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:()=>V(C),className:"p-2 text-zinc-500 hover:text-app-accent hover:bg-app-accent/10 rounded transition-colors",children:w.jsx(Yw,{size:14})}),w.jsx("button",{onClick:()=>i(C.id),className:"p-2 text-zinc-500 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",children:w.jsx(Tp,{size:14})})]})]},C.id)),n.length===0&&w.jsx("div",{className:"text-center text-app-textMuted py-10",children:"No matches found. Upload some!"})]})]})]}):w.jsx("div",{className:"flex items-center justify-center h-full p-4",children:w.jsxs("div",{className:"bg-app-card p-8 rounded-xl border border-app-cardHover max-w-sm w-full text-center space-y-4",children:[w.jsx(ix,{className:"w-12 h-12 text-app-accent mx-auto"}),w.jsx("h2",{className:"text-xl font-bold",children:"Admin Access"}),w.jsx("input",{type:"password",placeholder:"Enter Password",value:c,onChange:C=>f(C.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white"}),w.jsx("button",{onClick:()=>o(c)?u("success","Welcome Admin"):u("error","Wrong Password"),className:"w-full bg-app-accent hover:bg-app-accentHover text-white font-bold py-2 rounded transition-colors",children:"Login"})]})})},pS=()=>{const{matches:t,allPlayers:e}=Ki(),[n,r]=pe.useState(""),[i,s]=pe.useState({key:"rating",dir:"desc"}),o=pe.useMemo(()=>{const f=new Set(t.map(g=>Zt(g.filename)));return Array.from(f).sort()},[t]);pe.useEffect(()=>{o.length>0&&!n&&r(o[0])},[o,n]);const l=pe.useMemo(()=>{if(!n)return[];const f=t.filter(v=>Zt(v.filename)===n),g=new Map;return f.forEach(v=>{v.data.forEach(h=>{const y=String(h.steam_id),p=g.get(y),k=wo(h);p?g.set(y,{...p,matches:p.matches+1,kills:p.kills+h.kills,deaths:p.deaths+h.deaths,assists:p.assists+h.assists,damage:p.damage+h.damage_total,rounds:p.rounds+h.rounds_played,ratingSum:p.ratingSum+k,name:h.name}):g.set(y,{id:y,name:h.name,matches:1,kills:h.kills,deaths:h.deaths,assists:h.assists,damage:h.damage_total,rounds:h.rounds_played,ratingSum:k})})}),Array.from(g.values()).map(v=>({...v,rating:v.ratingSum/v.matches,adr:v.damage/v.rounds,kpr:v.kills/v.rounds,kd:v.deaths>0?v.kills/v.deaths:v.kills}))},[t,n]),u=pe.useMemo(()=>[...l].sort((f,g)=>{const v=f[i.key],h=g[i.key];return typeof v=="number"&&typeof h=="number"?i.dir==="asc"?v-h:h-v:0}),[l,i]),c=f=>{s(g=>({key:f,dir:g.key===f&&g.dir==="desc"?"asc":"desc"}))};return w.jsxs("div",{className:"p-4 md:p-6 h-full flex flex-col pb-20 md:pb-6 animate-fade-in",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[w.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[w.jsx(ar,{})," Map Leaderboard"]}),w.jsxs("div",{className:"relative w-full md:w-64",children:[w.jsx("select",{value:n,onChange:f=>r(f.target.value),className:"w-full bg-zinc-900 border border-zinc-700 text-white rounded-lg p-2.5 appearance-none focus:border-app-accent outline-none",children:o.map(f=>w.jsx("option",{value:f,children:f},f))}),w.jsx(O0,{className:"absolute right-3 top-3 w-4 h-4 text-zinc-500 pointer-events-none"})]})]}),w.jsx("div",{className:"bg-app-card border border-app-cardHover rounded-xl overflow-hidden shadow-lg flex-1 flex flex-col",children:w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[w.jsx("thead",{className:"bg-zinc-900/50 text-app-textMuted font-medium uppercase text-xs tracking-wider",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-4",children:"Player"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>c("matches"),children:"Matches"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>c("rating"),children:"Rating"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>c("adr"),children:"ADR"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>c("kd"),children:"K/D"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>c("kpr"),children:"KPR"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>c("kills"),children:"Kills"})]})}),w.jsxs("tbody",{className:"divide-y divide-zinc-800",children:[u.map((f,g)=>w.jsxs("tr",{className:"hover:bg-zinc-800/50 transition-colors",children:[w.jsxs("td",{className:"p-4 font-medium text-white flex items-center gap-3",children:[w.jsx("span",{className:`w-5 h-5 flex items-center justify-center rounded text-[10px] font-bold ${g<3?"bg-app-accent/20 text-app-accent":"bg-zinc-800 text-zinc-500"}`,children:g+1}),f.name]}),w.jsx("td",{className:"p-4 text-center text-zinc-400",children:f.matches}),w.jsx("td",{className:`p-4 text-center font-bold ${f.rating>=1.2?"text-app-success":f.rating>=1?"text-app-warning":"text-app-danger"}`,children:f.rating.toFixed(2)}),w.jsx("td",{className:"p-4 text-center text-zinc-300",children:f.adr.toFixed(1)}),w.jsx("td",{className:`p-4 text-center ${f.kd>=1?"text-green-400":"text-red-400"}`,children:f.kd.toFixed(2)}),w.jsx("td",{className:"p-4 text-center text-zinc-400",children:f.kpr.toFixed(2)}),w.jsx("td",{className:"p-4 text-center text-zinc-300",children:f.kills})]},f.id)),u.length===0&&w.jsx("tr",{children:w.jsx("td",{colSpan:7,className:"p-8 text-center text-zinc-500",children:"No data available for this map."})})]})]})})})]})},mS=({match:t,onBack:e})=>{const n=u=>new Date(u).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}),r=Zt(t.filename),i=t.data.filter(u=>u.last_team_name==="CT"||u.last_side==="CT"||u.last_team_name==="Team A"),s=t.data.filter(u=>u.last_team_name==="T"||u.last_side==="T"||u.last_team_name==="Team B"),o=t.data.filter(u=>!i.includes(u)&&!s.includes(u));if(i.length===0&&s.length===0){const u=Math.ceil(t.data.length/2);i.push(...t.data.slice(0,u)),s.push(...t.data.slice(u))}else i.push(...o.slice(0,Math.ceil(o.length/2))),s.push(...o.slice(Math.ceil(o.length/2)));const l=(u,c,f)=>w.jsxs("div",{className:"bg-app-card rounded-xl border border-app-cardHover overflow-hidden shadow-lg mb-6",children:[w.jsx("div",{className:`p-4 border-b border-app-cardHover ${f} bg-opacity-10`,children:w.jsx("h3",{className:`font-bold text-lg ${f.replace("bg-","text-").replace("/10","")}`,children:u})}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[w.jsx("thead",{className:"bg-zinc-950/50 text-xs uppercase text-app-textMuted font-medium tracking-wider",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-3",children:"Player"}),w.jsx("th",{className:"p-3 text-center",children:"K"}),w.jsx("th",{className:"p-3 text-center",children:"D"}),w.jsx("th",{className:"p-3 text-center",children:"A"}),w.jsx("th",{className:"p-3 text-center",children:"+/-"}),w.jsx("th",{className:"p-3 text-center",children:"ADR"}),w.jsx("th",{className:"p-3 text-center",children:"HS%"}),w.jsx("th",{className:"p-3 text-center",children:"EF"}),w.jsx("th",{className:"p-3 text-center",children:"R"})]})}),w.jsx("tbody",{className:"divide-y divide-zinc-800",children:c.sort((g,v)=>(v.hltv_3_0_score||0)-(g.hltv_3_0_score||0)).map(g=>{const v=wo(g),h=g.kills>0?Math.round((g.headshot_kills||0)/g.kills*100):0;return w.jsxs("tr",{className:"hover:bg-zinc-800/30",children:[w.jsx("td",{className:"p-3 font-medium text-white",children:g.name}),w.jsx("td",{className:"p-3 text-center text-zinc-300",children:g.kills}),w.jsx("td",{className:"p-3 text-center text-red-400/80",children:g.deaths}),w.jsx("td",{className:"p-3 text-center text-zinc-500",children:g.assists}),w.jsx("td",{className:`p-3 text-center font-bold ${g.kills-g.deaths>=0?"text-green-400":"text-red-400"}`,children:g.kills-g.deaths}),w.jsx("td",{className:"p-3 text-center text-zinc-300",children:(g.adr||g.damage_total/g.rounds_played).toFixed(1)}),w.jsxs("td",{className:"p-3 text-center text-zinc-400",children:[h,"%"]}),w.jsx("td",{className:"p-3 text-center text-zinc-400",children:g.enemies_flashed}),w.jsx("td",{className:`p-3 text-center font-bold ${v>=1.2?"text-app-accent":v<1?"text-zinc-500":"text-white"}`,children:v.toFixed(2)})]},g.steam_id)})})]})})]});return w.jsxs("div",{className:"p-4 md:p-6 h-full flex flex-col pb-20 md:pb-6 animate-fade-in overflow-y-auto",children:[w.jsxs("button",{onClick:e,className:"mb-4 flex items-center gap-2 text-app-textMuted hover:text-white transition-colors w-fit",children:[w.jsx(z0,{size:18})," Back to Matches"]}),w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-8 bg-zinc-900/50 p-6 rounded-2xl border border-zinc-800",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl md:text-5xl font-black text-white tracking-tighter mb-2",children:r}),w.jsxs("div",{className:"flex items-center gap-4 text-app-textMuted text-sm",children:[w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(Cw,{size:14})," ",n(t.timestamp)]}),w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx($h,{size:14})," ",t.data.length," Players"]})]})]}),w.jsx("div",{className:"mt-4 md:mt-0 px-4 py-2 bg-app-accent/10 border border-app-accent/20 rounded-lg text-app-accent font-bold",children:"Finished"})]}),w.jsxs("div",{className:"space-y-2",children:[l("Counter-Terrorists",i,"bg-blue-500"),l("Terrorists",s,"bg-orange-500")]})]})},gS=({onSelect:t})=>{const{matches:e,loading:n}=Ki(),[r,i]=pe.useState(""),[s,o]=pe.useState("grid"),[l,u]=pe.useState("date"),[c,f]=pe.useState("desc"),g=pe.useMemo(()=>e.filter(y=>y.filename.toLowerCase().includes(r.toLowerCase())||Zt(y.filename).toLowerCase().includes(r.toLowerCase())).sort((y,p)=>{let k=y.timestamp,m=p.timestamp;return l==="map"?(k=Zt(y.filename),m=Zt(p.filename),c==="asc"?k.localeCompare(m):m.localeCompare(k)):(l==="players"&&(k=y.data.length,m=p.data.length),l==="kills"&&(k=y.data.reduce((_,T)=>_+T.kills,0),m=p.data.reduce((_,T)=>_+T.kills,0)),c==="asc"?k-m:m-k)}),[e,r,l,c]),v=pe.useMemo(()=>{const h={};e.forEach(p=>{const k=Zt(p.filename);h[k]=(h[k]||0)+1});const y=["#38bdf8","#8b5cf6","#f472b6","#fb923c","#4ade80","#fbbf24","#94a3b8"];return Object.entries(h).map(([p,k],m)=>({label:p,value:k,color:y[m%y.length]})).sort((p,k)=>k.value-p.value)},[e]);return n?w.jsx("div",{className:"h-full flex items-center justify-center text-app-accent",children:w.jsx(Ga,{className:"animate-spin w-8 h-8"})}):w.jsxs("div",{className:"p-4 md:p-6 h-full flex flex-col pb-20 md:pb-6 animate-fade-in",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[w.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[w.jsx(F0,{})," Recent Matches"]}),w.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:[w.jsxs("div",{className:"relative",children:[w.jsx(Uh,{className:"absolute left-3 top-2.5 w-4 h-4 text-app-textMuted"}),w.jsx("input",{type:"text",placeholder:"Search matches...",value:r,onChange:h=>i(h.target.value),className:"w-full md:w-64 bg-zinc-900 border border-zinc-700 rounded-lg pl-9 pr-4 py-2 text-sm focus:border-app-accent outline-none text-white"})]}),w.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900 p-1 rounded-lg border border-zinc-800",children:[w.jsx("button",{onClick:()=>o("grid"),className:`p-1.5 rounded ${s==="grid"?"bg-zinc-700 text-white":"text-zinc-500 hover:text-white"}`,children:w.jsx(Ww,{size:18})}),w.jsx("button",{onClick:()=>o("list"),className:`p-1.5 rounded ${s==="list"?"bg-zinc-700 text-white":"text-zinc-500 hover:text-white"}`,children:w.jsx(B0,{size:18})}),w.jsx("button",{onClick:()=>o("chart"),className:`p-1.5 rounded ${s==="chart"?"bg-zinc-700 text-white":"text-zinc-500 hover:text-white"}`,children:w.jsx(bw,{size:18})})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("select",{value:l,onChange:h=>u(h.target.value),className:"bg-zinc-900 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-white outline-none focus:border-app-accent",children:[w.jsx("option",{value:"date",children:"Date"}),w.jsx("option",{value:"map",children:"Map"}),w.jsx("option",{value:"players",children:"Players"}),w.jsx("option",{value:"kills",children:"Total Kills"})]}),w.jsx("button",{onClick:()=>f(h=>h==="asc"?"desc":"asc"),className:"bg-zinc-900 border border-zinc-700 rounded-lg px-2 text-white hover:bg-zinc-800",children:c==="asc"?w.jsx(Iw,{size:16}):w.jsx(kw,{size:16})})]})]})]}),s==="chart"?w.jsxs("div",{className:"bg-app-card rounded-xl border border-app-cardHover flex-1 flex flex-col items-center justify-center p-6",children:[w.jsx("h3",{className:"text-xl font-bold mb-4",children:"Map Distribution"}),w.jsx(hS,{data:v})]}):w.jsx("div",{className:`flex-1 overflow-y-auto ${s==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-2"}`,children:g.map(h=>{const y=h.data.reduce((p,k)=>p+k.kills,0);return s==="grid"?w.jsxs("div",{onClick:()=>t(h),className:"bg-app-card border border-app-cardHover rounded-xl p-5 cursor-pointer hover:border-app-accent/50 hover:bg-zinc-800 transition-all group flex flex-col justify-between h-40 relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:w.jsx(Ei,{size:64})}),w.jsxs("div",{className:"flex justify-between items-start z-10",children:[w.jsx(Ei,{className:"text-app-accent w-5 h-5"}),w.jsx("span",{className:"text-xs text-app-textMuted font-mono",children:new Date(h.timestamp).toLocaleDateString()})]}),w.jsxs("div",{className:"z-10 mt-2",children:[w.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-app-accent transition-colors",children:Zt(h.filename)}),w.jsxs("div",{className:"flex gap-4 mt-3 text-xs text-app-textMuted",children:[w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx($h,{size:12})," ",h.data.length," Players"]}),w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(Js,{size:12})," ",y," Kills"]})]})]})]},h.id):w.jsxs("div",{onClick:()=>t(h),className:"bg-app-card border border-app-cardHover rounded-lg p-4 cursor-pointer hover:border-app-accent/50 hover:bg-zinc-800 transition-all flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"bg-app-accent/10 p-2 rounded-lg text-app-accent",children:w.jsx(ar,{size:20})}),w.jsxs("div",{children:[w.jsx("div",{className:"font-bold text-white",children:Zt(h.filename)}),w.jsx("div",{className:"text-xs text-app-textMuted",children:new Date(h.timestamp).toLocaleString()})]})]}),w.jsxs("div",{className:"flex gap-6 text-sm text-zinc-400",children:[w.jsxs("div",{className:"flex flex-col items-end",children:[w.jsx("span",{className:"text-xs uppercase tracking-wider text-zinc-600",children:"Players"}),w.jsx("span",{className:"font-mono text-white",children:h.data.length})]}),w.jsxs("div",{className:"flex flex-col items-end w-16",children:[w.jsx("span",{className:"text-xs uppercase tracking-wider text-zinc-600",children:"Kills"}),w.jsx("span",{className:"font-mono text-white",children:y})]})]})]},h.id)})})]})},_S=({playerId:t,onBack:e})=>{const{allPlayers:n,matches:r}=Ki(),[i,s]=pe.useState(!1),o=n.find(h=>String(h.steam_id)===t);if(!o)return w.jsx("div",{children:"Player not found"});const l=pe.useMemo(()=>r.filter(h=>h.data.some(y=>String(y.steam_id)===t)).sort((h,y)=>y.timestamp-h.timestamp),[r,t]),u=i?l:l.slice(0,5),c=pe.useMemo(()=>{const h={};l.forEach(p=>{const k=p.data.find(_=>String(_.steam_id)===t);if(!k)return;p.data.filter(_=>String(_.steam_id)!==t&&(_.last_team_name===k.last_team_name||_.last_side===k.last_side)).forEach(_=>{const T=String(_.steam_id);h[T]||(h[T]={name:_.name,matches:0,ratingSum:0}),h[T].matches+=1,h[T].ratingSum+=typeof _.hltv_3_0_score=="number"?_.hltv_3_0_score:0})});const y=Object.values(h).sort((p,k)=>k.matches-p.matches);return y.length>0?y[0]:null},[l,t]),f=pe.useMemo(()=>o.weapon_stats?Object.entries(o.weapon_stats).map(([h,y])=>({name:h,count:y})).sort((h,y)=>y.count-h.count).slice(0,3):[],[o]),g=pe.useMemo(()=>{const h={};return l.forEach(y=>{const p=Zt(y.filename);h[p]=(h[p]||0)+1}),Object.entries(h).sort((y,p)=>p[1]-y[1]).slice(0,3).map(([y,p])=>({name:y,count:p}))},[l]),v=pe.useMemo(()=>{const h={};return l.forEach(y=>{const p=y.data.find(k=>String(k.steam_id)===t);!p||!p.duels||Object.entries(p.duels).forEach(([k,m])=>{let _=m.opponent_name||k;if(_===k){const T=y.data.find(P=>String(P.steam_id)===k);T&&(_=T.name)}h[k]||(h[k]={name:_,kills:0,deaths:0,total:0}),h[k].kills+=m.kills,h[k].deaths+=m.deaths,h[k].total+=m.kills+m.deaths,_!==k&&(h[k].name=_)})}),Object.values(h).sort((y,p)=>p.total-y.total).slice(0,3)},[l,t]);return w.jsxs("div",{className:"p-4 md:p-6 h-full flex flex-col pb-20 md:pb-6 animate-fade-in overflow-y-auto",children:[w.jsxs("button",{onClick:e,className:"mb-4 flex items-center gap-2 text-app-textMuted hover:text-white transition-colors w-fit",children:[w.jsx(z0,{size:18})," Back"]}),w.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[w.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-app-accent to-purple-500 rounded-2xl flex items-center justify-center text-3xl font-bold text-white shadow-lg shadow-app-accent/20",children:o.name.charAt(0).toUpperCase()}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-black text-white",children:o.name}),w.jsxs("div",{className:"flex gap-4 text-app-textMuted text-sm mt-1",children:[w.jsxs("span",{children:[o.matches," Matches"]}),w.jsx("span",{children:""}),w.jsxs("span",{children:[o.rounds_played," Rounds"]})]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[w.jsxs("div",{className:"bg-app-card p-4 rounded-xl border border-app-cardHover",children:[w.jsx("div",{className:"text-app-textMuted text-xs uppercase font-bold mb-1",children:"Rating 2.0"}),w.jsx("div",{className:"text-2xl font-black text-app-accent",children:o.hltv_3_0_score.toFixed(2)})]}),w.jsxs("div",{className:"bg-app-card p-4 rounded-xl border border-app-cardHover",children:[w.jsx("div",{className:"text-app-textMuted text-xs uppercase font-bold mb-1",children:"ADR"}),w.jsx("div",{className:"text-2xl font-black text-white",children:(o.damage_total/o.rounds_played).toFixed(1)})]}),w.jsxs("div",{className:"bg-app-card p-4 rounded-xl border border-app-cardHover",children:[w.jsx("div",{className:"text-app-textMuted text-xs uppercase font-bold mb-1",children:"K/D Ratio"}),w.jsx("div",{className:"text-2xl font-black text-green-400",children:(o.kills/o.deaths).toFixed(2)})]}),w.jsxs("div",{className:"bg-app-card p-4 rounded-xl border border-app-cardHover",children:[w.jsx("div",{className:"text-app-textMuted text-xs uppercase font-bold mb-1",children:"Headshot %"}),w.jsxs("div",{className:"text-2xl font-black text-white",children:[Math.round(o.headshot_kills/o.kills*100),"%"]})]})]}),w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h3",{className:"font-bold text-xl",children:"Recent Performance"}),l.length>5&&w.jsx("button",{onClick:()=>s(!i),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-xs font-bold py-1.5 px-4 rounded-lg border border-zinc-700 transition-colors flex items-center gap-2",children:i?w.jsxs(w.Fragment,{children:[w.jsx(Dw,{size:14})," Show Less"]}):w.jsxs(w.Fragment,{children:[w.jsx(O0,{size:14})," View All Matches"]})})]}),w.jsx("div",{className:"space-y-2 mb-8",children:u.map(h=>{const y=h.data.find(k=>String(k.steam_id)===t);if(!y)return null;const p=wo(y);return w.jsxs("div",{className:"bg-zinc-900/50 p-4 rounded-lg flex items-center justify-between border border-zinc-800",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:`font-bold text-lg w-12 text-center ${p>=1.2?"text-app-accent":p<1?"text-red-400":"text-white"}`,children:p.toFixed(2)}),w.jsxs("div",{children:[w.jsx("div",{className:"font-medium text-white",children:Zt(h.filename)}),w.jsx("div",{className:"text-xs text-app-textMuted",children:new Date(h.timestamp).toLocaleDateString()})]})]}),w.jsxs("div",{className:"flex gap-4 text-sm",children:[w.jsxs("div",{className:"text-right",children:[w.jsx("div",{className:"text-zinc-500 text-xs",children:"K-D"}),w.jsxs("div",{className:`font-mono ${y.kills-y.deaths>=0?"text-green-400":"text-red-400"}`,children:[y.kills,"-",y.deaths]})]}),w.jsxs("div",{className:"text-right w-12",children:[w.jsx("div",{className:"text-zinc-500 text-xs",children:"ADR"}),w.jsx("div",{className:"font-mono text-zinc-300",children:(y.adr||y.damage_total/y.rounds_played).toFixed(0)})]})]})]},h.id)})}),w.jsxs("div",{className:"animate-fade-in",children:[w.jsxs("h3",{className:"font-bold text-xl mb-4 flex items-center gap-2",children:[w.jsx(Ei,{className:"text-red-400"})," Combat Records"]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"bg-zinc-900/50 p-6 rounded-xl border border-zinc-800 flex items-center gap-4 relative overflow-hidden group",children:[w.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity",children:w.jsx($0,{size:100})}),w.jsx("div",{className:"w-12 h-12 bg-app-accent/20 rounded-full flex items-center justify-center text-app-accent",children:w.jsx(L0,{size:24})}),w.jsxs("div",{className:"z-10",children:[w.jsx("div",{className:"text-zinc-500 text-xs uppercase font-bold mb-1",children:"Best Teammate"}),c?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"font-black text-xl text-white",children:c.name}),w.jsxs("div",{className:"text-app-textMuted text-sm mt-1",children:["Played ",w.jsx("span",{className:"text-white font-bold",children:c.matches})," matches together"]})]}):w.jsx("div",{className:"text-zinc-500 italic",children:"No teammates found"})]})]}),w.jsxs("div",{className:"bg-zinc-900/50 p-6 rounded-xl border border-zinc-800 relative overflow-hidden group",children:[w.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity",children:w.jsx(Js,{size:100})}),w.jsxs("div",{className:"flex items-center gap-2 mb-3 z-10 relative",children:[w.jsx(Js,{size:16,className:"text-orange-500"}),w.jsx("span",{className:"text-zinc-500 text-xs uppercase font-bold",children:"Top Weapons"})]}),w.jsx("div",{className:"space-y-3 z-10 relative",children:f.length>0?f.map((h,y)=>w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${y===0?"bg-yellow-500 text-black":"bg-zinc-800 text-zinc-500"}`,children:y+1}),w.jsx("span",{className:"text-white font-medium capitalize",children:h.name})]}),w.jsxs("span",{className:"text-zinc-400 font-mono text-sm",children:[h.count," Kills"]})]},h.name)):w.jsx("div",{className:"text-zinc-500 italic",children:"No weapon stats available"})})]}),w.jsxs("div",{className:"bg-zinc-900/50 p-6 rounded-xl border border-zinc-800 relative overflow-hidden group",children:[w.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity",children:w.jsx(ar,{size:100})}),w.jsxs("div",{className:"flex items-center gap-2 mb-3 z-10 relative",children:[w.jsx(ar,{size:16,className:"text-blue-400"}),w.jsx("span",{className:"text-zinc-500 text-xs uppercase font-bold",children:"Best Maps"})]}),w.jsx("div",{className:"space-y-3 z-10 relative",children:g.length>0?g.map((h,y)=>w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${y===0?"bg-blue-500 text-white":"bg-zinc-800 text-zinc-500"}`,children:y+1}),w.jsx("span",{className:"text-white font-medium",children:h.name})]}),w.jsxs("span",{className:"text-zinc-400 font-mono text-sm",children:[h.count," Matches"]})]},h.name)):w.jsx("div",{className:"text-zinc-500 italic",children:"No map data available"})})]}),w.jsxs("div",{className:"bg-zinc-900/50 p-6 rounded-xl border border-zinc-800 relative overflow-hidden group",children:[w.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity",children:w.jsx(Ei,{size:100})}),w.jsxs("div",{className:"flex items-center gap-2 mb-3 z-10 relative",children:[w.jsx(Ei,{size:16,className:"text-red-400"}),w.jsx("span",{className:"text-zinc-500 text-xs uppercase font-bold",children:"Top Rivals"})]}),w.jsx("div",{className:"space-y-3 z-10 relative",children:v.length>0?v.map((h,y)=>w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${y===0?"bg-red-500 text-white":"bg-zinc-800 text-zinc-500"}`,children:y+1}),w.jsx("span",{className:"text-white font-medium truncate max-w-[100px]",children:h.name})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("div",{className:"text-zinc-400 font-mono text-sm",children:[h.total," Duels"]}),w.jsxs("div",{className:"text-xs text-zinc-600 font-mono",children:[h.kills," - ",h.deaths]})]})]},h.name)):w.jsx("div",{className:"text-zinc-500 italic",children:"No duel data available"})})]})]})]})]})},xm=({onSelectPlayer:t})=>{const{allPlayers:e,matches:n,loading:r}=Ki(),[i,s]=pe.useState(""),[o,l]=pe.useState("avg"),[u,c]=pe.useState({key:"hltv_3_0_score",direction:"desc"}),f=h=>{c(y=>(y==null?void 0:y.key)===h?{key:h,direction:y.direction==="asc"?"desc":"asc"}:{key:h,direction:"desc"})},g=pe.useMemo(()=>{const h=n.reduce((P,V)=>P+V.data.reduce((O,C)=>O+C.kills,0),0),y=n.length,p=[...e].sort((P,V)=>V.hltv_3_0_score-P.hltv_3_0_score).slice(0,3),k={};e.forEach(P=>{Object.entries(P.weapon_stats).forEach(([V,O])=>{k[V]=(k[V]||0)+O})});const m=Object.entries(k).sort((P,V)=>V[1]-P[1]).slice(0,3).map(([P,V])=>({name:P,count:V})),_={};n.forEach(P=>{const V=Zt(P.filename);_[V]=(_[V]||0)+1});const T=Object.entries(_).sort((P,V)=>V[1]-P[1]).slice(0,3).map(([P,V])=>({name:P,count:V}));return{totalKills:h,totalMaps:y,topPlayers:p,topWeapons:m,topMaps:T}},[n,e]),v=pe.useMemo(()=>{let h=[...e];return i&&(h=h.filter(y=>y.name.toLowerCase().includes(i.toLowerCase()))),u&&h.sort((y,p)=>{let k=y[u.key],m=p[u.key];return o==="avg"&&["kills","deaths","assists","damage_total","sniper_kills","opening_kills"].includes(u.key)&&(k=y[u.key]/y.rounds_played,m=p[u.key]/p.rounds_played,u.key==="damage_total"&&(k=y.damage_total/y.rounds_played,m=p.damage_total/p.rounds_played)),u.key==="adr"&&(k=y.damage_total/y.rounds_played,m=p.damage_total/p.rounds_played),u.key==="hs_percent"&&(k=y.kills>0?y.headshot_kills/y.kills:0,m=p.kills>0?p.headshot_kills/p.kills:0),u.key==="kpr"&&(k=y.kills/y.rounds_played,m=p.kills/p.rounds_played),k<m?u.direction==="asc"?-1:1:k>m?u.direction==="asc"?1:-1:0}),h},[e,i,u,o]);return r?w.jsx("div",{className:"h-full flex items-center justify-center text-app-accent",children:w.jsx(Ga,{className:"animate-spin w-8 h-8"})}):w.jsxs("div",{className:"p-4 md:p-6 h-full flex flex-col pb-20 md:pb-6 animate-fade-in overflow-y-auto",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[w.jsxs("div",{className:"bg-app-card/50 p-6 rounded-2xl border border-app-cardHover flex flex-col items-center justify-center text-center shadow-lg relative overflow-hidden group",children:[w.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity",children:w.jsx(Js,{size:120})}),w.jsx(Js,{className:"w-10 h-10 text-app-accent mb-3"}),w.jsx("div",{className:"text-4xl md:text-5xl font-black text-white tracking-tighter",children:g.totalKills.toLocaleString().replace(/,/g," ")}),w.jsx("div",{className:"text-sm text-app-accent uppercase font-bold tracking-widest mt-1",children:"Total Kills"})]}),w.jsxs("div",{className:"bg-app-card/50 p-6 rounded-2xl border border-app-cardHover flex flex-col items-center justify-center text-center shadow-lg relative overflow-hidden group",children:[w.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity",children:w.jsx(ar,{size:120})}),w.jsx(ar,{className:"w-10 h-10 text-purple-400 mb-3"}),w.jsx("div",{className:"text-4xl md:text-5xl font-black text-white tracking-tighter",children:g.totalMaps}),w.jsx("div",{className:"text-sm text-purple-400 uppercase font-bold tracking-widest mt-1",children:"Matches Played"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[w.jsxs("div",{className:"bg-app-card/30 rounded-xl p-5 border border-app-cardHover/50",children:[w.jsxs("h3",{className:"flex items-center gap-2 font-bold text-lg mb-4 text-yellow-500",children:[w.jsx(L0,{size:20})," Top Players"]}),w.jsx("div",{className:"space-y-3",children:g.topPlayers.map((h,y)=>w.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-900/50 rounded-lg border border-zinc-800/50",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${y===0?"bg-yellow-500 text-black shadow-lg shadow-yellow-500/20":y===1?"bg-zinc-400 text-black":"bg-orange-700 text-white"}`,children:y+1}),w.jsx("span",{className:"font-medium text-white truncate max-w-[100px]",children:h.name})]}),w.jsxs("span",{className:"font-mono font-bold text-app-accent",children:[h.hltv_3_0_score.toFixed(2)," R"]})]},h.steam_id))})]}),w.jsxs("div",{className:"bg-app-card/30 rounded-xl p-5 border border-app-cardHover/50",children:[w.jsxs("h3",{className:"flex items-center gap-2 font-bold text-lg mb-4 text-red-400",children:[w.jsx(Ei,{size:20})," Best Weapons"]}),w.jsx("div",{className:"space-y-3",children:g.topWeapons.map((h,y)=>w.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-900/50 rounded-lg border border-zinc-800/50",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${y===0?"bg-yellow-500 text-black shadow-lg shadow-yellow-500/20":y===1?"bg-zinc-400 text-black":"bg-orange-700 text-white"}`,children:y+1}),w.jsx("span",{className:"font-medium text-white capitalize",children:h.name})]}),w.jsx("span",{className:"font-mono text-app-textMuted",children:h.count})]},h.name))})]}),w.jsxs("div",{className:"bg-app-card/30 rounded-xl p-5 border border-app-cardHover/50",children:[w.jsxs("h3",{className:"flex items-center gap-2 font-bold text-lg mb-4 text-blue-400",children:[w.jsx(ar,{size:20})," Favorite Maps"]}),w.jsx("div",{className:"space-y-3",children:g.topMaps.map((h,y)=>w.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-900/50 rounded-lg border border-zinc-800/50",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${y===0?"bg-yellow-500 text-black shadow-lg shadow-yellow-500/20":y===1?"bg-zinc-400 text-black":"bg-orange-700 text-white"}`,children:y+1}),w.jsx("span",{className:"font-medium text-white",children:h.name})]}),w.jsx("span",{className:"font-mono text-app-textMuted",children:h.count})]},h.name))})]})]}),w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[w.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[w.jsx(lx,{className:"text-yellow-500"})," Leaderboard"]}),w.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[w.jsxs("div",{className:"flex bg-zinc-900 rounded-lg p-1 border border-zinc-800",children:[w.jsx("button",{onClick:()=>l("avg"),className:`px-3 py-1 text-xs font-bold rounded ${o==="avg"?"bg-app-accent text-white":"text-zinc-500 hover:text-white"}`,children:"Averages"}),w.jsx("button",{onClick:()=>l("total"),className:`px-3 py-1 text-xs font-bold rounded ${o==="total"?"bg-app-accent text-white":"text-zinc-500 hover:text-white"}`,children:"Totals"})]}),w.jsxs("div",{className:"relative flex-1 md:w-64",children:[w.jsx(Uh,{className:"absolute left-3 top-2.5 w-4 h-4 text-app-textMuted"}),w.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:h=>s(h.target.value),className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg pl-9 pr-4 py-2 text-sm focus:border-app-accent outline-none text-white"})]})]})]}),w.jsx("div",{className:"bg-app-card border border-app-cardHover rounded-xl overflow-hidden shadow-lg flex-1 flex flex-col min-h-[500px]",children:w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[w.jsx("thead",{className:"bg-zinc-900/50 text-app-textMuted font-medium uppercase text-xs tracking-wider",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-4",children:"#"}),w.jsx("th",{className:"p-4",children:"Player"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>f("matches"),children:"Maps"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>f("kills"),children:o==="avg"?"Avg K":"Kills"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>f("deaths"),children:o==="avg"?"Avg D":"Deaths"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>f("assists"),children:o==="avg"?"Avg A":"Assists"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>f("kpr"),children:"KPR"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>f("hs_percent"),children:"HS%"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>f("adr"),children:"ADR"}),w.jsx("th",{className:"p-4 text-center cursor-pointer hover:text-white",onClick:()=>f("hltv_3_0_score"),children:"Rating"})]})}),w.jsx("tbody",{className:"divide-y divide-zinc-800",children:v.map((h,y)=>{const p=o==="avg"?(h.kills/h.matches).toFixed(1):h.kills,k=o==="avg"?(h.deaths/h.matches).toFixed(1):h.deaths,m=o==="avg"?(h.assists/h.matches).toFixed(1):h.assists,_=(h.kills/h.rounds_played).toFixed(2),T=(h.damage_total/h.rounds_played).toFixed(2),P=h.kills>0?Math.round(h.headshot_kills/h.kills*100):0;return w.jsxs("tr",{onClick:()=>t(String(h.steam_id)),className:"hover:bg-zinc-800/50 cursor-pointer transition-colors group",children:[w.jsx("td",{className:"p-4 text-zinc-600 font-mono text-xs",children:y+1}),w.jsx("td",{className:"p-4 font-bold text-white group-hover:text-app-accent transition-colors",children:h.name}),w.jsx("td",{className:"p-4 text-center text-zinc-400",children:h.matches}),w.jsx("td",{className:"p-4 text-center text-zinc-300",children:p}),w.jsx("td",{className:"p-4 text-center text-zinc-300",children:k}),w.jsx("td",{className:"p-4 text-center text-zinc-500",children:m}),w.jsx("td",{className:"p-4 text-center text-zinc-400",children:_}),w.jsxs("td",{className:"p-4 text-center text-zinc-400",children:[P,"%"]}),w.jsx("td",{className:"p-4 text-center text-app-accent font-medium",children:T}),w.jsxs("td",{className:"p-4 text-center relative",children:[w.jsx("div",{className:"w-full bg-zinc-800 h-1.5 rounded-full overflow-hidden absolute bottom-2 left-0 right-0 mx-4 opacity-0 group-hover:opacity-100 transition-opacity",children:w.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-app-accent",style:{width:`${h.hltv_3_0_score/2.5*100}%`}})}),w.jsx("span",{className:`font-bold ${h.hltv_3_0_score>=1.2?"text-app-accent":h.hltv_3_0_score<1?"text-zinc-500":"text-white"}`,children:h.hltv_3_0_score.toFixed(2)})]})]},h.steam_id)})})]})})})]})},yS=()=>{const[t,e]=pe.useState("dashboard"),[n,r]=pe.useState(null),[i,s]=pe.useState(null),o=f=>{r(f),e("match_details")},l=f=>{s(f),e("player_profile")},u=[{id:"dashboard",icon:Uw,label:"Dashboard"},{id:"matches",icon:F0,label:"Matches"},{id:"maps",icon:ar,label:"Maps"},{id:"teambuilder",icon:$h,label:"Team Builder"},{id:"settings",icon:U0,label:"Settings"}],c=()=>{if(t==="match_details"&&n)return w.jsx(mS,{match:n,onBack:()=>e("matches")});if(t==="player_profile"&&i)return w.jsx(_S,{playerId:i,onBack:()=>e("dashboard")});switch(t){case"dashboard":return w.jsx(xm,{onSelectPlayer:l});case"matches":return w.jsx(gS,{onSelect:o});case"maps":return w.jsx(pS,{});case"teambuilder":return w.jsx(dS,{});case"settings":return w.jsx(fS,{});default:return w.jsx(xm,{onSelectPlayer:l})}};return w.jsxs("div",{className:"flex flex-col md:flex-row h-screen bg-app-bg text-app-text overflow-hidden font-sans",children:[w.jsxs("div",{className:"hidden md:flex w-64 flex-col border-r border-app-cardHover bg-app-card/30 backdrop-blur-md",children:[w.jsxs("div",{className:"p-6 flex items-center gap-3",children:[w.jsx("button",{onClick:()=>{e("dashboard"),r(null),s(null)},className:"w-10 h-10 bg-app-accent hover:bg-white text-white hover:text-app-accent rounded-xl flex items-center justify-center font-black text-sm transition-all shadow-lg shadow-app-accent/20 cursor-pointer",children:"573"}),w.jsxs("span",{className:"font-bold text-xl tracking-tight",children:["Stats",w.jsx("span",{className:"text-app-accent",children:"Tracker"})]})]}),w.jsx("nav",{className:"flex-1 px-4 space-y-2 mt-4",children:u.map(f=>w.jsxs("button",{onClick:()=>{e(f.id),r(null),s(null)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t===f.id?"bg-app-accent text-white shadow-lg shadow-app-accent/20 font-bold":"text-zinc-400 hover:text-white hover:bg-white/5"}`,children:[w.jsx(f.icon,{size:20}),f.label]},f.id))}),w.jsx("div",{className:"p-6 text-xs text-zinc-600 text-center",children:"v2.5.0  System Online"})]}),w.jsx("div",{className:"md:hidden h-16 border-b border-app-cardHover bg-app-card/90 backdrop-blur-md flex items-center justify-between px-4 z-20",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("button",{onClick:()=>{e("dashboard"),r(null),s(null)},className:"w-8 h-8 bg-app-accent text-white rounded-lg flex items-center justify-center font-black text-xs shadow-lg shadow-app-accent/20",children:"573"}),w.jsxs("span",{className:"font-bold text-lg",children:["Stats",w.jsx("span",{className:"text-app-accent",children:"Tracker"})]})]})}),w.jsx("main",{className:"flex-1 overflow-hidden relative",children:c()}),w.jsx("div",{className:"md:hidden h-16 border-t border-app-cardHover bg-app-card/90 backdrop-blur-md flex justify-around items-center px-2 z-20 fixed bottom-0 w-full",children:u.map(f=>w.jsxs("button",{onClick:()=>{e(f.id),r(null),s(null)},className:`flex flex-col items-center justify-center p-2 rounded-lg transition-all ${t===f.id?"text-app-accent":"text-zinc-500"}`,children:[w.jsx(f.icon,{size:20,className:t===f.id?"fill-current":""}),w.jsx("span",{className:"text-[10px] mt-1 font-medium",children:f.label})]},f.id))})]})},vS=()=>w.jsx(uS,{children:w.jsx(lS,{children:w.jsx(cS,{children:w.jsx(yS,{})})})}),wS=j0(document.getElementById("root"));wS.render(w.jsx(vS,{}));
