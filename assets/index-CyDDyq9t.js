(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Of={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function w2(){if(D_)return Fl;D_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=e,Fl.jsx=i,Fl.jsxs=i,Fl}var k_;function S2(){return k_||(k_=1,Of.exports=w2()),Of.exports}var C=S2(),zf={exports:{}},Ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function A2(){if(I_)return Ht;I_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),A=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=A&&j[A]||j["@@iterator"],typeof j=="function"?j:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function R(j,q,ht){this.props=j,this.context=q,this.refs=S,this.updater=ht||V}R.prototype.isReactComponent={},R.prototype.setState=function(j,q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,q,"setState")},R.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=R.prototype;function L(j,q,ht){this.props=j,this.context=q,this.refs=S,this.updater=ht||V}var Y=L.prototype=new U;Y.constructor=L,E(Y,R.prototype),Y.isPureReactComponent=!0;var K=Array.isArray;function st(){}var D={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function I(j,q,ht){var ut=ht.ref;return{$$typeof:r,type:j,key:q,ref:ut!==void 0?ut:null,props:ht}}function P(j,q){return I(j.type,q,j.props)}function F(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function k(j){var q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ht){return q[ht]})}var M=/\/+/g;function N(j,q){return typeof j=="object"&&j!==null&&j.key!=null?k(""+j.key):q.toString(36)}function ct(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(st,st):(j.status="pending",j.then(function(q){j.status==="pending"&&(j.status="fulfilled",j.value=q)},function(q){j.status==="pending"&&(j.status="rejected",j.reason=q)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function $(j,q,ht,ut,dt){var Dt=typeof j;(Dt==="undefined"||Dt==="boolean")&&(j=null);var Ut=!1;if(j===null)Ut=!0;else switch(Dt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(j.$$typeof){case r:case e:Ut=!0;break;case b:return Ut=j._init,$(Ut(j._payload),q,ht,ut,dt)}}if(Ut)return dt=dt(j),Ut=ut===""?"."+N(j,0):ut,K(dt)?(ht="",Ut!=null&&(ht=Ut.replace(M,"$&/")+"/"),$(dt,q,ht,"",function(xe){return xe})):dt!=null&&(F(dt)&&(dt=P(dt,ht+(dt.key==null||j&&j.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+Ut)),q.push(dt)),1;Ut=0;var Vt=ut===""?".":ut+":";if(K(j))for(var Ot=0;Ot<j.length;Ot++)ut=j[Ot],Dt=Vt+N(ut,Ot),Ut+=$(ut,q,ht,Dt,dt);else if(Ot=x(j),typeof Ot=="function")for(j=Ot.call(j),Ot=0;!(ut=j.next()).done;)ut=ut.value,Dt=Vt+N(ut,Ot++),Ut+=$(ut,q,ht,Dt,dt);else if(Dt==="object"){if(typeof j.then=="function")return $(ct(j),q,ht,ut,dt);throw q=String(j),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function W(j,q,ht){if(j==null)return j;var ut=[],dt=0;return $(j,ut,"","",function(Dt){return q.call(ht,Dt,dt++)}),ut}function xt(j){if(j._status===-1){var q=j._result;q=q(),q.then(function(ht){(j._status===0||j._status===-1)&&(j._status=1,j._result=ht)},function(ht){(j._status===0||j._status===-1)&&(j._status=2,j._result=ht)}),j._status===-1&&(j._status=0,j._result=q)}if(j._status===1)return j._result.default;throw j._result}var pt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ct={map:W,forEach:function(j,q,ht){W(j,function(){q.apply(this,arguments)},ht)},count:function(j){var q=0;return W(j,function(){q++}),q},toArray:function(j){return W(j,function(q){return q})||[]},only:function(j){if(!F(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ht.Activity=v,Ht.Children=Ct,Ht.Component=R,Ht.Fragment=i,Ht.Profiler=o,Ht.PureComponent=L,Ht.StrictMode=s,Ht.Suspense=p,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},Ht.cache=function(j){return function(){return j.apply(null,arguments)}},Ht.cacheSignal=function(){return null},Ht.cloneElement=function(j,q,ht){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ut=E({},j.props),dt=j.key;if(q!=null)for(Dt in q.key!==void 0&&(dt=""+q.key),q)!O.call(q,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&q.ref===void 0||(ut[Dt]=q[Dt]);var Dt=arguments.length-2;if(Dt===1)ut.children=ht;else if(1<Dt){for(var Ut=Array(Dt),Vt=0;Vt<Dt;Vt++)Ut[Vt]=arguments[Vt+2];ut.children=Ut}return I(j.type,dt,ut)},Ht.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Ht.createElement=function(j,q,ht){var ut,dt={},Dt=null;if(q!=null)for(ut in q.key!==void 0&&(Dt=""+q.key),q)O.call(q,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(dt[ut]=q[ut]);var Ut=arguments.length-2;if(Ut===1)dt.children=ht;else if(1<Ut){for(var Vt=Array(Ut),Ot=0;Ot<Ut;Ot++)Vt[Ot]=arguments[Ot+2];dt.children=Vt}if(j&&j.defaultProps)for(ut in Ut=j.defaultProps,Ut)dt[ut]===void 0&&(dt[ut]=Ut[ut]);return I(j,Dt,dt)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(j){return{$$typeof:m,render:j}},Ht.isValidElement=F,Ht.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:xt}},Ht.memo=function(j,q){return{$$typeof:g,type:j,compare:q===void 0?null:q}},Ht.startTransition=function(j){var q=D.T,ht={};D.T=ht;try{var ut=j(),dt=D.S;dt!==null&&dt(ht,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(st,pt)}catch(Dt){pt(Dt)}finally{q!==null&&ht.types!==null&&(q.types=ht.types),D.T=q}},Ht.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ht.use=function(j){return D.H.use(j)},Ht.useActionState=function(j,q,ht){return D.H.useActionState(j,q,ht)},Ht.useCallback=function(j,q){return D.H.useCallback(j,q)},Ht.useContext=function(j){return D.H.useContext(j)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(j,q){return D.H.useDeferredValue(j,q)},Ht.useEffect=function(j,q){return D.H.useEffect(j,q)},Ht.useEffectEvent=function(j){return D.H.useEffectEvent(j)},Ht.useId=function(){return D.H.useId()},Ht.useImperativeHandle=function(j,q,ht){return D.H.useImperativeHandle(j,q,ht)},Ht.useInsertionEffect=function(j,q){return D.H.useInsertionEffect(j,q)},Ht.useLayoutEffect=function(j,q){return D.H.useLayoutEffect(j,q)},Ht.useMemo=function(j,q){return D.H.useMemo(j,q)},Ht.useOptimistic=function(j,q){return D.H.useOptimistic(j,q)},Ht.useReducer=function(j,q,ht){return D.H.useReducer(j,q,ht)},Ht.useRef=function(j){return D.H.useRef(j)},Ht.useState=function(j){return D.H.useState(j)},Ht.useSyncExternalStore=function(j,q,ht){return D.H.useSyncExternalStore(j,q,ht)},Ht.useTransition=function(){return D.H.useTransition()},Ht.version="19.2.1",Ht}var M_;function Cd(){return M_||(M_=1,zf.exports=A2()),zf.exports}var qt=Cd(),Vf={exports:{}},Gl={},jf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function C2(){return O_||(O_=1,(function(r){function e($,W){var xt=$.length;$.push(W);t:for(;0<xt;){var pt=xt-1>>>1,Ct=$[pt];if(0<o(Ct,W))$[pt]=W,$[xt]=Ct,xt=pt;else break t}}function i($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var W=$[0],xt=$.pop();if(xt!==W){$[0]=xt;t:for(var pt=0,Ct=$.length,j=Ct>>>1;pt<j;){var q=2*(pt+1)-1,ht=$[q],ut=q+1,dt=$[ut];if(0>o(ht,xt))ut<Ct&&0>o(dt,ht)?($[pt]=dt,$[ut]=xt,pt=ut):($[pt]=ht,$[q]=xt,pt=q);else if(ut<Ct&&0>o(dt,xt))$[pt]=dt,$[ut]=xt,pt=ut;else break t}}return W}function o($,W){var xt=$.sortIndex-W.sortIndex;return xt!==0?xt:$.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],b=1,v=null,A=3,x=!1,V=!1,E=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function Y($){for(var W=i(g);W!==null;){if(W.callback===null)s(g);else if(W.startTime<=$)s(g),W.sortIndex=W.expirationTime,e(p,W);else break;W=i(g)}}function K($){if(E=!1,Y($),!V)if(i(p)!==null)V=!0,st||(st=!0,k());else{var W=i(g);W!==null&&ct(K,W.startTime-$)}}var st=!1,D=-1,O=5,I=-1;function P(){return S?!0:!(r.unstable_now()-I<O)}function F(){if(S=!1,st){var $=r.unstable_now();I=$;var W=!0;try{t:{V=!1,E&&(E=!1,U(D),D=-1),x=!0;var xt=A;try{e:{for(Y($),v=i(p);v!==null&&!(v.expirationTime>$&&P());){var pt=v.callback;if(typeof pt=="function"){v.callback=null,A=v.priorityLevel;var Ct=pt(v.expirationTime<=$);if($=r.unstable_now(),typeof Ct=="function"){v.callback=Ct,Y($),W=!0;break e}v===i(p)&&s(p),Y($)}else s(p);v=i(p)}if(v!==null)W=!0;else{var j=i(g);j!==null&&ct(K,j.startTime-$),W=!1}}break t}finally{v=null,A=xt,x=!1}W=void 0}}finally{W?k():st=!1}}}var k;if(typeof L=="function")k=function(){L(F)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,N=M.port2;M.port1.onmessage=F,k=function(){N.postMessage(null)}}else k=function(){R(F,0)};function ct($,W){D=R(function(){$(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function($){switch(A){case 1:case 2:case 3:var W=3;break;default:W=A}var xt=A;A=W;try{return $()}finally{A=xt}},r.unstable_requestPaint=function(){S=!0},r.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var xt=A;A=$;try{return W()}finally{A=xt}},r.unstable_scheduleCallback=function($,W,xt){var pt=r.unstable_now();switch(typeof xt=="object"&&xt!==null?(xt=xt.delay,xt=typeof xt=="number"&&0<xt?pt+xt:pt):xt=pt,$){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=xt+Ct,$={id:b++,callback:W,priorityLevel:$,startTime:xt,expirationTime:Ct,sortIndex:-1},xt>pt?($.sortIndex=xt,e(g,$),i(p)===null&&$===i(g)&&(E?(U(D),D=-1):E=!0,ct(K,xt-pt))):($.sortIndex=Ct,e(p,$),V||x||(V=!0,st||(st=!0,k()))),$},r.unstable_shouldYield=P,r.unstable_wrapCallback=function($){var W=A;return function(){var xt=A;A=W;try{return $.apply(this,arguments)}finally{A=xt}}}})(Uf)),Uf}var z_;function R2(){return z_||(z_=1,jf.exports=C2()),jf.exports}var Bf={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function N2(){if(V_)return mn;V_=1;var r=Cd();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,b)},mn.flushSync=function(p){var g=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=b,s.d.f()}},mn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},mn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},mn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,v=m(b,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:A,fetchPriority:x}):b==="script"&&s.d.X(p,{crossOrigin:v,integrity:A,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},mn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,v=m(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},mn.requestFormReset=function(p){s.d.r(p)},mn.unstable_batchedUpdates=function(p,g){return p(g)},mn.useFormState=function(p,g,b){return f.H.useFormState(p,g,b)},mn.useFormStatus=function(){return f.H.useHostTransitionStatus()},mn.version="19.2.1",mn}var j_;function D2(){if(j_)return Bf.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bf.exports=N2(),Bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function k2(){if(U_)return Gl;U_=1;var r=R2(),e=Cd(),i=D2();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var y=!1,z=h.child;z;){if(z===a){y=!0,a=h,l=d;break}if(z===l){y=!0,l=h,a=d;break}z=z.sibling}if(!y){for(z=d.child;z;){if(z===a){y=!0,a=d,l=h;break}if(z===l){y=!0,l=d,a=h;break}z=z.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,A=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),L=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function N(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case R:return"Profiler";case S:return"StrictMode";case K:return"Suspense";case st:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case L:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case Y:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:N(t.type)||"Memo";case O:n=t._payload,t=t._init;try{return N(t(n))}catch{}}return null}var ct=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt={pending:!1,data:null,method:null,action:null},pt=[],Ct=-1;function j(t){return{current:t}}function q(t){0>Ct||(t.current=pt[Ct],pt[Ct]=null,Ct--)}function ht(t,n){Ct++,pt[Ct]=t.current,t.current=n}var ut=j(null),dt=j(null),Dt=j(null),Ut=j(null);function Vt(t,n){switch(ht(Dt,n),ht(dt,t),ht(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Wg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Wg(n),t=t_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(ut),ht(ut,t)}function Ot(){q(ut),q(dt),q(Dt)}function xe(t){t.memoizedState!==null&&ht(Ut,t);var n=ut.current,a=t_(n,t.type);n!==a&&(ht(dt,t),ht(ut,a))}function pe(t){dt.current===t&&(q(ut),q(dt)),Ut.current===t&&(q(Ut),Ll._currentValue=xt)}var en,Ze;function w(t){if(en===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);en=n&&n[1]||"",Ze=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+en+t+Ze}var gt=!1;function lt(t,n){if(!t||gt)return"";gt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(ot){var at=ot}Reflect.construct(t,[],yt)}else{try{yt.call()}catch(ot){at=ot}t.call(yt.prototype)}}else{try{throw Error()}catch(ot){at=ot}(yt=t())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(ot){if(ot&&at&&typeof ot.stack=="string")return[ot.stack,at.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],z=d[1];if(y&&z){var Q=y.split(`
`),nt=z.split(`
`);for(h=l=0;l<Q.length&&!Q[l].includes("DetermineComponentFrameRoot");)l++;for(;h<nt.length&&!nt[h].includes("DetermineComponentFrameRoot");)h++;if(l===Q.length||h===nt.length)for(l=Q.length-1,h=nt.length-1;1<=l&&0<=h&&Q[l]!==nt[h];)h--;for(;1<=l&&0<=h;l--,h--)if(Q[l]!==nt[h]){if(l!==1||h!==1)do if(l--,h--,0>h||Q[l]!==nt[h]){var ft=`
`+Q[l].replace(" at new "," at ");return t.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",t.displayName)),ft}while(1<=l&&0<=h);break}}}finally{gt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?w(a):""}function G(t,n){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return t.child!==n&&n!==null?w("Suspense Fallback"):w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return lt(t.type,!1);case 11:return lt(t.type.render,!1);case 1:return lt(t.type,!0);case 31:return w("Activity");default:return""}}function H(t){try{var n="",a=null;do n+=G(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Z=Object.prototype.hasOwnProperty,mt=r.unstable_scheduleCallback,bt=r.unstable_cancelCallback,it=r.unstable_shouldYield,Tt=r.unstable_requestPaint,At=r.unstable_now,wt=r.unstable_getCurrentPriorityLevel,Mt=r.unstable_ImmediatePriority,se=r.unstable_UserBlockingPriority,Gt=r.unstable_NormalPriority,fn=r.unstable_LowPriority,di=r.unstable_IdlePriority,yn=r.log,mi=r.unstable_setDisableYieldValue,ae=null,ke=null;function dn(t){if(typeof yn=="function"&&mi(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(ae,t)}catch{}}var oe=Math.clz32?Math.clz32:Bs,ss=Math.log,da=Math.LN2;function Bs(t){return t>>>=0,t===0?32:31-(ss(t)/da|0)|0}var Pn=256,pi=262144,Te=4194304;function vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var z=l&134217727;return z!==0?(l=z&~d,l!==0?h=vn(l):(y&=z,y!==0?h=vn(y):a||(a=z&~t,a!==0&&(h=vn(a))))):(z=l&~d,z!==0?h=vn(z):y!==0?h=vn(y):a||(a=l&~t,a!==0&&(h=vn(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function ei(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _o(){var t=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),t}function _i(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function rs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uc(t,n,a,l,h,d){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var z=t.entanglements,Q=t.expirationTimes,nt=t.hiddenUpdates;for(a=y&~a;0<a;){var ft=31-oe(a),yt=1<<ft;z[ft]=0,Q[ft]=-1;var at=nt[ft];if(at!==null)for(nt[ft]=null,ft=0;ft<at.length;ft++){var ot=at[ft];ot!==null&&(ot.lane&=-536870913)}a&=~yt}l!==0&&ls(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~n))}function ls(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-oe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Gr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-oe(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Qr(t,n){var a=n&-n;return a=(a&42)!==0?1:os(a),(a&(t.suspendedLanes|n))!==0?0:a}function os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yo(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:T_(t.type))}function ni(t,n){var a=W.p;try{return W.p=t,n()}finally{W.p=a}}var ii=Math.random().toString(36).slice(2),Ue="__reactFiber$"+ii,Je="__reactProps$"+ii,yi="__reactContainer$"+ii,Ls="__reactEvents$"+ii,Bc="__reactListeners$"+ii,vo="__reactHandles$"+ii,bo="__reactResources$"+ii,vi="__reactMarker$"+ii;function Ps(t){delete t[Ue],delete t[Je],delete t[Ls],delete t[Bc],delete t[vo]}function bi(t){var n=t[Ue];if(n)return n;for(var a=t.parentNode;a;){if(n=a[yi]||a[Ue]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=l_(t);t!==null;){if(a=t[Ue])return a;t=l_(t)}return n}t=a,a=t.parentNode}return null}function Hn(t){if(t=t[Ue]||t[yi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ei(t){var n=t[bo];return n||(n=t[bo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Be(t){t[vi]=!0}var Yr=new Set,Kr={};function xi(t,n){Ti(t,n),Ti(t+"Capture",n)}function Ti(t,n){for(Kr[t]=n,t=0;t<n.length;t++)Yr.add(n[t])}var Xr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zr={},Jr={};function Eo(t){return Z.call(Jr,t)?!0:Z.call(Zr,t)?!1:Xr.test(t)?Jr[t]=!0:(Zr[t]=!0,!1)}function Hs(t,n,a){if(Eo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function In(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Le(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ma(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $r(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function fe(t){if(!t._valueTracker){var n=ma(t)?"checked":"value";t._valueTracker=$r(t,n,""+t[n])}}function us(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ma(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cs=/[\n"\\]/g;function xn(t){return t.replace(cs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qs(t,n,a,l,h,d,y,z){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$e(n)):t.value!==""+$e(n)&&(t.value=""+$e(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Wr(t,y,$e(n)):a!=null?Wr(t,y,$e(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?t.name=""+$e(z):t.removeAttribute("name")}function xo(t,n,a,l,h,d,y,z){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){fe(t);return}a=a!=null?""+$e(a):"",n=n!=null?""+$e(n):a,z||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=z?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),fe(t)}function Wr(t,n,a){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pa(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+$e(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function To(t,n,a){if(n!=null&&(n=""+$e(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+$e(a):""}function ga(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ct(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=$e(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),fe(t)}function Tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var wo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||wo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function el(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&tl(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&tl(t,d,n[d])}function Fs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_a=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(t){return _a.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var nl=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ya=null,Si=null;function hs(t){var n=Hn(t);if(n&&(t=n.stateNode)){var a=t[Je]||null;t:switch(t=n.stateNode,n.type){case"input":if(qs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Je]||null;if(!h)throw Error(s(90));qs(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&us(l)}break t;case"textarea":To(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&pa(t,!!a.multiple,n,!1)}}}var Qs=!1;function va(t,n,a){if(Qs)return t(n,a);Qs=!0;try{var l=t(n);return l}finally{if(Qs=!1,(ya!==null||Si!==null)&&(yu(),ya&&(n=ya,t=Si,Si=ya=null,hs(n),t)))for(n=0;n<t.length;n++)hs(t[n])}}function si(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Je]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(Fn)try{var ge={};Object.defineProperty(ge,"passive",{get:function(){fs=!0}}),window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{fs=!1}var Ai=null,il=null,ds=null;function al(){if(ds)return ds;var t,n=il,a=n.length,l,h="value"in Ai?Ai.value:Ai.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===h[d-l];l++);return ds=h.slice(t,1<l?1-l:void 0)}function ms(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function ri(){return!1}function nn(t){function n(a,l,h,d,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var z in t)t.hasOwnProperty(z)&&(a=t[z],this[z]=a?a(d):d[z]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:ri,this.isPropagationStopped=ri,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=nn(Gi),ba=v({},Gi,{view:0,detail:0}),sl=nn(ba),Ea,Ys,Ri,Ks=v({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Ea=t.screenX-Ri.screenX,Ys=t.screenY-Ri.screenY):Ys=Ea=0,Ri=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Ys}}),rl=nn(Ks),ps=v({},Ks,{dataTransfer:0}),Ao=nn(ps),Co=v({},ba,{relatedTarget:0}),gs=nn(Co),ll=v({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ro=nn(ll),Xs=v({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),No=nn(Xs),Do=v({},Gi,{data:0}),Ni=nn(Do),ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mo[t])?!!n[t]:!1}function xa(){return Oo}var bn=v({},ba,{key:function(t){if(t.key){var n=ko[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Io[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(t){return t.type==="keypress"?ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zo=nn(bn),Vo=v({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=nn(Vo),c=v({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),_=nn(c),T=v({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=nn(T),tt=v({},Ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=nn(tt),St=v({},Gi,{newState:0,oldState:0}),Qt=nn(St),Oe=[9,13,27,32],ue=Fn&&"CompositionEvent"in window,Re=null;Fn&&"documentMode"in document&&(Re=document.documentMode);var Gn=Fn&&"TextEvent"in window&&!Re,Di=Fn&&(!ue||Re&&8<Re&&11>=Re),li=" ",oi=!1;function _s(t,n){switch(t){case"keyup":return Oe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Js=!1;function Yv(t,n){switch(t){case"compositionend":return Zs(n);case"keypress":return n.which!==32?null:(oi=!0,li);case"textInput":return t=n.data,t===li&&oi?null:t;default:return null}}function Kv(t,n){if(Js)return t==="compositionend"||!ue&&_s(t,n)?(t=al(),ds=il=Ai=null,Js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var Xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Xv[t.type]:n==="textarea"}function hm(t,n,a,l){ya?Si?Si.push(l):Si=[l]:ya=l,n=Su(n,"onChange"),0<n.length&&(a=new Ci("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ol=null,ul=null;function Zv(t){Yg(t,0)}function jo(t){var n=kn(t);if(us(n))return t}function fm(t,n){if(t==="change")return n}var dm=!1;if(Fn){var Lc;if(Fn){var Pc="oninput"in document;if(!Pc){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Pc=typeof mm.oninput=="function"}Lc=Pc}else Lc=!1;dm=Lc&&(!document.documentMode||9<document.documentMode)}function pm(){ol&&(ol.detachEvent("onpropertychange",gm),ul=ol=null)}function gm(t){if(t.propertyName==="value"&&jo(ul)){var n=[];hm(n,ul,t,qn(t)),va(Zv,n)}}function Jv(t,n,a){t==="focusin"?(pm(),ol=n,ul=a,ol.attachEvent("onpropertychange",gm)):t==="focusout"&&pm()}function $v(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jo(ul)}function Wv(t,n){if(t==="click")return jo(n)}function t1(t,n){if(t==="input"||t==="change")return jo(n)}function e1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Mn=typeof Object.is=="function"?Object.is:e1;function cl(t,n){if(Mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Z.call(n,h)||!Mn(t[h],n[h]))return!1}return!0}function _m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ym(t,n){var a=_m(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=_m(a)}}function vm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function bm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=wi(t.document)}return n}function Hc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var n1=Fn&&"documentMode"in document&&11>=document.documentMode,$s=null,qc=null,hl=null,Fc=!1;function Em(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fc||$s==null||$s!==wi(l)||(l=$s,"selectionStart"in l&&Hc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=Su(qc,"onSelect"),0<l.length&&(n=new Ci("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=$s)))}function ys(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ws={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},Gc={},xm={};Fn&&(xm=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function vs(t){if(Gc[t])return Gc[t];if(!Ws[t])return t;var n=Ws[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in xm)return Gc[t]=n[a];return t}var Tm=vs("animationend"),wm=vs("animationiteration"),Sm=vs("animationstart"),i1=vs("transitionrun"),a1=vs("transitionstart"),s1=vs("transitioncancel"),Am=vs("transitionend"),Cm=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function ui(t,n){Cm.set(t,n),xi(n,[t])}var Uo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],tr=0,Yc=0;function Bo(){for(var t=tr,n=Yc=tr=0;n<t;){var a=Qn[n];Qn[n++]=null;var l=Qn[n];Qn[n++]=null;var h=Qn[n];Qn[n++]=null;var d=Qn[n];if(Qn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&Rm(a,h,d)}}function Lo(t,n,a,l){Qn[tr++]=t,Qn[tr++]=n,Qn[tr++]=a,Qn[tr++]=l,Yc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kc(t,n,a,l){return Lo(t,n,a,l),Po(t)}function bs(t,n){return Lo(t,null,null,n),Po(t)}function Rm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-oe(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function Po(t){if(50<Ml)throw Ml=0,af=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var er={};function r1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,n,a,l){return new r1(t,n,a,l)}function Xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,n){var a=t.alternate;return a===null?(a=On(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Nm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ho(t,n,a,l,h,d){var y=0;if(l=t,typeof t=="function")Xc(t)&&(y=1);else if(typeof t=="string")y=h2(t,a,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case I:return t=On(31,a,n,h),t.elementType=I,t.lanes=d,t;case E:return Es(a.children,h,d,n);case S:y=8,h|=24;break;case R:return t=On(12,a,n,h|2),t.elementType=R,t.lanes=d,t;case K:return t=On(13,a,n,h),t.elementType=K,t.lanes=d,t;case st:return t=On(19,a,n,h),t.elementType=st,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:y=10;break t;case U:y=9;break t;case Y:y=11;break t;case D:y=14;break t;case O:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=On(y,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Es(t,n,a,l){return t=On(7,t,l,n),t.lanes=a,t}function Zc(t,n,a){return t=On(6,t,null,n),t.lanes=a,t}function Dm(t){var n=On(18,null,null,0);return n.stateNode=t,n}function Jc(t,n,a){return n=On(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var km=new WeakMap;function Yn(t,n){if(typeof t=="object"&&t!==null){var a=km.get(t);return a!==void 0?a:(n={value:t,source:n,stack:H(n)},km.set(t,n),n)}return{value:t,source:n,stack:H(n)}}var nr=[],ir=0,qo=null,fl=0,Kn=[],Xn=0,Ta=null,ki=1,Ii="";function Ki(t,n){nr[ir++]=fl,nr[ir++]=qo,qo=t,fl=n}function Im(t,n,a){Kn[Xn++]=ki,Kn[Xn++]=Ii,Kn[Xn++]=Ta,Ta=t;var l=ki;t=Ii;var h=32-oe(l)-1;l&=~(1<<h),a+=1;var d=32-oe(n)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,ki=1<<32-oe(n)+h|a<<h|l,Ii=d+t}else ki=1<<d|a<<h|l,Ii=t}function $c(t){t.return!==null&&(Ki(t,1),Im(t,1,0))}function Wc(t){for(;t===qo;)qo=nr[--ir],nr[ir]=null,fl=nr[--ir],nr[ir]=null;for(;t===Ta;)Ta=Kn[--Xn],Kn[Xn]=null,Ii=Kn[--Xn],Kn[Xn]=null,ki=Kn[--Xn],Kn[Xn]=null}function Mm(t,n){Kn[Xn++]=ki,Kn[Xn++]=Ii,Kn[Xn++]=Ta,ki=n.id,Ii=n.overflow,Ta=t}var an=null,we=null,ee=!1,wa=null,Zn=!1,th=Error(s(519));function Sa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(Yn(n,t)),th}function Om(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ue]=t,n[Je]=l,a){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(a=0;a<zl.length;a++)Zt(zl[a],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":Zt("invalid",n),xo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Zt("invalid",n);break;case"textarea":Zt("invalid",n),ga(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Jg(n.textContent,a)?(l.popover!=null&&(Zt("beforetoggle",n),Zt("toggle",n)),l.onScroll!=null&&Zt("scroll",n),l.onScrollEnd!=null&&Zt("scrollend",n),l.onClick!=null&&(n.onclick=ai),n=!0):n=!1,n||Sa(t,!0)}function zm(t){for(an=t.return;an;)switch(an.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:an=an.return}}function ar(t){if(t!==an)return!1;if(!ee)return zm(t),ee=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||vf(t.type,t.memoizedProps)),a=!a),a&&we&&Sa(t),zm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));we=r_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));we=r_(t)}else n===27?(n=we,Ba(t.type)?(t=wf,wf=null,we=t):we=n):we=an?$n(t.stateNode.nextSibling):null;return!0}function xs(){we=an=null,ee=!1}function eh(){var t=wa;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),wa=null),t}function dl(t){wa===null?wa=[t]:wa.push(t)}var nh=j(null),Ts=null,Xi=null;function Aa(t,n,a){ht(nh,n._currentValue),n._currentValue=a}function Zi(t){t._currentValue=nh.current,q(nh)}function ih(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function ah(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;t:for(;d!==null;){var z=d;d=h;for(var Q=0;Q<n.length;Q++)if(z.context===n[Q]){d.lanes|=a,z=d.alternate,z!==null&&(z.lanes|=a),ih(d.return,a,t),l||(y=null);break t}d=z.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),ih(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function sr(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var z=h.type;Mn(h.pendingProps.value,y.value)||(t!==null?t.push(z):t=[z])}}else if(h===Ut.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}h=h.return}t!==null&&ah(n,t,a,l),n.flags|=262144}function Fo(t){for(t=t.firstContext;t!==null;){if(!Mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ws(t){Ts=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return Vm(Ts,t)}function Go(t,n){return Ts===null&&ws(t),Vm(t,n)}function Vm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(s(308));Xi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Xi=Xi.next=n;return a}var l1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},o1=r.unstable_scheduleCallback,u1=r.unstable_NormalPriority,Pe={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sh(){return{controller:new l1,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&o1(u1,function(){t.controller.abort()})}var pl=null,rh=0,rr=0,lr=null;function c1(t,n){if(pl===null){var a=pl=[];rh=0,rr=cf(),lr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rh++,n.then(jm,jm),n}function jm(){if(--rh===0&&pl!==null){lr!==null&&(lr.status="fulfilled");var t=pl;pl=null,rr=0,lr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function h1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Um=$.S;$.S=function(t,n){Eg=At(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&c1(t,n),Um!==null&&Um(t,n)};var Ss=j(null);function lh(){var t=Ss.current;return t!==null?t:Ee.pooledCache}function Qo(t,n){n===null?ht(Ss,Ss.current):ht(Ss,n.pool)}function Bm(){var t=lh();return t===null?null:{parent:Pe._currentValue,pool:t}}var or=Error(s(460)),oh=Error(s(474)),Yo=Error(s(542)),Ko={then:function(){}};function Lm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ai,ai),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qm(t),t;default:if(typeof n.status=="string")n.then(ai,ai);else{if(t=Ee,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qm(t),t}throw Cs=n,or}}function As(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Cs=a,or):a}}var Cs=null;function Hm(){if(Cs===null)throw Error(s(459));var t=Cs;return Cs=null,t}function qm(t){if(t===or||t===Yo)throw Error(s(483))}var ur=null,gl=0;function Xo(t){var n=gl;return gl+=1,ur===null&&(ur=[]),Pm(ur,t,n)}function _l(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Zo(t,n){throw n.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Fm(t){function n(J,X){if(t){var et=J.deletions;et===null?(J.deletions=[X],J.flags|=16):et.push(X)}}function a(J,X){if(!t)return null;for(;X!==null;)n(J,X),X=X.sibling;return null}function l(J){for(var X=new Map;J!==null;)J.key!==null?X.set(J.key,J):X.set(J.index,J),J=J.sibling;return X}function h(J,X){return J=Yi(J,X),J.index=0,J.sibling=null,J}function d(J,X,et){return J.index=et,t?(et=J.alternate,et!==null?(et=et.index,et<X?(J.flags|=67108866,X):et):(J.flags|=67108866,X)):(J.flags|=1048576,X)}function y(J){return t&&J.alternate===null&&(J.flags|=67108866),J}function z(J,X,et,_t){return X===null||X.tag!==6?(X=Zc(et,J.mode,_t),X.return=J,X):(X=h(X,et),X.return=J,X)}function Q(J,X,et,_t){var zt=et.type;return zt===E?ft(J,X,et.props.children,_t,et.key):X!==null&&(X.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===O&&As(zt)===X.type)?(X=h(X,et.props),_l(X,et),X.return=J,X):(X=Ho(et.type,et.key,et.props,null,J.mode,_t),_l(X,et),X.return=J,X)}function nt(J,X,et,_t){return X===null||X.tag!==4||X.stateNode.containerInfo!==et.containerInfo||X.stateNode.implementation!==et.implementation?(X=Jc(et,J.mode,_t),X.return=J,X):(X=h(X,et.children||[]),X.return=J,X)}function ft(J,X,et,_t,zt){return X===null||X.tag!==7?(X=Es(et,J.mode,_t,zt),X.return=J,X):(X=h(X,et),X.return=J,X)}function yt(J,X,et){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Zc(""+X,J.mode,et),X.return=J,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case x:return et=Ho(X.type,X.key,X.props,null,J.mode,et),_l(et,X),et.return=J,et;case V:return X=Jc(X,J.mode,et),X.return=J,X;case O:return X=As(X),yt(J,X,et)}if(ct(X)||k(X))return X=Es(X,J.mode,et,null),X.return=J,X;if(typeof X.then=="function")return yt(J,Xo(X),et);if(X.$$typeof===L)return yt(J,Go(J,X),et);Zo(J,X)}return null}function at(J,X,et,_t){var zt=X!==null?X.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return zt!==null?null:z(J,X,""+et,_t);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case x:return et.key===zt?Q(J,X,et,_t):null;case V:return et.key===zt?nt(J,X,et,_t):null;case O:return et=As(et),at(J,X,et,_t)}if(ct(et)||k(et))return zt!==null?null:ft(J,X,et,_t,null);if(typeof et.then=="function")return at(J,X,Xo(et),_t);if(et.$$typeof===L)return at(J,X,Go(J,et),_t);Zo(J,et)}return null}function ot(J,X,et,_t,zt){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return J=J.get(et)||null,z(X,J,""+_t,zt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case x:return J=J.get(_t.key===null?et:_t.key)||null,Q(X,J,_t,zt);case V:return J=J.get(_t.key===null?et:_t.key)||null,nt(X,J,_t,zt);case O:return _t=As(_t),ot(J,X,et,_t,zt)}if(ct(_t)||k(_t))return J=J.get(et)||null,ft(X,J,_t,zt,null);if(typeof _t.then=="function")return ot(J,X,et,Xo(_t),zt);if(_t.$$typeof===L)return ot(J,X,et,Go(X,_t),zt);Zo(X,_t)}return null}function Nt(J,X,et,_t){for(var zt=null,re=null,It=X,Kt=X=0,$t=null;It!==null&&Kt<et.length;Kt++){It.index>Kt?($t=It,It=null):$t=It.sibling;var le=at(J,It,et[Kt],_t);if(le===null){It===null&&(It=$t);break}t&&It&&le.alternate===null&&n(J,It),X=d(le,X,Kt),re===null?zt=le:re.sibling=le,re=le,It=$t}if(Kt===et.length)return a(J,It),ee&&Ki(J,Kt),zt;if(It===null){for(;Kt<et.length;Kt++)It=yt(J,et[Kt],_t),It!==null&&(X=d(It,X,Kt),re===null?zt=It:re.sibling=It,re=It);return ee&&Ki(J,Kt),zt}for(It=l(It);Kt<et.length;Kt++)$t=ot(It,J,Kt,et[Kt],_t),$t!==null&&(t&&$t.alternate!==null&&It.delete($t.key===null?Kt:$t.key),X=d($t,X,Kt),re===null?zt=$t:re.sibling=$t,re=$t);return t&&It.forEach(function(Fa){return n(J,Fa)}),ee&&Ki(J,Kt),zt}function Bt(J,X,et,_t){if(et==null)throw Error(s(151));for(var zt=null,re=null,It=X,Kt=X=0,$t=null,le=et.next();It!==null&&!le.done;Kt++,le=et.next()){It.index>Kt?($t=It,It=null):$t=It.sibling;var Fa=at(J,It,le.value,_t);if(Fa===null){It===null&&(It=$t);break}t&&It&&Fa.alternate===null&&n(J,It),X=d(Fa,X,Kt),re===null?zt=Fa:re.sibling=Fa,re=Fa,It=$t}if(le.done)return a(J,It),ee&&Ki(J,Kt),zt;if(It===null){for(;!le.done;Kt++,le=et.next())le=yt(J,le.value,_t),le!==null&&(X=d(le,X,Kt),re===null?zt=le:re.sibling=le,re=le);return ee&&Ki(J,Kt),zt}for(It=l(It);!le.done;Kt++,le=et.next())le=ot(It,J,Kt,le.value,_t),le!==null&&(t&&le.alternate!==null&&It.delete(le.key===null?Kt:le.key),X=d(le,X,Kt),re===null?zt=le:re.sibling=le,re=le);return t&&It.forEach(function(x2){return n(J,x2)}),ee&&Ki(J,Kt),zt}function ve(J,X,et,_t){if(typeof et=="object"&&et!==null&&et.type===E&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case x:t:{for(var zt=et.key;X!==null;){if(X.key===zt){if(zt=et.type,zt===E){if(X.tag===7){a(J,X.sibling),_t=h(X,et.props.children),_t.return=J,J=_t;break t}}else if(X.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===O&&As(zt)===X.type){a(J,X.sibling),_t=h(X,et.props),_l(_t,et),_t.return=J,J=_t;break t}a(J,X);break}else n(J,X);X=X.sibling}et.type===E?(_t=Es(et.props.children,J.mode,_t,et.key),_t.return=J,J=_t):(_t=Ho(et.type,et.key,et.props,null,J.mode,_t),_l(_t,et),_t.return=J,J=_t)}return y(J);case V:t:{for(zt=et.key;X!==null;){if(X.key===zt)if(X.tag===4&&X.stateNode.containerInfo===et.containerInfo&&X.stateNode.implementation===et.implementation){a(J,X.sibling),_t=h(X,et.children||[]),_t.return=J,J=_t;break t}else{a(J,X);break}else n(J,X);X=X.sibling}_t=Jc(et,J.mode,_t),_t.return=J,J=_t}return y(J);case O:return et=As(et),ve(J,X,et,_t)}if(ct(et))return Nt(J,X,et,_t);if(k(et)){if(zt=k(et),typeof zt!="function")throw Error(s(150));return et=zt.call(et),Bt(J,X,et,_t)}if(typeof et.then=="function")return ve(J,X,Xo(et),_t);if(et.$$typeof===L)return ve(J,X,Go(J,et),_t);Zo(J,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,X!==null&&X.tag===6?(a(J,X.sibling),_t=h(X,et),_t.return=J,J=_t):(a(J,X),_t=Zc(et,J.mode,_t),_t.return=J,J=_t),y(J)):a(J,X)}return function(J,X,et,_t){try{gl=0;var zt=ve(J,X,et,_t);return ur=null,zt}catch(It){if(It===or||It===Yo)throw It;var re=On(29,It,null,J.mode);return re.lanes=_t,re.return=J,re}finally{}}}var Rs=Fm(!0),Gm=Fm(!1),Ca=!1;function uh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ch(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Na(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ce&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Po(t),Rm(t,null,a),n}return Lo(t,l,n,a),Po(t)}function yl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Gr(t,a)}}function hh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var fh=!1;function vl(){if(fh){var t=lr;if(t!==null)throw t}}function bl(t,n,a,l){fh=!1;var h=t.updateQueue;Ca=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,z=h.shared.pending;if(z!==null){h.shared.pending=null;var Q=z,nt=Q.next;Q.next=null,y===null?d=nt:y.next=nt,y=Q;var ft=t.alternate;ft!==null&&(ft=ft.updateQueue,z=ft.lastBaseUpdate,z!==y&&(z===null?ft.firstBaseUpdate=nt:z.next=nt,ft.lastBaseUpdate=Q))}if(d!==null){var yt=h.baseState;y=0,ft=nt=Q=null,z=d;do{var at=z.lane&-536870913,ot=at!==z.lane;if(ot?(Jt&at)===at:(l&at)===at){at!==0&&at===rr&&(fh=!0),ft!==null&&(ft=ft.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});t:{var Nt=t,Bt=z;at=n;var ve=a;switch(Bt.tag){case 1:if(Nt=Bt.payload,typeof Nt=="function"){yt=Nt.call(ve,yt,at);break t}yt=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Bt.payload,at=typeof Nt=="function"?Nt.call(ve,yt,at):Nt,at==null)break t;yt=v({},yt,at);break t;case 2:Ca=!0}}at=z.callback,at!==null&&(t.flags|=64,ot&&(t.flags|=8192),ot=h.callbacks,ot===null?h.callbacks=[at]:ot.push(at))}else ot={lane:at,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ft===null?(nt=ft=ot,Q=yt):ft=ft.next=ot,y|=at;if(z=z.next,z===null){if(z=h.shared.pending,z===null)break;ot=z,z=ot.next,ot.next=null,h.lastBaseUpdate=ot,h.shared.pending=null}}while(!0);ft===null&&(Q=yt),h.baseState=Q,h.firstBaseUpdate=nt,h.lastBaseUpdate=ft,d===null&&(h.shared.lanes=0),Oa|=y,t.lanes=y,t.memoizedState=yt}}function Qm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Ym(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Qm(a[t],n)}var cr=j(null),Jo=j(0);function Km(t,n){t=sa,ht(Jo,t),ht(cr,n),sa=t|n.baseLanes}function dh(){ht(Jo,sa),ht(cr,cr.current)}function mh(){sa=Jo.current,q(cr),q(Jo)}var zn=j(null),Jn=null;function Da(t){var n=t.alternate;ht(ze,ze.current&1),ht(zn,t),Jn===null&&(n===null||cr.current!==null||n.memoizedState!==null)&&(Jn=t)}function ph(t){ht(ze,ze.current),ht(zn,t),Jn===null&&(Jn=t)}function Xm(t){t.tag===22?(ht(ze,ze.current),ht(zn,t),Jn===null&&(Jn=t)):ka()}function ka(){ht(ze,ze.current),ht(zn,zn.current)}function Vn(t){q(zn),Jn===t&&(Jn=null),q(ze)}var ze=j(0);function $o(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xf(a)||Tf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ji=0,Yt=null,_e=null,He=null,Wo=!1,hr=!1,Ns=!1,tu=0,El=0,fr=null,f1=0;function Ie(){throw Error(s(321))}function gh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Mn(t[a],n[a]))return!1;return!0}function _h(t,n,a,l,h,d){return Ji=d,Yt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=t===null||t.memoizedState===null?Ip:Ih,Ns=!1,d=a(l,h),Ns=!1,hr&&(d=Jm(n,a,l,h)),Zm(t),d}function Zm(t){$.H=wl;var n=_e!==null&&_e.next!==null;if(Ji=0,He=_e=Yt=null,Wo=!1,El=0,fr=null,n)throw Error(s(300));t===null||qe||(t=t.dependencies,t!==null&&Fo(t)&&(qe=!0))}function Jm(t,n,a,l){Yt=t;var h=0;do{if(hr&&(fr=null),El=0,hr=!1,25<=h)throw Error(s(301));if(h+=1,He=_e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Mp,d=n(a,l)}while(hr);return d}function d1(){var t=$.H,n=t.useState()[0];return n=typeof n.then=="function"?xl(n):n,t=t.useState()[0],(_e!==null?_e.memoizedState:null)!==t&&(Yt.flags|=1024),n}function yh(){var t=tu!==0;return tu=0,t}function vh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function bh(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}Ji=0,He=_e=Yt=null,hr=!1,El=tu=0,fr=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Yt.memoizedState=He=t:He=He.next=t,He}function Ve(){if(_e===null){var t=Yt.alternate;t=t!==null?t.memoizedState:null}else t=_e.next;var n=He===null?Yt.memoizedState:He.next;if(n!==null)He=n,_e=t;else{if(t===null)throw Yt.alternate===null?Error(s(467)):Error(s(310));_e=t,t={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},He===null?Yt.memoizedState=He=t:He=He.next=t}return He}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(t){var n=El;return El+=1,fr===null&&(fr=[]),t=Pm(fr,t,n),n=Yt,(He===null?n.memoizedState:He.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?Ip:Ih),t}function nu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xl(t);if(t.$$typeof===L)return sn(t)}throw Error(s(438,String(t)))}function Eh(t){var n=null,a=Yt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Yt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=eu(),Yt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=P;return n.index++,a}function $i(t,n){return typeof n=="function"?n(t):n}function iu(t){var n=Ve();return xh(n,_e,t)}function xh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var z=y=null,Q=null,nt=n,ft=!1;do{var yt=nt.lane&-536870913;if(yt!==nt.lane?(Jt&yt)===yt:(Ji&yt)===yt){var at=nt.revertLane;if(at===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),yt===rr&&(ft=!0);else if((Ji&at)===at){nt=nt.next,at===rr&&(ft=!0);continue}else yt={lane:0,revertLane:nt.revertLane,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Q===null?(z=Q=yt,y=d):Q=Q.next=yt,Yt.lanes|=at,Oa|=at;yt=nt.action,Ns&&a(d,yt),d=nt.hasEagerState?nt.eagerState:a(d,yt)}else at={lane:yt,revertLane:nt.revertLane,gesture:nt.gesture,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Q===null?(z=Q=at,y=d):Q=Q.next=at,Yt.lanes|=yt,Oa|=yt;nt=nt.next}while(nt!==null&&nt!==n);if(Q===null?y=d:Q.next=z,!Mn(d,t.memoizedState)&&(qe=!0,ft&&(a=lr,a!==null)))throw a;t.memoizedState=d,t.baseState=y,t.baseQueue=Q,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Th(t){var n=Ve(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);Mn(d,n.memoizedState)||(qe=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function $m(t,n,a){var l=Yt,h=Ve(),d=ee;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!Mn((_e||h).memoizedState,a);if(y&&(h.memoizedState=a,qe=!0),h=h.queue,Ah(ep.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||He!==null&&He.memoizedState.tag&1){if(l.flags|=2048,dr(9,{destroy:void 0},tp.bind(null,l,h,a,n),null),Ee===null)throw Error(s(349));d||(Ji&127)!==0||Wm(l,n,a)}return a}function Wm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Yt.updateQueue,n===null?(n=eu(),Yt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function tp(t,n,a,l){n.value=a,n.getSnapshot=l,np(n)&&ip(t)}function ep(t,n,a){return a(function(){np(n)&&ip(t)})}function np(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Mn(t,a)}catch{return!0}}function ip(t){var n=bs(t,2);n!==null&&Rn(n,t,2)}function wh(t){var n=En();if(typeof t=="function"){var a=t;if(t=a(),Ns){dn(!0);try{a()}finally{dn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},n}function ap(t,n,a,l){return t.baseState=a,xh(t,_e,typeof l=="function"?l:$i)}function m1(t,n,a,l,h){if(ru(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,sp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function sp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=$.T,y={};$.T=y;try{var z=a(h,l),Q=$.S;Q!==null&&Q(y,z),rp(t,n,z)}catch(nt){Sh(t,n,nt)}finally{d!==null&&y.types!==null&&(d.types=y.types),$.T=d}}else try{d=a(h,l),rp(t,n,d)}catch(nt){Sh(t,n,nt)}}function rp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){lp(t,n,l)},function(l){return Sh(t,n,l)}):lp(t,n,a)}function lp(t,n,a){n.status="fulfilled",n.value=a,op(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,sp(t,a)))}function Sh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,op(n),n=n.next;while(n!==l)}t.action=null}function op(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function up(t,n){return n}function cp(t,n){if(ee){var a=Ee.formState;if(a!==null){t:{var l=Yt;if(ee){if(we){e:{for(var h=we,d=Zn;h.nodeType!==8;){if(!d){h=null;break e}if(h=$n(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){we=$n(h.nextSibling),l=h.data==="F!";break t}}Sa(l)}l=!1}l&&(n=a[0])}}return a=En(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},a.queue=l,a=Np.bind(null,Yt,l),l.dispatch=a,l=wh(!1),d=kh.bind(null,Yt,!1,l.queue),l=En(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=m1.bind(null,Yt,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function hp(t){var n=Ve();return fp(n,_e,t)}function fp(t,n,a){if(n=xh(t,n,up)[0],t=iu($i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=xl(n)}catch(y){throw y===or?Yo:y}else l=n;n=Ve();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Yt.flags|=2048,dr(9,{destroy:void 0},p1.bind(null,h,a),null)),[l,d,t]}function p1(t,n){t.action=n}function dp(t){var n=Ve(),a=_e;if(a!==null)return fp(n,a,t);Ve(),n=n.memoizedState,a=Ve();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function dr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Yt.updateQueue,n===null&&(n=eu(),Yt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function mp(){return Ve().memoizedState}function au(t,n,a,l){var h=En();Yt.flags|=t,h.memoizedState=dr(1|n,{destroy:void 0},a,l===void 0?null:l)}function su(t,n,a,l){var h=Ve();l=l===void 0?null:l;var d=h.memoizedState.inst;_e!==null&&l!==null&&gh(l,_e.memoizedState.deps)?h.memoizedState=dr(n,d,a,l):(Yt.flags|=t,h.memoizedState=dr(1|n,d,a,l))}function pp(t,n){au(8390656,8,t,n)}function Ah(t,n){su(2048,8,t,n)}function g1(t){Yt.flags|=4;var n=Yt.updateQueue;if(n===null)n=eu(),Yt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function gp(t){var n=Ve().memoizedState;return g1({ref:n,nextImpl:t}),function(){if((ce&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function _p(t,n){return su(4,2,t,n)}function yp(t,n){return su(4,4,t,n)}function vp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function bp(t,n,a){a=a!=null?a.concat([t]):null,su(4,4,vp.bind(null,n,t),a)}function Ch(){}function Ep(t,n){var a=Ve();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&gh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function xp(t,n){var a=Ve();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&gh(n,l[1]))return l[0];if(l=t(),Ns){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,n],l}function Rh(t,n,a){return a===void 0||(Ji&1073741824)!==0&&(Jt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Tg(),Yt.lanes|=t,Oa|=t,a)}function Tp(t,n,a,l){return Mn(a,n)?a:cr.current!==null?(t=Rh(t,a,l),Mn(t,n)||(qe=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(Jt&261930)===0?(qe=!0,t.memoizedState=a):(t=Tg(),Yt.lanes|=t,Oa|=t,n)}function wp(t,n,a,l,h){var d=W.p;W.p=d!==0&&8>d?d:8;var y=$.T,z={};$.T=z,kh(t,!1,n,a);try{var Q=h(),nt=$.S;if(nt!==null&&nt(z,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ft=h1(Q,l);Tl(t,n,ft,Bn(t))}else Tl(t,n,l,Bn(t))}catch(yt){Tl(t,n,{then:function(){},status:"rejected",reason:yt},Bn())}finally{W.p=d,y!==null&&z.types!==null&&(y.types=z.types),$.T=y}}function _1(){}function Nh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Sp(t).queue;wp(t,h,n,xt,a===null?_1:function(){return Ap(t),a(l)})}function Sp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:xt,baseState:xt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:xt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ap(t){var n=Sp(t);n.next===null&&(n=t.alternate.memoizedState),Tl(t,n.next.queue,{},Bn())}function Dh(){return sn(Ll)}function Cp(){return Ve().memoizedState}function Rp(){return Ve().memoizedState}function y1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Bn();t=Ra(a);var l=Na(n,t,a);l!==null&&(Rn(l,n,a),yl(l,n,a)),n={cache:sh()},t.payload=n;return}n=n.return}}function v1(t,n,a){var l=Bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ru(t)?Dp(n,a):(a=Kc(t,n,a,l),a!==null&&(Rn(a,t,l),kp(a,n,l)))}function Np(t,n,a){var l=Bn();Tl(t,n,a,l)}function Tl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ru(t))Dp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,z=d(y,a);if(h.hasEagerState=!0,h.eagerState=z,Mn(z,y))return Lo(t,n,h,0),Ee===null&&Bo(),!1}catch{}finally{}if(a=Kc(t,n,h,l),a!==null)return Rn(a,t,l),kp(a,n,l),!0}return!1}function kh(t,n,a,l){if(l={lane:2,revertLane:cf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ru(t)){if(n)throw Error(s(479))}else n=Kc(t,a,l,2),n!==null&&Rn(n,t,2)}function ru(t){var n=t.alternate;return t===Yt||n!==null&&n===Yt}function Dp(t,n){hr=Wo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function kp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Gr(t,a)}}var wl={readContext:sn,use:nu,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};wl.useEffectEvent=Ie;var Ip={readContext:sn,use:nu,useCallback:function(t,n){return En().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:pp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,au(4194308,4,vp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return au(4194308,4,t,n)},useInsertionEffect:function(t,n){au(4,2,t,n)},useMemo:function(t,n){var a=En();n=n===void 0?null:n;var l=t();if(Ns){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=En();if(a!==void 0){var h=a(n);if(Ns){dn(!0);try{a(n)}finally{dn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=v1.bind(null,Yt,t),[l.memoizedState,t]},useRef:function(t){var n=En();return t={current:t},n.memoizedState=t},useState:function(t){t=wh(t);var n=t.queue,a=Np.bind(null,Yt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Ch,useDeferredValue:function(t,n){var a=En();return Rh(a,t,n)},useTransition:function(){var t=wh(!1);return t=wp.bind(null,Yt,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Yt,h=En();if(ee){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Ee===null)throw Error(s(349));(Jt&127)!==0||Wm(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,pp(ep.bind(null,l,d,t),[t]),l.flags|=2048,dr(9,{destroy:void 0},tp.bind(null,l,d,a,n),null),a},useId:function(){var t=En(),n=Ee.identifierPrefix;if(ee){var a=Ii,l=ki;a=(l&~(1<<32-oe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=tu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=f1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Dh,useFormState:cp,useActionState:cp,useOptimistic:function(t){var n=En();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=kh.bind(null,Yt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Eh,useCacheRefresh:function(){return En().memoizedState=y1.bind(null,Yt)},useEffectEvent:function(t){var n=En(),a={impl:t};return n.memoizedState=a,function(){if((ce&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ih={readContext:sn,use:nu,useCallback:Ep,useContext:sn,useEffect:Ah,useImperativeHandle:bp,useInsertionEffect:_p,useLayoutEffect:yp,useMemo:xp,useReducer:iu,useRef:mp,useState:function(){return iu($i)},useDebugValue:Ch,useDeferredValue:function(t,n){var a=Ve();return Tp(a,_e.memoizedState,t,n)},useTransition:function(){var t=iu($i)[0],n=Ve().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:$m,useId:Cp,useHostTransitionStatus:Dh,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var a=Ve();return ap(a,_e,t,n)},useMemoCache:Eh,useCacheRefresh:Rp};Ih.useEffectEvent=gp;var Mp={readContext:sn,use:nu,useCallback:Ep,useContext:sn,useEffect:Ah,useImperativeHandle:bp,useInsertionEffect:_p,useLayoutEffect:yp,useMemo:xp,useReducer:Th,useRef:mp,useState:function(){return Th($i)},useDebugValue:Ch,useDeferredValue:function(t,n){var a=Ve();return _e===null?Rh(a,t,n):Tp(a,_e.memoizedState,t,n)},useTransition:function(){var t=Th($i)[0],n=Ve().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:$m,useId:Cp,useHostTransitionStatus:Dh,useFormState:dp,useActionState:dp,useOptimistic:function(t,n){var a=Ve();return _e!==null?ap(a,_e,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Eh,useCacheRefresh:Rp};Mp.useEffectEvent=gp;function Mh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:v({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Oh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Bn(),h=Ra(l);h.payload=n,a!=null&&(h.callback=a),n=Na(t,h,l),n!==null&&(Rn(n,t,l),yl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Bn(),h=Ra(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Na(t,h,l),n!==null&&(Rn(n,t,l),yl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Bn(),l=Ra(a);l.tag=2,n!=null&&(l.callback=n),n=Na(t,l,a),n!==null&&(Rn(n,t,a),yl(n,t,a))}};function Op(t,n,a,l,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,y):n.prototype&&n.prototype.isPureReactComponent?!cl(a,l)||!cl(h,d):!0}function zp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Oh.enqueueReplaceState(n,n.state,null)}function Ds(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=v({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Vp(t){Uo(t)}function jp(t){console.error(t)}function Up(t){Uo(t)}function lu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Bp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zh(t,n,a){return a=Ra(a),a.tag=3,a.payload={element:null},a.callback=function(){lu(t,n)},a}function Lp(t){return t=Ra(t),t.tag=3,t}function Pp(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Bp(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Bp(n,a,l),typeof h!="function"&&(za===null?za=new Set([this]):za.add(this));var z=l.stack;this.componentDidCatch(l.value,{componentStack:z!==null?z:""})})}function b1(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&sr(n,a,h,!0),a=zn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?vu():a.alternate===null&&Me===0&&(Me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ko?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),lf(t,l,h)),!1;case 22:return a.flags|=65536,l===Ko?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),lf(t,l,h)),!1}throw Error(s(435,a.tag))}return lf(t,l,h),vu(),!1}if(ee)return n=zn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==th&&(t=Error(s(422),{cause:l}),dl(Yn(t,a)))):(l!==th&&(n=Error(s(423),{cause:l}),dl(Yn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Yn(l,a),h=zh(t.stateNode,l,h),hh(t,h),Me!==4&&(Me=2)),!1;var d=Error(s(520),{cause:l});if(d=Yn(d,a),Il===null?Il=[d]:Il.push(d),Me!==4&&(Me=2),n===null)return!0;l=Yn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=zh(a.stateNode,l,t),hh(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(za===null||!za.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Lp(h),Pp(h,t,a,l),hh(a,h),!1}a=a.return}while(a!==null);return!1}var Vh=Error(s(461)),qe=!1;function rn(t,n,a,l){n.child=t===null?Gm(n,null,a,l):Rs(n,t.child,a,l)}function Hp(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var y={};for(var z in l)z!=="ref"&&(y[z]=l[z])}else y=l;return ws(n),l=_h(t,n,a,y,d,h),z=yh(),t!==null&&!qe?(vh(t,n,h),Wi(t,n,h)):(ee&&z&&$c(n),n.flags|=1,rn(t,n,l,h),n.child)}function qp(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Xc(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Fp(t,n,d,l,h)):(t=Ho(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Fh(t,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(y,l)&&t.ref===n.ref)return Wi(t,n,h)}return n.flags|=1,t=Yi(d,l),t.ref=n.ref,t.return=n,n.child=t}function Fp(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(cl(d,l)&&t.ref===n.ref)if(qe=!1,n.pendingProps=l=d,Fh(t,h))(t.flags&131072)!==0&&(qe=!0);else return n.lanes=t.lanes,Wi(t,n,h)}return jh(t,n,a,l,h)}function Gp(t,n,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return Qp(t,n,d,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qo(n,d!==null?d.cachePool:null),d!==null?Km(n,d):dh(),Xm(n);else return l=n.lanes=536870912,Qp(t,n,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Qo(n,d.cachePool),Km(n,d),ka(),n.memoizedState=null):(t!==null&&Qo(n,null),dh(),ka());return rn(t,n,h,a),n.child}function Sl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qp(t,n,a,l,h){var d=lh();return d=d===null?null:{parent:Pe._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&Qo(n,null),dh(),Xm(n),t!==null&&sr(t,n,l,!0),n.childLanes=h,null}function ou(t,n){return n=cu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Yp(t,n,a){return Rs(n,t.child,null,a),t=ou(n,n.pendingProps),t.flags|=2,Vn(n),n.memoizedState=null,t}function E1(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ee){if(l.mode==="hidden")return t=ou(n,l),n.lanes=536870912,Sl(null,t);if(ph(n),(t=we)?(t=s_(t,Zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ta!==null?{id:ki,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=Dm(t),a.return=n,n.child=a,an=n,we=null)):t=null,t===null)throw Sa(n);return n.lanes=536870912,null}return ou(n,l)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(ph(n),h)if(n.flags&256)n.flags&=-257,n=Yp(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(qe||sr(t,n,a,!1),h=(a&t.childLanes)!==0,qe||h){if(l=Ee,l!==null&&(y=Qr(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,bs(t,y),Rn(l,t,y),Vh;vu(),n=Yp(t,n,a)}else t=d.treeContext,we=$n(y.nextSibling),an=n,ee=!0,wa=null,Zn=!1,t!==null&&Mm(n,t),n=ou(n,l),n.flags|=4096;return n}return t=Yi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function uu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function jh(t,n,a,l,h){return ws(n),a=_h(t,n,a,l,void 0,h),l=yh(),t!==null&&!qe?(vh(t,n,h),Wi(t,n,h)):(ee&&l&&$c(n),n.flags|=1,rn(t,n,a,h),n.child)}function Kp(t,n,a,l,h,d){return ws(n),n.updateQueue=null,a=Jm(n,l,a,h),Zm(t),l=yh(),t!==null&&!qe?(vh(t,n,d),Wi(t,n,d)):(ee&&l&&$c(n),n.flags|=1,rn(t,n,a,d),n.child)}function Xp(t,n,a,l,h){if(ws(n),n.stateNode===null){var d=er,y=a.contextType;typeof y=="object"&&y!==null&&(d=sn(y)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Oh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},uh(n),y=a.contextType,d.context=typeof y=="object"&&y!==null?sn(y):er,d.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Mh(n,a,y,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Oh.enqueueReplaceState(d,d.state,null),bl(n,l,d,h),vl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var z=n.memoizedProps,Q=Ds(a,z);d.props=Q;var nt=d.context,ft=a.contextType;y=er,typeof ft=="object"&&ft!==null&&(y=sn(ft));var yt=a.getDerivedStateFromProps;ft=typeof yt=="function"||typeof d.getSnapshotBeforeUpdate=="function",z=n.pendingProps!==z,ft||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(z||nt!==y)&&zp(n,d,l,y),Ca=!1;var at=n.memoizedState;d.state=at,bl(n,l,d,h),vl(),nt=n.memoizedState,z||at!==nt||Ca?(typeof yt=="function"&&(Mh(n,a,yt,l),nt=n.memoizedState),(Q=Ca||Op(n,a,Q,l,at,nt,y))?(ft||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=nt),d.props=l,d.state=nt,d.context=y,l=Q):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,ch(t,n),y=n.memoizedProps,ft=Ds(a,y),d.props=ft,yt=n.pendingProps,at=d.context,nt=a.contextType,Q=er,typeof nt=="object"&&nt!==null&&(Q=sn(nt)),z=a.getDerivedStateFromProps,(nt=typeof z=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==yt||at!==Q)&&zp(n,d,l,Q),Ca=!1,at=n.memoizedState,d.state=at,bl(n,l,d,h),vl();var ot=n.memoizedState;y!==yt||at!==ot||Ca||t!==null&&t.dependencies!==null&&Fo(t.dependencies)?(typeof z=="function"&&(Mh(n,a,z,l),ot=n.memoizedState),(ft=Ca||Op(n,a,ft,l,at,ot,Q)||t!==null&&t.dependencies!==null&&Fo(t.dependencies))?(nt||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,ot,Q),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,ot,Q)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&at===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&at===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=ot),d.props=l,d.state=ot,d.context=Q,l=ft):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&at===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&at===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,uu(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Rs(n,t.child,null,h),n.child=Rs(n,null,a,h)):rn(t,n,a,h),n.memoizedState=d.state,t=n.child):t=Wi(t,n,h),t}function Zp(t,n,a,l){return xs(),n.flags|=256,rn(t,n,a,l),n.child}var Uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bh(t){return{baseLanes:t,cachePool:Bm()}}function Lh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Un),t}function Jp(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(ze.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(ee){if(h?Da(n):ka(),(t=we)?(t=s_(t,Zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ta!==null?{id:ki,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=Dm(t),a.return=n,n.child=a,an=n,we=null)):t=null,t===null)throw Sa(n);return Tf(t)?n.lanes=32:n.lanes=536870912,null}var z=l.children;return l=l.fallback,h?(ka(),h=n.mode,z=cu({mode:"hidden",children:z},h),l=Es(l,h,a,null),z.return=n,l.return=n,z.sibling=l,n.child=z,l=n.child,l.memoizedState=Bh(a),l.childLanes=Lh(t,y,a),n.memoizedState=Uh,Sl(null,l)):(Da(n),Ph(n,z))}var Q=t.memoizedState;if(Q!==null&&(z=Q.dehydrated,z!==null)){if(d)n.flags&256?(Da(n),n.flags&=-257,n=Hh(t,n,a)):n.memoizedState!==null?(ka(),n.child=t.child,n.flags|=128,n=null):(ka(),z=l.fallback,h=n.mode,l=cu({mode:"visible",children:l.children},h),z=Es(z,h,a,null),z.flags|=2,l.return=n,z.return=n,l.sibling=z,n.child=l,Rs(n,t.child,null,a),l=n.child,l.memoizedState=Bh(a),l.childLanes=Lh(t,y,a),n.memoizedState=Uh,n=Sl(null,l));else if(Da(n),Tf(z)){if(y=z.nextSibling&&z.nextSibling.dataset,y)var nt=y.dgst;y=nt,l=Error(s(419)),l.stack="",l.digest=y,dl({value:l,source:null,stack:null}),n=Hh(t,n,a)}else if(qe||sr(t,n,a,!1),y=(a&t.childLanes)!==0,qe||y){if(y=Ee,y!==null&&(l=Qr(y,a),l!==0&&l!==Q.retryLane))throw Q.retryLane=l,bs(t,l),Rn(y,t,l),Vh;xf(z)||vu(),n=Hh(t,n,a)}else xf(z)?(n.flags|=192,n.child=t.child,n=null):(t=Q.treeContext,we=$n(z.nextSibling),an=n,ee=!0,wa=null,Zn=!1,t!==null&&Mm(n,t),n=Ph(n,l.children),n.flags|=4096);return n}return h?(ka(),z=l.fallback,h=n.mode,Q=t.child,nt=Q.sibling,l=Yi(Q,{mode:"hidden",children:l.children}),l.subtreeFlags=Q.subtreeFlags&65011712,nt!==null?z=Yi(nt,z):(z=Es(z,h,a,null),z.flags|=2),z.return=n,l.return=n,l.sibling=z,n.child=l,Sl(null,l),l=n.child,z=t.child.memoizedState,z===null?z=Bh(a):(h=z.cachePool,h!==null?(Q=Pe._currentValue,h=h.parent!==Q?{parent:Q,pool:Q}:h):h=Bm(),z={baseLanes:z.baseLanes|a,cachePool:h}),l.memoizedState=z,l.childLanes=Lh(t,y,a),n.memoizedState=Uh,Sl(t.child,l)):(Da(n),a=t.child,t=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Ph(t,n){return n=cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cu(t,n){return t=On(22,t,null,n),t.lanes=0,t}function Hh(t,n,a){return Rs(n,t.child,null,a),t=Ph(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $p(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ih(t.return,n,a)}function qh(t,n,a,l,h,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function Wp(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=ze.current,z=(y&2)!==0;if(z?(y=y&1|2,n.flags|=128):y&=1,ht(ze,y),rn(t,n,l,a),l=ee?fl:0,!z&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$p(t,a,n);else if(t.tag===19)$p(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&$o(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),qh(n,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&$o(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}qh(n,!0,a,null,d,l);break;case"together":qh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Wi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Oa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(sr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Yi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Yi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Fh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fo(t)))}function x1(t,n,a){switch(n.tag){case 3:Vt(n,n.stateNode.containerInfo),Aa(n,Pe,t.memoizedState.cache),xs();break;case 27:case 5:xe(n);break;case 4:Vt(n,n.stateNode.containerInfo);break;case 10:Aa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ph(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Da(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Jp(t,n,a):(Da(n),t=Wi(t,n,a),t!==null?t.sibling:null);Da(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(sr(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Wp(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ht(ze,ze.current),l)break;return null;case 22:return n.lanes=0,Gp(t,n,a,n.pendingProps);case 24:Aa(n,Pe,t.memoizedState.cache)}return Wi(t,n,a)}function tg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)qe=!0;else{if(!Fh(t,a)&&(n.flags&128)===0)return qe=!1,x1(t,n,a);qe=(t.flags&131072)!==0}else qe=!1,ee&&(n.flags&1048576)!==0&&Im(n,fl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=As(n.elementType),n.type=t,typeof t=="function")Xc(t)?(l=Ds(t,l),n.tag=1,n=Xp(null,n,t,l,a)):(n.tag=0,n=jh(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Y){n.tag=11,n=Hp(null,n,t,l,a);break t}else if(h===D){n.tag=14,n=qp(null,n,t,l,a);break t}}throw n=N(t)||t,Error(s(306,n,""))}}return n;case 0:return jh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ds(l,n.pendingProps),Xp(t,n,l,h,a);case 3:t:{if(Vt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,ch(t,n),bl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Aa(n,Pe,l),l!==d.cache&&ah(n,[Pe],a,!0),vl(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Zp(t,n,l,a);break t}else if(l!==h){h=Yn(Error(s(424)),n),dl(h),n=Zp(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(we=$n(t.firstChild),an=n,ee=!0,wa=null,Zn=!0,a=Gm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xs(),l===h){n=Wi(t,n,a);break t}rn(t,n,l,a)}n=n.child}return n;case 26:return uu(t,n),t===null?(a=h_(n.type,null,n.pendingProps,null))?n.memoizedState=a:ee||(a=n.type,t=n.pendingProps,l=Au(Dt.current).createElement(a),l[Ue]=n,l[Je]=t,ln(l,a,t),Be(l),n.stateNode=l):n.memoizedState=h_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xe(n),t===null&&ee&&(l=n.stateNode=o_(n.type,n.pendingProps,Dt.current),an=n,Zn=!0,h=we,Ba(n.type)?(wf=h,we=$n(l.firstChild)):we=h),rn(t,n,n.pendingProps.children,a),uu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ee&&((h=l=we)&&(l=$1(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,an=n,we=$n(l.firstChild),Zn=!1,h=!0):h=!1),h||Sa(n)),xe(n),h=n.type,d=n.pendingProps,y=t!==null?t.memoizedProps:null,l=d.children,vf(h,d)?l=null:y!==null&&vf(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=_h(t,n,d1,null,null,a),Ll._currentValue=h),uu(t,n),rn(t,n,l,a),n.child;case 6:return t===null&&ee&&((t=a=we)&&(a=W1(a,n.pendingProps,Zn),a!==null?(n.stateNode=a,an=n,we=null,t=!0):t=!1),t||Sa(n)),null;case 13:return Jp(t,n,a);case 4:return Vt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Rs(n,null,l,a):rn(t,n,l,a),n.child;case 11:return Hp(t,n,n.type,n.pendingProps,a);case 7:return rn(t,n,n.pendingProps,a),n.child;case 8:return rn(t,n,n.pendingProps.children,a),n.child;case 12:return rn(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Aa(n,n.type,l.value),rn(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ws(n),h=sn(h),l=l(h),n.flags|=1,rn(t,n,l,a),n.child;case 14:return qp(t,n,n.type,n.pendingProps,a);case 15:return Fp(t,n,n.type,n.pendingProps,a);case 19:return Wp(t,n,a);case 31:return E1(t,n,a);case 22:return Gp(t,n,a,n.pendingProps);case 24:return ws(n),l=sn(Pe),t===null?(h=lh(),h===null&&(h=Ee,d=sh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},uh(n),Aa(n,Pe,h)):((t.lanes&a)!==0&&(ch(t,n),bl(n,null,null,a),vl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Aa(n,Pe,l)):(l=d.cache,Aa(n,Pe,l),l!==h.cache&&ah(n,[Pe],a,!0))),rn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ta(t){t.flags|=4}function Gh(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Cg())t.flags|=8192;else throw Cs=Ko,oh}else t.flags&=-16777217}function eg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!g_(n))if(Cg())t.flags|=8192;else throw Cs=Ko,oh}function hu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?_o():536870912,t.lanes|=n,_r|=n)}function Al(t,n){if(!ee)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Se(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function T1(t,n,a){var l=n.pendingProps;switch(Wc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(n),null;case 1:return Se(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Zi(Pe),Ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ar(n)?ta(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,eh())),Se(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(ta(n),d!==null?(Se(n),eg(n,d)):(Se(n),Gh(n,h,null,l,a))):d?d!==t.memoizedState?(ta(n),Se(n),eg(n,d)):(Se(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ta(n),Se(n),Gh(n,h,t,l,a)),null;case 27:if(pe(n),a=Dt.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ta(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Se(n),null}t=ut.current,ar(n)?Om(n):(t=o_(h,l,a),n.stateNode=t,ta(n))}return Se(n),null;case 5:if(pe(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ta(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Se(n),null}if(d=ut.current,ar(n))Om(n);else{var y=Au(Dt.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[Ue]=n,d[Je]=l;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;t:switch(ln(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ta(n)}}return Se(n),Gh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ta(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Dt.current,ar(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ue]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Jg(t.nodeValue,a)),t||Sa(n,!0)}else t=Au(t).createTextNode(l),t[Ue]=n,n.stateNode=t}return Se(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ar(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ue]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Se(n),t=!1}else a=eh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Vn(n),n):(Vn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ar(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ue]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Se(n),h=!1}else h=eh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Vn(n),n):(Vn(n),null)}return Vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),hu(n,n.updateQueue),Se(n),null);case 4:return Ot(),t===null&&mf(n.stateNode.containerInfo),Se(n),null;case 10:return Zi(n.type),Se(n),null;case 19:if(q(ze),l=n.memoizedState,l===null)return Se(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Al(l,!1);else{if(Me!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=$o(t),d!==null){for(n.flags|=128,Al(l,!1),t=d.updateQueue,n.updateQueue=t,hu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Nm(a,t),a=a.sibling;return ht(ze,ze.current&1|2),ee&&Ki(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&At()>gu&&(n.flags|=128,h=!0,Al(l,!1),n.lanes=4194304)}else{if(!h)if(t=$o(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,hu(n,t),Al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ee)return Se(n),null}else 2*At()-l.renderingStartTime>gu&&a!==536870912&&(n.flags|=128,h=!0,Al(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=At(),t.sibling=null,a=ze.current,ht(ze,h?a&1|2:a&1),ee&&Ki(n,l.treeForkCount),t):(Se(n),null);case 22:case 23:return Vn(n),mh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Se(n),n.subtreeFlags&6&&(n.flags|=8192)):Se(n),a=n.updateQueue,a!==null&&hu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&q(Ss),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Zi(Pe),Se(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function w1(t,n){switch(Wc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Zi(Pe),Ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return pe(n),null;case 31:if(n.memoizedState!==null){if(Vn(n),n.alternate===null)throw Error(s(340));xs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return q(ze),null;case 4:return Ot(),null;case 10:return Zi(n.type),null;case 22:case 23:return Vn(n),mh(),t!==null&&q(Ss),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Zi(Pe),null;case 25:return null;default:return null}}function ng(t,n){switch(Wc(n),n.tag){case 3:Zi(Pe),Ot();break;case 26:case 27:case 5:pe(n);break;case 4:Ot();break;case 31:n.memoizedState!==null&&Vn(n);break;case 13:Vn(n);break;case 19:q(ze);break;case 10:Zi(n.type);break;case 22:case 23:Vn(n),mh(),t!==null&&q(Ss);break;case 24:Zi(Pe)}}function Cl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==h)}}catch(z){me(n,n.return,z)}}function Ia(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var y=l.inst,z=y.destroy;if(z!==void 0){y.destroy=void 0,h=n;var Q=a,nt=z;try{nt()}catch(ft){me(h,Q,ft)}}}l=l.next}while(l!==d)}}catch(ft){me(n,n.return,ft)}}function ig(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ym(n,a)}catch(l){me(t,t.return,l)}}}function ag(t,n,a){a.props=Ds(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){me(t,n,l)}}function Rl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){me(t,n,h)}}function Mi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){me(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){me(t,n,h)}else a.current=null}function sg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){me(t,t.return,h)}}function Qh(t,n,a){try{var l=t.stateNode;Q1(l,t.type,a,n),l[Je]=n}catch(h){me(t,t.return,h)}}function rg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ba(t.type)||t.tag===4}function Yh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||rg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ba(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ai));else if(l!==4&&(l===27&&Ba(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Kh(t,n,a),t=t.sibling;t!==null;)Kh(t,n,a),t=t.sibling}function fu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ba(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fu(t,n,a),t=t.sibling;t!==null;)fu(t,n,a),t=t.sibling}function lg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ln(n,l,a),n[Ue]=t,n[Je]=a}catch(d){me(t,t.return,d)}}var ea=!1,Fe=!1,Xh=!1,og=typeof WeakSet=="function"?WeakSet:Set,We=null;function S1(t,n){if(t=t.containerInfo,_f=Mu,t=bm(t),Hc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,z=-1,Q=-1,nt=0,ft=0,yt=t,at=null;e:for(;;){for(var ot;yt!==a||h!==0&&yt.nodeType!==3||(z=y+h),yt!==d||l!==0&&yt.nodeType!==3||(Q=y+l),yt.nodeType===3&&(y+=yt.nodeValue.length),(ot=yt.firstChild)!==null;)at=yt,yt=ot;for(;;){if(yt===t)break e;if(at===a&&++nt===h&&(z=y),at===d&&++ft===l&&(Q=y),(ot=yt.nextSibling)!==null)break;yt=at,at=yt.parentNode}yt=ot}a=z===-1||Q===-1?null:{start:z,end:Q}}else a=null}a=a||{start:0,end:0}}else a=null;for(yf={focusedElem:t,selectionRange:a},Mu=!1,We=n;We!==null;)if(n=We,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,We=t;else for(;We!==null;){switch(n=We,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Nt=Ds(a.type,h);t=l.getSnapshotBeforeUpdate(Nt,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Bt){me(a,a.return,Bt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ef(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ef(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,We=t;break}We=n.return}}function ug(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ia(t,a),l&4&&Cl(5,a);break;case 1:if(ia(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){me(a,a.return,y)}else{var h=Ds(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){me(a,a.return,y)}}l&64&&ig(a),l&512&&Rl(a,a.return);break;case 3:if(ia(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ym(t,n)}catch(y){me(a,a.return,y)}}break;case 27:n===null&&l&4&&lg(a);case 26:case 5:ia(t,a),n===null&&l&4&&sg(a),l&512&&Rl(a,a.return);break;case 12:ia(t,a);break;case 31:ia(t,a),l&4&&fg(t,a);break;case 13:ia(t,a),l&4&&dg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=O1.bind(null,a),t2(t,a))));break;case 22:if(l=a.memoizedState!==null||ea,!l){n=n!==null&&n.memoizedState!==null||Fe,h=ea;var d=Fe;ea=l,(Fe=n)&&!d?aa(t,a,(a.subtreeFlags&8772)!==0):ia(t,a),ea=h,Fe=d}break;case 30:break;default:ia(t,a)}}function cg(t){var n=t.alternate;n!==null&&(t.alternate=null,cg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ps(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ne=null,wn=!1;function na(t,n,a){for(a=a.child;a!==null;)hg(t,n,a),a=a.sibling}function hg(t,n,a){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:Fe||Mi(a,n),na(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||Mi(a,n);var l=Ne,h=wn;Ba(a.type)&&(Ne=a.stateNode,wn=!1),na(t,n,a),jl(a.stateNode),Ne=l,wn=h;break;case 5:Fe||Mi(a,n);case 6:if(l=Ne,h=wn,Ne=null,na(t,n,a),Ne=l,wn=h,Ne!==null)if(wn)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(a.stateNode)}catch(d){me(a,n,d)}else try{Ne.removeChild(a.stateNode)}catch(d){me(a,n,d)}break;case 18:Ne!==null&&(wn?(t=Ne,i_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Sr(t)):i_(Ne,a.stateNode));break;case 4:l=Ne,h=wn,Ne=a.stateNode.containerInfo,wn=!0,na(t,n,a),Ne=l,wn=h;break;case 0:case 11:case 14:case 15:Ia(2,a,n),Fe||Ia(4,a,n),na(t,n,a);break;case 1:Fe||(Mi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ag(a,n,l)),na(t,n,a);break;case 21:na(t,n,a);break;case 22:Fe=(l=Fe)||a.memoizedState!==null,na(t,n,a),Fe=l;break;default:na(t,n,a)}}function fg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Sr(t)}catch(a){me(n,n.return,a)}}}function dg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Sr(t)}catch(a){me(n,n.return,a)}}function A1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new og),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new og),n;default:throw Error(s(435,t.tag))}}function du(t,n){var a=A1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=z1.bind(null,t,l);l.then(h,h)}})}function Sn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,y=n,z=y;t:for(;z!==null;){switch(z.tag){case 27:if(Ba(z.type)){Ne=z.stateNode,wn=!1;break t}break;case 5:Ne=z.stateNode,wn=!1;break t;case 3:case 4:Ne=z.stateNode.containerInfo,wn=!0;break t}z=z.return}if(Ne===null)throw Error(s(160));hg(d,y,h),Ne=null,wn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)mg(n,t),n=n.sibling}var ci=null;function mg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(n,t),An(t),l&4&&(Ia(3,t,t.return),Cl(3,t),Ia(5,t,t.return));break;case 1:Sn(n,t),An(t),l&512&&(Fe||a===null||Mi(a,a.return)),l&64&&ea&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ci;if(Sn(n,t),An(t),l&512&&(Fe||a===null||Mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[vi]||d[Ue]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ln(d,l,a),d[Ue]=t,Be(d),l=d;break t;case"link":var y=m_("link","href",h).get(l+(a.href||""));if(y){for(var z=0;z<y.length;z++)if(d=y[z],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(z,1);break e}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;case"meta":if(y=m_("meta","content",h).get(l+(a.content||""))){for(z=0;z<y.length;z++)if(d=y[z],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(z,1);break e}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ue]=t,Be(d),l=d}t.stateNode=l}else p_(h,t.type,t.stateNode);else t.stateNode=d_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?p_(h,t.type,t.stateNode):d_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qh(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sn(n,t),An(t),l&512&&(Fe||a===null||Mi(a,a.return)),a!==null&&l&4&&Qh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sn(n,t),An(t),l&512&&(Fe||a===null||Mi(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(Nt){me(t,t.return,Nt)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Qh(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Xh=!0);break;case 6:if(Sn(n,t),An(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Nt){me(t,t.return,Nt)}}break;case 3:if(Nu=null,h=ci,ci=Cu(n.containerInfo),Sn(n,t),ci=h,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Sr(n.containerInfo)}catch(Nt){me(t,t.return,Nt)}Xh&&(Xh=!1,pg(t));break;case 4:l=ci,ci=Cu(t.stateNode.containerInfo),Sn(n,t),An(t),ci=l;break;case 12:Sn(n,t),An(t);break;case 31:Sn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,du(t,l)));break;case 13:Sn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pu=At()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,du(t,l)));break;case 22:h=t.memoizedState!==null;var Q=a!==null&&a.memoizedState!==null,nt=ea,ft=Fe;if(ea=nt||h,Fe=ft||Q,Sn(n,t),Fe=ft,ea=nt,An(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||Q||ea||Fe||ks(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){Q=a=n;try{if(d=Q.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{z=Q.stateNode;var yt=Q.memoizedProps.style,at=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;z.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(Nt){me(Q,Q.return,Nt)}}}else if(n.tag===6){if(a===null){Q=n;try{Q.stateNode.nodeValue=h?"":Q.memoizedProps}catch(Nt){me(Q,Q.return,Nt)}}}else if(n.tag===18){if(a===null){Q=n;try{var ot=Q.stateNode;h?a_(ot,!0):a_(Q.stateNode,!1)}catch(Nt){me(Q,Q.return,Nt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,du(t,a))));break;case 19:Sn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,du(t,l)));break;case 30:break;case 21:break;default:Sn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(rg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Yh(t);fu(t,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(Tn(y,""),a.flags&=-33);var z=Yh(t);fu(t,z,y);break;case 3:case 4:var Q=a.stateNode.containerInfo,nt=Yh(t);Kh(t,nt,Q);break;default:throw Error(s(161))}}catch(ft){me(t,t.return,ft)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function pg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;pg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ia(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ug(t,n.alternate,n),n=n.sibling}function ks(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ia(4,n,n.return),ks(n);break;case 1:Mi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ag(n,n.return,a),ks(n);break;case 27:jl(n.stateNode);case 26:case 5:Mi(n,n.return),ks(n);break;case 22:n.memoizedState===null&&ks(n);break;case 30:ks(n);break;default:ks(n)}t=t.sibling}}function aa(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:aa(h,d,a),Cl(4,d);break;case 1:if(aa(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(nt){me(l,l.return,nt)}if(l=d,h=l.updateQueue,h!==null){var z=l.stateNode;try{var Q=h.shared.hiddenCallbacks;if(Q!==null)for(h.shared.hiddenCallbacks=null,h=0;h<Q.length;h++)Qm(Q[h],z)}catch(nt){me(l,l.return,nt)}}a&&y&64&&ig(d),Rl(d,d.return);break;case 27:lg(d);case 26:case 5:aa(h,d,a),a&&l===null&&y&4&&sg(d),Rl(d,d.return);break;case 12:aa(h,d,a);break;case 31:aa(h,d,a),a&&y&4&&fg(h,d);break;case 13:aa(h,d,a),a&&y&4&&dg(h,d);break;case 22:d.memoizedState===null&&aa(h,d,a),Rl(d,d.return);break;case 30:break;default:aa(h,d,a)}n=n.sibling}}function Zh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function Jh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t))}function hi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gg(t,n,a,l),n=n.sibling}function gg(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,a,l),h&2048&&Cl(9,n);break;case 1:hi(t,n,a,l);break;case 3:hi(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t)));break;case 12:if(h&2048){hi(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,y=d.id,z=d.onPostCommit;typeof z=="function"&&z(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Q){me(n,n.return,Q)}}else hi(t,n,a,l);break;case 31:hi(t,n,a,l);break;case 13:hi(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?hi(t,n,a,l):Nl(t,n):d._visibility&2?hi(t,n,a,l):(d._visibility|=2,mr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zh(y,n);break;case 24:hi(t,n,a,l),h&2048&&Jh(n.alternate,n);break;default:hi(t,n,a,l)}}function mr(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,y=n,z=a,Q=l,nt=y.flags;switch(y.tag){case 0:case 11:case 15:mr(d,y,z,Q,h),Cl(8,y);break;case 23:break;case 22:var ft=y.stateNode;y.memoizedState!==null?ft._visibility&2?mr(d,y,z,Q,h):Nl(d,y):(ft._visibility|=2,mr(d,y,z,Q,h)),h&&nt&2048&&Zh(y.alternate,y);break;case 24:mr(d,y,z,Q,h),h&&nt&2048&&Jh(y.alternate,y);break;default:mr(d,y,z,Q,h)}n=n.sibling}}function Nl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Nl(a,l),h&2048&&Zh(l.alternate,l);break;case 24:Nl(a,l),h&2048&&Jh(l.alternate,l);break;default:Nl(a,l)}n=n.sibling}}var Dl=8192;function pr(t,n,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)_g(t,n,a),t=t.sibling}function _g(t,n,a){switch(t.tag){case 26:pr(t,n,a),t.flags&Dl&&t.memoizedState!==null&&f2(a,ci,t.memoizedState,t.memoizedProps);break;case 5:pr(t,n,a);break;case 3:case 4:var l=ci;ci=Cu(t.stateNode.containerInfo),pr(t,n,a),ci=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,pr(t,n,a),Dl=l):pr(t,n,a));break;default:pr(t,n,a)}}function yg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function kl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];We=l,bg(l,t)}yg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vg(t),t=t.sibling}function vg(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&Ia(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mu(t)):kl(t);break;default:kl(t)}}function mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];We=l,bg(l,t)}yg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ia(8,n,n.return),mu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,mu(n));break;default:mu(n)}t=t.sibling}}function bg(t,n){for(;We!==null;){var a=We;switch(a.tag){case 0:case 11:case 15:Ia(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,We=l;else t:for(a=t;We!==null;){l=We;var h=l.sibling,d=l.return;if(cg(l),l===a){We=null;break t}if(h!==null){h.return=d,We=h;break t}We=d}}}var C1={getCacheForType:function(t){var n=sn(Pe),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return sn(Pe).controller.signal}},R1=typeof WeakMap=="function"?WeakMap:Map,ce=0,Ee=null,Xt=null,Jt=0,de=0,jn=null,Ma=!1,gr=!1,$h=!1,sa=0,Me=0,Oa=0,Is=0,Wh=0,Un=0,_r=0,Il=null,Cn=null,tf=!1,pu=0,Eg=0,gu=1/0,_u=null,za=null,Ye=0,Va=null,yr=null,ra=0,ef=0,nf=null,xg=null,Ml=0,af=null;function Bn(){return(ce&2)!==0&&Jt!==0?Jt&-Jt:$.T!==null?cf():yo()}function Tg(){if(Un===0)if((Jt&536870912)===0||ee){var t=pi;pi<<=1,(pi&3932160)===0&&(pi=262144),Un=t}else Un=536870912;return t=zn.current,t!==null&&(t.flags|=32),Un}function Rn(t,n,a){(t===Ee&&(de===2||de===9)||t.cancelPendingCommit!==null)&&(vr(t,0),ja(t,Jt,Un,!1)),rs(t,a),((ce&2)===0||t!==Ee)&&(t===Ee&&((ce&2)===0&&(Is|=a),Me===4&&ja(t,Jt,Un,!1)),Oi(t))}function wg(t,n,a){if((ce&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||ei(t,n),h=l?k1(t,n):rf(t,n,!0),d=l;do{if(h===0){gr&&!l&&ja(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!N1(a)){h=rf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var z=t;h=Il;var Q=z.current.memoizedState.isDehydrated;if(Q&&(vr(z,y).flags|=256),y=rf(z,y,!1),y!==2){if($h&&!Q){z.errorRecoveryDisabledLanes|=d,Is|=d,h=4;break t}d=Cn,Cn=h,d!==null&&(Cn===null?Cn=d:Cn.push.apply(Cn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){vr(t,0),ja(t,n,0,!0);break}t:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ja(l,n,Un,!Ma);break t;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=pu+300-At(),10<h)){if(ja(l,n,Un,!Ma),gi(l,0,!0)!==0)break t;ra=n,l.timeoutHandle=e_(Sg.bind(null,l,a,Cn,_u,tf,n,Un,Is,_r,Ma,d,"Throttled",-0,0),h);break t}Sg(l,a,Cn,_u,tf,n,Un,Is,_r,Ma,d,null,-0,0)}}break}while(!0);Oi(t)}function Sg(t,n,a,l,h,d,y,z,Q,nt,ft,yt,at,ot){if(t.timeoutHandle=-1,yt=n.subtreeFlags,yt&8192||(yt&16785408)===16785408){yt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},_g(n,d,yt);var Nt=(d&62914560)===d?pu-At():(d&4194048)===d?Eg-At():0;if(Nt=d2(yt,Nt),Nt!==null){ra=d,t.cancelPendingCommit=Nt(Mg.bind(null,t,n,d,a,l,h,y,z,Q,ft,yt,null,at,ot)),ja(t,d,y,!nt);return}}Mg(t,n,d,a,l,h,y,z,Q)}function N1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Mn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ja(t,n,a,l){n&=~Wh,n&=~Is,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-oe(h),y=1<<d;l[d]=-1,h&=~y}a!==0&&ls(t,a,n)}function yu(){return(ce&6)===0?(Ol(0),!1):!0}function sf(){if(Xt!==null){if(de===0)var t=Xt.return;else t=Xt,Xi=Ts=null,bh(t),ur=null,gl=0,t=Xt;for(;t!==null;)ng(t.alternate,t),t=t.return;Xt=null}}function vr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,X1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ra=0,sf(),Ee=t,Xt=a=Yi(t.current,null),Jt=n,de=0,jn=null,Ma=!1,gr=ei(t,n),$h=!1,_r=Un=Wh=Is=Oa=Me=0,Cn=Il=null,tf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-oe(l),d=1<<h;n|=t[h],l&=~d}return sa=n,Bo(),a}function Ag(t,n){Yt=null,$.H=wl,n===or||n===Yo?(n=Hm(),de=3):n===oh?(n=Hm(),de=4):de=n===Vh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jn=n,Xt===null&&(Me=1,lu(t,Yn(n,t.current)))}function Cg(){var t=zn.current;return t===null?!0:(Jt&4194048)===Jt?Jn===null:(Jt&62914560)===Jt||(Jt&536870912)!==0?t===Jn:!1}function Rg(){var t=$.H;return $.H=wl,t===null?wl:t}function Ng(){var t=$.A;return $.A=C1,t}function vu(){Me=4,Ma||(Jt&4194048)!==Jt&&zn.current!==null||(gr=!0),(Oa&134217727)===0&&(Is&134217727)===0||Ee===null||ja(Ee,Jt,Un,!1)}function rf(t,n,a){var l=ce;ce|=2;var h=Rg(),d=Ng();(Ee!==t||Jt!==n)&&(_u=null,vr(t,n)),n=!1;var y=Me;t:do try{if(de!==0&&Xt!==null){var z=Xt,Q=jn;switch(de){case 8:sf(),y=6;break t;case 3:case 2:case 9:case 6:zn.current===null&&(n=!0);var nt=de;if(de=0,jn=null,br(t,z,Q,nt),a&&gr){y=0;break t}break;default:nt=de,de=0,jn=null,br(t,z,Q,nt)}}D1(),y=Me;break}catch(ft){Ag(t,ft)}while(!0);return n&&t.shellSuspendCounter++,Xi=Ts=null,ce=l,$.H=h,$.A=d,Xt===null&&(Ee=null,Jt=0,Bo()),y}function D1(){for(;Xt!==null;)Dg(Xt)}function k1(t,n){var a=ce;ce|=2;var l=Rg(),h=Ng();Ee!==t||Jt!==n?(_u=null,gu=At()+500,vr(t,n)):gr=ei(t,n);t:do try{if(de!==0&&Xt!==null){n=Xt;var d=jn;e:switch(de){case 1:de=0,jn=null,br(t,n,d,1);break;case 2:case 9:if(Lm(d)){de=0,jn=null,kg(n);break}n=function(){de!==2&&de!==9||Ee!==t||(de=7),Oi(t)},d.then(n,n);break t;case 3:de=7;break t;case 4:de=5;break t;case 7:Lm(d)?(de=0,jn=null,kg(n)):(de=0,jn=null,br(t,n,d,7));break;case 5:var y=null;switch(Xt.tag){case 26:y=Xt.memoizedState;case 5:case 27:var z=Xt;if(y?g_(y):z.stateNode.complete){de=0,jn=null;var Q=z.sibling;if(Q!==null)Xt=Q;else{var nt=z.return;nt!==null?(Xt=nt,bu(nt)):Xt=null}break e}}de=0,jn=null,br(t,n,d,5);break;case 6:de=0,jn=null,br(t,n,d,6);break;case 8:sf(),Me=6;break t;default:throw Error(s(462))}}I1();break}catch(ft){Ag(t,ft)}while(!0);return Xi=Ts=null,$.H=l,$.A=h,ce=a,Xt!==null?0:(Ee=null,Jt=0,Bo(),Me)}function I1(){for(;Xt!==null&&!it();)Dg(Xt)}function Dg(t){var n=tg(t.alternate,t,sa);t.memoizedProps=t.pendingProps,n===null?bu(t):Xt=n}function kg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Kp(a,n,n.pendingProps,n.type,void 0,Jt);break;case 11:n=Kp(a,n,n.pendingProps,n.type.render,n.ref,Jt);break;case 5:bh(n);default:ng(a,n),n=Xt=Nm(n,sa),n=tg(a,n,sa)}t.memoizedProps=t.pendingProps,n===null?bu(t):Xt=n}function br(t,n,a,l){Xi=Ts=null,bh(n),ur=null,gl=0;var h=n.return;try{if(b1(t,h,n,a,Jt)){Me=1,lu(t,Yn(a,t.current)),Xt=null;return}}catch(d){if(h!==null)throw Xt=h,d;Me=1,lu(t,Yn(a,t.current)),Xt=null;return}n.flags&32768?(ee||l===1?t=!0:gr||(Jt&536870912)!==0?t=!1:(Ma=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ig(n,t)):bu(n)}function bu(t){var n=t;do{if((n.flags&32768)!==0){Ig(n,Ma);return}t=n.return;var a=T1(n.alternate,n,sa);if(a!==null){Xt=a;return}if(n=n.sibling,n!==null){Xt=n;return}Xt=n=t}while(n!==null);Me===0&&(Me=5)}function Ig(t,n){do{var a=w1(t.alternate,t);if(a!==null){a.flags&=32767,Xt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Xt=t;return}Xt=t=a}while(t!==null);Me=6,Xt=null}function Mg(t,n,a,l,h,d,y,z,Q){t.cancelPendingCommit=null;do Eu();while(Ye!==0);if((ce&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Yc,Uc(t,a,d,y,z,Q),t===Ee&&(Xt=Ee=null,Jt=0),yr=n,Va=t,ra=a,ef=d,nf=h,xg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,V1(Gt,function(){return Ug(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=W.p,W.p=2,y=ce,ce|=4;try{S1(t,n,a)}finally{ce=y,W.p=h,$.T=l}}Ye=1,Og(),zg(),Vg()}}function Og(){if(Ye===1){Ye=0;var t=Va,n=yr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=W.p;W.p=2;var h=ce;ce|=4;try{mg(n,t);var d=yf,y=bm(t.containerInfo),z=d.focusedElem,Q=d.selectionRange;if(y!==z&&z&&z.ownerDocument&&vm(z.ownerDocument.documentElement,z)){if(Q!==null&&Hc(z)){var nt=Q.start,ft=Q.end;if(ft===void 0&&(ft=nt),"selectionStart"in z)z.selectionStart=nt,z.selectionEnd=Math.min(ft,z.value.length);else{var yt=z.ownerDocument||document,at=yt&&yt.defaultView||window;if(at.getSelection){var ot=at.getSelection(),Nt=z.textContent.length,Bt=Math.min(Q.start,Nt),ve=Q.end===void 0?Bt:Math.min(Q.end,Nt);!ot.extend&&Bt>ve&&(y=ve,ve=Bt,Bt=y);var J=ym(z,Bt),X=ym(z,ve);if(J&&X&&(ot.rangeCount!==1||ot.anchorNode!==J.node||ot.anchorOffset!==J.offset||ot.focusNode!==X.node||ot.focusOffset!==X.offset)){var et=yt.createRange();et.setStart(J.node,J.offset),ot.removeAllRanges(),Bt>ve?(ot.addRange(et),ot.extend(X.node,X.offset)):(et.setEnd(X.node,X.offset),ot.addRange(et))}}}}for(yt=[],ot=z;ot=ot.parentNode;)ot.nodeType===1&&yt.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<yt.length;z++){var _t=yt[z];_t.element.scrollLeft=_t.left,_t.element.scrollTop=_t.top}}Mu=!!_f,yf=_f=null}finally{ce=h,W.p=l,$.T=a}}t.current=n,Ye=2}}function zg(){if(Ye===2){Ye=0;var t=Va,n=yr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=W.p;W.p=2;var h=ce;ce|=4;try{ug(t,n.alternate,n)}finally{ce=h,W.p=l,$.T=a}}Ye=3}}function Vg(){if(Ye===4||Ye===3){Ye=0,Tt();var t=Va,n=yr,a=ra,l=xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ye=5:(Ye=0,yr=Va=null,jg(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(za=null),qi(a),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=$.T,h=W.p,W.p=2,$.T=null;try{for(var d=t.onRecoverableError,y=0;y<l.length;y++){var z=l[y];d(z.value,{componentStack:z.stack})}}finally{$.T=n,W.p=h}}(ra&3)!==0&&Eu(),Oi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===af?Ml++:(Ml=0,af=t):Ml=0,Ol(0)}}function jg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ml(n)))}function Eu(){return Og(),zg(),Vg(),Ug()}function Ug(){if(Ye!==5)return!1;var t=Va,n=ef;ef=0;var a=qi(ra),l=$.T,h=W.p;try{W.p=32>a?32:a,$.T=null,a=nf,nf=null;var d=Va,y=ra;if(Ye=0,yr=Va=null,ra=0,(ce&6)!==0)throw Error(s(331));var z=ce;if(ce|=4,vg(d.current),gg(d,d.current,y,a),ce=z,Ol(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(ae,d)}catch{}return!0}finally{W.p=h,$.T=l,jg(t,n)}}function Bg(t,n,a){n=Yn(a,n),n=zh(t.stateNode,n,2),t=Na(t,n,2),t!==null&&(rs(t,2),Oi(t))}function me(t,n,a){if(t.tag===3)Bg(t,t,a);else for(;n!==null;){if(n.tag===3){Bg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(za===null||!za.has(l))){t=Yn(a,t),a=Lp(2),l=Na(n,a,2),l!==null&&(Pp(a,l,n,t),rs(l,2),Oi(l));break}}n=n.return}}function lf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new R1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||($h=!0,h.add(a),t=M1.bind(null,t,n,a),n.then(t,t))}function M1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ee===t&&(Jt&a)===a&&(Me===4||Me===3&&(Jt&62914560)===Jt&&300>At()-pu?(ce&2)===0&&vr(t,0):Wh|=a,_r===Jt&&(_r=0)),Oi(t)}function Lg(t,n){n===0&&(n=_o()),t=bs(t,n),t!==null&&(rs(t,n),Oi(t))}function O1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Lg(t,a)}function z1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Lg(t,a)}function V1(t,n){return mt(t,n)}var xu=null,Er=null,of=!1,Tu=!1,uf=!1,Ua=0;function Oi(t){t!==Er&&t.next===null&&(Er===null?xu=Er=t:Er=Er.next=t),Tu=!0,of||(of=!0,U1())}function Ol(t,n){if(!uf&&Tu){uf=!0;do for(var a=!1,l=xu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,z=l.pingedLanes;d=(1<<31-oe(42|t)+1)-1,d&=h&~(y&~z),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Fg(l,d))}else d=Jt,d=gi(l,l===Ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ei(l,d)||(a=!0,Fg(l,d));l=l.next}while(a);uf=!1}}function j1(){Pg()}function Pg(){Tu=of=!1;var t=0;Ua!==0&&K1()&&(t=Ua);for(var n=At(),a=null,l=xu;l!==null;){var h=l.next,d=Hg(l,n);d===0?(l.next=null,a===null?xu=h:a.next=h,h===null&&(Er=a)):(a=l,(t!==0||(d&3)!==0)&&(Tu=!0)),l=h}Ye!==0&&Ye!==5||Ol(t),Ua!==0&&(Ua=0)}function Hg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-oe(d),z=1<<y,Q=h[y];Q===-1?((z&a)===0||(z&l)!==0)&&(h[y]=jc(z,n)):Q<=n&&(t.expiredLanes|=z),d&=~z}if(n=Ee,a=Jt,a=gi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(de===2||de===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&bt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ei(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&bt(l),qi(a)){case 2:case 8:a=se;break;case 32:a=Gt;break;case 268435456:a=di;break;default:a=Gt}return l=qg.bind(null,t),a=mt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&bt(l),t.callbackPriority=2,t.callbackNode=null,2}function qg(t,n){if(Ye!==0&&Ye!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Eu()&&t.callbackNode!==a)return null;var l=Jt;return l=gi(t,t===Ee?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(wg(t,l,n),Hg(t,At()),t.callbackNode!=null&&t.callbackNode===a?qg.bind(null,t):null)}function Fg(t,n){if(Eu())return null;wg(t,n,!0)}function U1(){Z1(function(){(ce&6)!==0?mt(Mt,j1):Pg()})}function cf(){if(Ua===0){var t=rr;t===0&&(t=Pn,Pn<<=1,(Pn&261888)===0&&(Pn=256)),Ua=t}return Ua}function Gg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gs(""+t)}function Qg(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function B1(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=Gg((h[Je]||null).action),y=l.submitter;y&&(n=(n=y[Je]||null)?Gg(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var z=new Ci("action","action",null,l,h);t.push({event:z,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ua!==0){var Q=y?Qg(h,y):new FormData(h);Nh(a,{pending:!0,data:Q,method:h.method,action:d},null,Q)}}else typeof d=="function"&&(z.preventDefault(),Q=y?Qg(h,y):new FormData(h),Nh(a,{pending:!0,data:Q,method:h.method,action:d},d,Q))},currentTarget:h}]})}}for(var hf=0;hf<Qc.length;hf++){var ff=Qc[hf],L1=ff.toLowerCase(),P1=ff[0].toUpperCase()+ff.slice(1);ui(L1,"on"+P1)}ui(Tm,"onAnimationEnd"),ui(wm,"onAnimationIteration"),ui(Sm,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(i1,"onTransitionRun"),ui(a1,"onTransitionStart"),ui(s1,"onTransitionCancel"),ui(Am,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Yg(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var y=l.length-1;0<=y;y--){var z=l[y],Q=z.instance,nt=z.currentTarget;if(z=z.listener,Q!==d&&h.isPropagationStopped())break t;d=z,h.currentTarget=nt;try{d(h)}catch(ft){Uo(ft)}h.currentTarget=null,d=Q}else for(y=0;y<l.length;y++){if(z=l[y],Q=z.instance,nt=z.currentTarget,z=z.listener,Q!==d&&h.isPropagationStopped())break t;d=z,h.currentTarget=nt;try{d(h)}catch(ft){Uo(ft)}h.currentTarget=null,d=Q}}}}function Zt(t,n){var a=n[Ls];a===void 0&&(a=n[Ls]=new Set);var l=t+"__bubble";a.has(l)||(Kg(n,t,2,!1),a.add(l))}function df(t,n,a){var l=0;n&&(l|=4),Kg(a,t,l,n)}var wu="_reactListening"+Math.random().toString(36).slice(2);function mf(t){if(!t[wu]){t[wu]=!0,Yr.forEach(function(a){a!=="selectionchange"&&(H1.has(a)||df(a,!1,t),df(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wu]||(n[wu]=!0,df("selectionchange",!1,n))}}function Kg(t,n,a,l){switch(T_(n)){case 2:var h=g2;break;case 8:h=_2;break;default:h=Nf}a=h.bind(null,n,a,t),h=void 0,!fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function pf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var z=l.stateNode.containerInfo;if(z===h)break;if(y===4)for(y=l.return;y!==null;){var Q=y.tag;if((Q===3||Q===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;z!==null;){if(y=bi(z),y===null)return;if(Q=y.tag,Q===5||Q===6||Q===26||Q===27){l=d=y;continue t}z=z.parentNode}}l=l.return}va(function(){var nt=d,ft=qn(a),yt=[];t:{var at=Cm.get(t);if(at!==void 0){var ot=Ci,Nt=t;switch(t){case"keypress":if(ms(a)===0)break t;case"keydown":case"keyup":ot=zo;break;case"focusin":Nt="focus",ot=gs;break;case"focusout":Nt="blur",ot=gs;break;case"beforeblur":case"afterblur":ot=gs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Ao;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=_;break;case Tm:case wm:case Sm:ot=Ro;break;case Am:ot=B;break;case"scroll":case"scrollend":ot=sl;break;case"wheel":ot=rt;break;case"copy":case"cut":case"paste":ot=No;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=Qi;break;case"toggle":case"beforetoggle":ot=Qt}var Bt=(n&4)!==0,ve=!Bt&&(t==="scroll"||t==="scrollend"),J=Bt?at!==null?at+"Capture":null:at;Bt=[];for(var X=nt,et;X!==null;){var _t=X;if(et=_t.stateNode,_t=_t.tag,_t!==5&&_t!==26&&_t!==27||et===null||J===null||(_t=si(X,J),_t!=null&&Bt.push(Vl(X,_t,et))),ve)break;X=X.return}0<Bt.length&&(at=new ot(at,Nt,null,a,ft),yt.push({event:at,listeners:Bt}))}}if((n&7)===0){t:{if(at=t==="mouseover"||t==="pointerover",ot=t==="mouseout"||t==="pointerout",at&&a!==nl&&(Nt=a.relatedTarget||a.fromElement)&&(bi(Nt)||Nt[yi]))break t;if((ot||at)&&(at=ft.window===ft?ft:(at=ft.ownerDocument)?at.defaultView||at.parentWindow:window,ot?(Nt=a.relatedTarget||a.toElement,ot=nt,Nt=Nt?bi(Nt):null,Nt!==null&&(ve=u(Nt),Bt=Nt.tag,Nt!==ve||Bt!==5&&Bt!==27&&Bt!==6)&&(Nt=null)):(ot=null,Nt=nt),ot!==Nt)){if(Bt=rl,_t="onMouseLeave",J="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(Bt=Qi,_t="onPointerLeave",J="onPointerEnter",X="pointer"),ve=ot==null?at:kn(ot),et=Nt==null?at:kn(Nt),at=new Bt(_t,X+"leave",ot,a,ft),at.target=ve,at.relatedTarget=et,_t=null,bi(ft)===nt&&(Bt=new Bt(J,X+"enter",Nt,a,ft),Bt.target=et,Bt.relatedTarget=ve,_t=Bt),ve=_t,ot&&Nt)e:{for(Bt=q1,J=ot,X=Nt,et=0,_t=J;_t;_t=Bt(_t))et++;_t=0;for(var zt=X;zt;zt=Bt(zt))_t++;for(;0<et-_t;)J=Bt(J),et--;for(;0<_t-et;)X=Bt(X),_t--;for(;et--;){if(J===X||X!==null&&J===X.alternate){Bt=J;break e}J=Bt(J),X=Bt(X)}Bt=null}else Bt=null;ot!==null&&Xg(yt,at,ot,Bt,!1),Nt!==null&&ve!==null&&Xg(yt,ve,Nt,Bt,!0)}}t:{if(at=nt?kn(nt):window,ot=at.nodeName&&at.nodeName.toLowerCase(),ot==="select"||ot==="input"&&at.type==="file")var re=fm;else if(cm(at))if(dm)re=t1;else{re=$v;var It=Jv}else ot=at.nodeName,!ot||ot.toLowerCase()!=="input"||at.type!=="checkbox"&&at.type!=="radio"?nt&&Fs(nt.elementType)&&(re=fm):re=Wv;if(re&&(re=re(t,nt))){hm(yt,re,a,ft);break t}It&&It(t,at,nt),t==="focusout"&&nt&&at.type==="number"&&nt.memoizedProps.value!=null&&Wr(at,"number",at.value)}switch(It=nt?kn(nt):window,t){case"focusin":(cm(It)||It.contentEditable==="true")&&($s=It,qc=nt,hl=null);break;case"focusout":hl=qc=$s=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,Em(yt,a,ft);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":Em(yt,a,ft)}var Kt;if(ue)t:{switch(t){case"compositionstart":var $t="onCompositionStart";break t;case"compositionend":$t="onCompositionEnd";break t;case"compositionupdate":$t="onCompositionUpdate";break t}$t=void 0}else Js?_s(t,a)&&($t="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&($t="onCompositionStart");$t&&(Di&&a.locale!=="ko"&&(Js||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Js&&(Kt=al()):(Ai=ft,il="value"in Ai?Ai.value:Ai.textContent,Js=!0)),It=Su(nt,$t),0<It.length&&($t=new Ni($t,t,null,a,ft),yt.push({event:$t,listeners:It}),Kt?$t.data=Kt:(Kt=Zs(a),Kt!==null&&($t.data=Kt)))),(Kt=Gn?Yv(t,a):Kv(t,a))&&($t=Su(nt,"onBeforeInput"),0<$t.length&&(It=new Ni("onBeforeInput","beforeinput",null,a,ft),yt.push({event:It,listeners:$t}),It.data=Kt)),B1(yt,t,nt,a,ft)}Yg(yt,n)})}function Vl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Su(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=si(t,a),h!=null&&l.unshift(Vl(t,h,d)),h=si(t,n),h!=null&&l.push(Vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function q1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xg(t,n,a,l,h){for(var d=n._reactName,y=[];a!==null&&a!==l;){var z=a,Q=z.alternate,nt=z.stateNode;if(z=z.tag,Q!==null&&Q===l)break;z!==5&&z!==26&&z!==27||nt===null||(Q=nt,h?(nt=si(a,d),nt!=null&&y.unshift(Vl(a,nt,Q))):h||(nt=si(a,d),nt!=null&&y.push(Vl(a,nt,Q)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var F1=/\r\n?/g,G1=/\u0000|\uFFFD/g;function Zg(t){return(typeof t=="string"?t:""+t).replace(F1,`
`).replace(G1,"")}function Jg(t,n){return n=Zg(n),Zg(t)===n}function ye(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Tn(t,""+l);break;case"className":In(t,"class",l);break;case"tabIndex":In(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,a,l);break;case"style":el(t,l,d);break;case"data":if(n!=="object"){In(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Gs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&ye(t,n,"name",h.name,h,null),ye(t,n,"formEncType",h.formEncType,h,null),ye(t,n,"formMethod",h.formMethod,h,null),ye(t,n,"formTarget",h.formTarget,h,null)):(ye(t,n,"encType",h.encType,h,null),ye(t,n,"method",h.method,h,null),ye(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Gs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ai);break;case"onScroll":l!=null&&Zt("scroll",t);break;case"onScrollEnd":l!=null&&Zt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Gs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Zt("beforetoggle",t),Zt("toggle",t),Hs(t,"popover",l);break;case"xlinkActuate":Le(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=So.get(a)||a,Hs(t,a,l))}}function gf(t,n,a,l,h,d){switch(a){case"style":el(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Zt("scroll",t);break;case"onScrollEnd":l!=null&&Zt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[Je]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Hs(t,a,l)}}}function ln(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",t),Zt("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ye(t,n,d,y,a,null)}}h&&ye(t,n,"srcSet",a.srcSet,a,null),l&&ye(t,n,"src",a.src,a,null);return;case"input":Zt("invalid",t);var z=d=y=h=null,Q=null,nt=null;for(l in a)if(a.hasOwnProperty(l)){var ft=a[l];if(ft!=null)switch(l){case"name":h=ft;break;case"type":y=ft;break;case"checked":Q=ft;break;case"defaultChecked":nt=ft;break;case"value":d=ft;break;case"defaultValue":z=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(s(137,n));break;default:ye(t,n,l,ft,a,null)}}xo(t,d,z,Q,nt,y,h,!1);return;case"select":Zt("invalid",t),l=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(z=a[h],z!=null))switch(h){case"value":d=z;break;case"defaultValue":y=z;break;case"multiple":l=z;default:ye(t,n,h,z,a,null)}n=d,a=y,t.multiple=!!l,n!=null?pa(t,!!l,n,!1):a!=null&&pa(t,!!l,a,!0);return;case"textarea":Zt("invalid",t),d=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(z=a[y],z!=null))switch(y){case"value":l=z;break;case"defaultValue":h=z;break;case"children":d=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(91));break;default:ye(t,n,y,z,a,null)}ga(t,l,h,d);return;case"option":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ye(t,n,Q,l,a,null)}return;case"dialog":Zt("beforetoggle",t),Zt("toggle",t),Zt("cancel",t),Zt("close",t);break;case"iframe":case"object":Zt("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)Zt(zl[l],t);break;case"image":Zt("error",t),Zt("load",t);break;case"details":Zt("toggle",t);break;case"embed":case"source":case"link":Zt("error",t),Zt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in a)if(a.hasOwnProperty(nt)&&(l=a[nt],l!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ye(t,n,nt,l,a,null)}return;default:if(Fs(n)){for(ft in a)a.hasOwnProperty(ft)&&(l=a[ft],l!==void 0&&gf(t,n,ft,l,a,void 0));return}}for(z in a)a.hasOwnProperty(z)&&(l=a[z],l!=null&&ye(t,n,z,l,a,null))}function Q1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,z=null,Q=null,nt=null,ft=null;for(ot in a){var yt=a[ot];if(a.hasOwnProperty(ot)&&yt!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":Q=yt;default:l.hasOwnProperty(ot)||ye(t,n,ot,null,l,yt)}}for(var at in l){var ot=l[at];if(yt=a[at],l.hasOwnProperty(at)&&(ot!=null||yt!=null))switch(at){case"type":d=ot;break;case"name":h=ot;break;case"checked":nt=ot;break;case"defaultChecked":ft=ot;break;case"value":y=ot;break;case"defaultValue":z=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(s(137,n));break;default:ot!==yt&&ye(t,n,at,ot,l,yt)}}qs(t,y,z,Q,nt,ft,d,h);return;case"select":ot=y=z=at=null;for(d in a)if(Q=a[d],a.hasOwnProperty(d)&&Q!=null)switch(d){case"value":break;case"multiple":ot=Q;default:l.hasOwnProperty(d)||ye(t,n,d,null,l,Q)}for(h in l)if(d=l[h],Q=a[h],l.hasOwnProperty(h)&&(d!=null||Q!=null))switch(h){case"value":at=d;break;case"defaultValue":z=d;break;case"multiple":y=d;default:d!==Q&&ye(t,n,h,d,l,Q)}n=z,a=y,l=ot,at!=null?pa(t,!!a,at,!1):!!l!=!!a&&(n!=null?pa(t,!!a,n,!0):pa(t,!!a,a?[]:"",!1));return;case"textarea":ot=at=null;for(z in a)if(h=a[z],a.hasOwnProperty(z)&&h!=null&&!l.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:ye(t,n,z,null,l,h)}for(y in l)if(h=l[y],d=a[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":at=h;break;case"defaultValue":ot=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ye(t,n,y,h,l,d)}To(t,at,ot);return;case"option":for(var Nt in a)if(at=a[Nt],a.hasOwnProperty(Nt)&&at!=null&&!l.hasOwnProperty(Nt))switch(Nt){case"selected":t.selected=!1;break;default:ye(t,n,Nt,null,l,at)}for(Q in l)if(at=l[Q],ot=a[Q],l.hasOwnProperty(Q)&&at!==ot&&(at!=null||ot!=null))switch(Q){case"selected":t.selected=at&&typeof at!="function"&&typeof at!="symbol";break;default:ye(t,n,Q,at,l,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in a)at=a[Bt],a.hasOwnProperty(Bt)&&at!=null&&!l.hasOwnProperty(Bt)&&ye(t,n,Bt,null,l,at);for(nt in l)if(at=l[nt],ot=a[nt],l.hasOwnProperty(nt)&&at!==ot&&(at!=null||ot!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(s(137,n));break;default:ye(t,n,nt,at,l,ot)}return;default:if(Fs(n)){for(var ve in a)at=a[ve],a.hasOwnProperty(ve)&&at!==void 0&&!l.hasOwnProperty(ve)&&gf(t,n,ve,void 0,l,at);for(ft in l)at=l[ft],ot=a[ft],!l.hasOwnProperty(ft)||at===ot||at===void 0&&ot===void 0||gf(t,n,ft,at,l,ot);return}}for(var J in a)at=a[J],a.hasOwnProperty(J)&&at!=null&&!l.hasOwnProperty(J)&&ye(t,n,J,null,l,at);for(yt in l)at=l[yt],ot=a[yt],!l.hasOwnProperty(yt)||at===ot||at==null&&ot==null||ye(t,n,yt,at,l,ot)}function $g(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,y=h.initiatorType,z=h.duration;if(d&&z&&$g(y)){for(y=0,z=h.responseEnd,l+=1;l<a.length;l++){var Q=a[l],nt=Q.startTime;if(nt>z)break;var ft=Q.transferSize,yt=Q.initiatorType;ft&&$g(yt)&&(Q=Q.responseEnd,y+=ft*(Q<z?1:(z-nt)/(Q-nt)))}if(--l,n+=8*(d+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _f=null,yf=null;function Au(t){return t.nodeType===9?t:t.ownerDocument}function Wg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bf=null;function K1(){var t=window.event;return t&&t.type==="popstate"?t===bf?!1:(bf=t,!0):(bf=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,X1=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(t){return n_.resolve(null).then(t).catch(J1)}:e_;function J1(t){setTimeout(function(){throw t})}function Ba(t){return t==="head"}function i_(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Sr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")jl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,jl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,z=d.nodeName;d[vi]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&jl(t.ownerDocument.body);a=h}while(a);Sr(n)}function a_(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ef(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ef(a),Ps(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function $1(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function W1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function s_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$n(t.nextSibling),t===null))return null;return t}function xf(t){return t.data==="$?"||t.data==="$~"}function Tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function t2(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var wf=null;function r_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return $n(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function l_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function o_(t,n,a){switch(n=Au(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ps(t)}var Wn=new Map,u_=new Set;function Cu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var la=W.d;W.d={f:e2,r:n2,D:i2,C:a2,L:s2,m:r2,X:o2,S:l2,M:u2};function e2(){var t=la.f(),n=yu();return t||n}function n2(t){var n=Hn(t);n!==null&&n.tag===5&&n.type==="form"?Ap(n):la.r(t)}var xr=typeof document>"u"?null:document;function c_(t,n,a){var l=xr;if(l&&typeof n=="string"&&n){var h=xn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),u_.has(h)||(u_.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ln(n,"link",t),Be(n),l.head.appendChild(n)))}}function i2(t){la.D(t),c_("dns-prefetch",t,null)}function a2(t,n){la.C(t,n),c_("preconnect",t,n)}function s2(t,n,a){la.L(t,n,a);var l=xr;if(l&&t&&n){var h='link[rel="preload"][as="'+xn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+xn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+xn(a.imageSizes)+'"]')):h+='[href="'+xn(t)+'"]';var d=h;switch(n){case"style":d=Tr(t);break;case"script":d=wr(t)}Wn.has(d)||(t=v({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Wn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ul(d))||n==="script"&&l.querySelector(Bl(d))||(n=l.createElement("link"),ln(n,"link",t),Be(n),l.head.appendChild(n)))}}function r2(t,n){la.m(t,n);var a=xr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+xn(l)+'"][href="'+xn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=wr(t)}if(!Wn.has(d)&&(t=v({rel:"modulepreload",href:t},n),Wn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(d)))return}l=a.createElement("link"),ln(l,"link",t),Be(l),a.head.appendChild(l)}}}function l2(t,n,a){la.S(t,n,a);var l=xr;if(l&&t){var h=Ei(l).hoistableStyles,d=Tr(t);n=n||"default";var y=h.get(d);if(!y){var z={loading:0,preload:null};if(y=l.querySelector(Ul(d)))z.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Wn.get(d))&&Sf(t,a);var Q=y=l.createElement("link");Be(Q),ln(Q,"link",t),Q._p=new Promise(function(nt,ft){Q.onload=nt,Q.onerror=ft}),Q.addEventListener("load",function(){z.loading|=1}),Q.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Ru(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:z},h.set(d,y)}}}function o2(t,n){la.X(t,n);var a=xr;if(a&&t){var l=Ei(a).hoistableScripts,h=wr(t),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(t=v({src:t,async:!0},n),(n=Wn.get(h))&&Af(t,n),d=a.createElement("script"),Be(d),ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function u2(t,n){la.M(t,n);var a=xr;if(a&&t){var l=Ei(a).hoistableScripts,h=wr(t),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(t=v({src:t,async:!0,type:"module"},n),(n=Wn.get(h))&&Af(t,n),d=a.createElement("script"),Be(d),ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function h_(t,n,a,l){var h=(h=Dt.current)?Cu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Tr(a.href),a=Ei(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Tr(a.href);var d=Ei(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(Ul(t)))&&!d._p&&(y.instance=d,y.state.loading=5),Wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(t,a),d||c2(h,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=wr(a),a=Ei(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Tr(t){return'href="'+xn(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function f_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function c2(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ln(n,"link",a),Be(n),t.head.appendChild(n))}function wr(t){return'[src="'+xn(t)+'"]'}function Bl(t){return"script[async]"+t}function d_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+xn(a.href)+'"]');if(l)return n.instance=l,Be(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Be(l),ln(l,"style",h),Ru(l,a.precedence,t),n.instance=l;case"stylesheet":h=Tr(a.href);var d=t.querySelector(Ul(h));if(d)return n.state.loading|=4,n.instance=d,Be(d),d;l=f_(a),(h=Wn.get(h))&&Sf(l,h),d=(t.ownerDocument||t).createElement("link"),Be(d);var y=d;return y._p=new Promise(function(z,Q){y.onload=z,y.onerror=Q}),ln(d,"link",l),n.state.loading|=4,Ru(d,a.precedence,t),n.instance=d;case"script":return d=wr(a.src),(h=t.querySelector(Bl(d)))?(n.instance=h,Be(h),h):(l=a,(h=Wn.get(d))&&(l=v({},a),Af(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Be(h),ln(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ru(l,a.precedence,t));return n.instance}function Ru(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var z=l[y];if(z.dataset.precedence===n)d=z;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Nu=null;function m_(t,n,a){if(Nu===null){var l=new Map,h=Nu=new Map;h.set(a,l)}else h=Nu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[vi]||d[Ue]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=t+y;var z=l.get(y);z?z.push(d):l.set(y,[d])}}return l}function p_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function h2(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function g_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function f2(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Tr(l.href),d=n.querySelector(Ul(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Du.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,Be(d);return}d=n.ownerDocument||n,l=f_(l),(h=Wn.get(h))&&Sf(l,h),d=d.createElement("link"),Be(d);var y=d;y._p=new Promise(function(z,Q){y.onload=z,y.onerror=Q}),ln(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Du.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Cf=0;function d2(t,n){return t.stylesheets&&t.count===0&&Iu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Iu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Cf===0&&(Cf=62500*Y1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Iu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Cf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Du(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function Iu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,n.forEach(m2,t),ku=null,Du.call(t))}function m2(t,n){if(!(n.state.loading&4)){var a=ku.get(t);if(a)var l=a.get(null);else{a=new Map,ku.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,h),a.set(y,h),this.count++,l=Du.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:L,Provider:null,Consumer:null,_currentValue:xt,_currentValue2:xt,_threadCount:0};function p2(t,n,a,l,h,d,y,z,Q){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function __(t,n,a,l,h,d,y,z,Q,nt,ft,yt){return t=new p2(t,n,a,y,Q,nt,ft,yt,z),n=1,d===!0&&(n|=24),d=On(3,null,null,n),t.current=d,d.stateNode=t,n=sh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},uh(d),t}function y_(t){return t?(t=er,t):er}function v_(t,n,a,l,h,d){h=y_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ra(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Na(t,l,n),a!==null&&(Rn(a,t,n),yl(a,t,n))}function b_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Rf(t,n){b_(t,n),(t=t.alternate)&&b_(t,n)}function E_(t){if(t.tag===13||t.tag===31){var n=bs(t,67108864);n!==null&&Rn(n,t,67108864),Rf(t,67108864)}}function x_(t){if(t.tag===13||t.tag===31){var n=Bn();n=os(n);var a=bs(t,n);a!==null&&Rn(a,t,n),Rf(t,n)}}var Mu=!0;function g2(t,n,a,l){var h=$.T;$.T=null;var d=W.p;try{W.p=2,Nf(t,n,a,l)}finally{W.p=d,$.T=h}}function _2(t,n,a,l){var h=$.T;$.T=null;var d=W.p;try{W.p=8,Nf(t,n,a,l)}finally{W.p=d,$.T=h}}function Nf(t,n,a,l){if(Mu){var h=Df(l);if(h===null)pf(t,n,l,Ou,a),w_(t,l);else if(v2(h,t,n,a,l))l.stopPropagation();else if(w_(t,l),n&4&&-1<y2.indexOf(t)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=vn(d.pendingLanes);if(y!==0){var z=d;for(z.pendingLanes|=2,z.entangledLanes|=2;y;){var Q=1<<31-oe(y);z.entanglements[1]|=Q,y&=~Q}Oi(d),(ce&6)===0&&(gu=At()+500,Ol(0))}}break;case 31:case 13:z=bs(d,2),z!==null&&Rn(z,d,2),yu(),Rf(d,2)}if(d=Df(l),d===null&&pf(t,n,l,Ou,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else pf(t,n,l,null,a)}}function Df(t){return t=qn(t),kf(t)}var Ou=null;function kf(t){if(Ou=null,t=bi(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===31){if(t=m(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ou=t,null}function T_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case Mt:return 2;case se:return 8;case Gt:case fn:return 32;case di:return 268435456;default:return 32}default:return 32}}var If=!1,La=null,Pa=null,Ha=null,Pl=new Map,Hl=new Map,qa=[],y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(t,n){switch(t){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(n.pointerId)}}function ql(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Hn(n),n!==null&&E_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function v2(t,n,a,l,h){switch(n){case"focusin":return La=ql(La,t,n,a,l,h),!0;case"dragenter":return Pa=ql(Pa,t,n,a,l,h),!0;case"mouseover":return Ha=ql(Ha,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Pl.set(d,ql(Pl.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Hl.set(d,ql(Hl.get(d)||null,t,n,a,l,h)),!0}return!1}function S_(t){var n=bi(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,ni(t.priority,function(){x_(a)});return}}else if(n===31){if(n=m(a),n!==null){t.blockedOn=n,ni(t.priority,function(){x_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Df(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);nl=l,a.target.dispatchEvent(l),nl=null}else return n=Hn(a),n!==null&&E_(n),t.blockedOn=a,!1;n.shift()}return!0}function A_(t,n,a){zu(t)&&a.delete(n)}function b2(){If=!1,La!==null&&zu(La)&&(La=null),Pa!==null&&zu(Pa)&&(Pa=null),Ha!==null&&zu(Ha)&&(Ha=null),Pl.forEach(A_),Hl.forEach(A_)}function Vu(t,n){t.blockedOn===n&&(t.blockedOn=null,If||(If=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,b2)))}var ju=null;function C_(t){ju!==t&&(ju=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ju===t&&(ju=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(kf(l||a)===null)continue;break}var d=Hn(a);d!==null&&(t.splice(n,3),n-=3,Nh(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Sr(t){function n(Q){return Vu(Q,t)}La!==null&&Vu(La,t),Pa!==null&&Vu(Pa,t),Ha!==null&&Vu(Ha,t),Pl.forEach(n),Hl.forEach(n);for(var a=0;a<qa.length;a++){var l=qa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qa.length&&(a=qa[0],a.blockedOn===null);)S_(a),a.blockedOn===null&&qa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],y=h[Je]||null;if(typeof d=="function")y||C_(a);else if(y){var z=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Je]||null)z=y.formAction;else if(kf(h)!==null)continue}else z=y.action;typeof z=="function"?a[l+1]=z:(a.splice(l,3),l-=3),C_(a)}}}function R_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Mf(t){this._internalRoot=t}Uu.prototype.render=Mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Bn();v_(a,l,t,n,null,null)},Uu.prototype.unmount=Mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;v_(t.current,2,null,t,null,null),yu(),n[yi]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var n=yo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<qa.length&&n!==0&&n<qa[a].priority;a++);qa.splice(a,0,t),a===0&&S_(t)}};var N_=e.version;if(N_!=="19.2.1")throw Error(s(527,N_,"19.2.1"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var E2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{ae=Bu.inject(E2),ke=Bu}catch{}}return Gl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=Vp,d=jp,y=Up;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=__(t,1,!1,null,null,a,l,null,h,d,y,R_),t[yi]=n.current,mf(t),new Mf(n)},Gl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Vp,y=jp,z=Up,Q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(z=a.onRecoverableError),a.formState!==void 0&&(Q=a.formState)),n=__(t,1,!0,n,a??null,l,h,Q,d,y,z,R_),n.context=y_(null),a=n.current,l=Bn(),l=os(l),h=Ra(l),h.callback=null,Na(a,h,l),a=l,n.current.lanes=a,rs(n,a),Oi(n),t[yi]=n.current,mf(t),new Uu(n)},Gl.version="19.2.1",Gl}var B_;function I2(){if(B_)return Vf.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vf.exports=k2(),Vf.exports}var M2=I2();function Pu(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Lf={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var L_;function O2(){return L_||(L_=1,(function(r,e){(function(i){r.exports=i()})(function(){return(function i(s,o,u){function f(g,b){if(!o[g]){if(!s[g]){var v=typeof Pu=="function"&&Pu;if(!b&&v)return v(g,!0);if(m)return m(g,!0);var A=new Error("Cannot find module '"+g+"'");throw A.code="MODULE_NOT_FOUND",A}var x=o[g]={exports:{}};s[g][0].call(x.exports,function(V){var E=s[g][1][V];return f(E||V)},x,x.exports,i,s,o,u)}return o[g].exports}for(var m=typeof Pu=="function"&&Pu,p=0;p<u.length;p++)f(u[p]);return f})({1:[function(i,s,o){var u=i("./utils"),f=i("./support"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(p){for(var g,b,v,A,x,V,E,S=[],R=0,U=p.length,L=U,Y=u.getTypeOf(p)!=="string";R<p.length;)L=U-R,v=Y?(g=p[R++],b=R<U?p[R++]:0,R<U?p[R++]:0):(g=p.charCodeAt(R++),b=R<U?p.charCodeAt(R++):0,R<U?p.charCodeAt(R++):0),A=g>>2,x=(3&g)<<4|b>>4,V=1<L?(15&b)<<2|v>>6:64,E=2<L?63&v:64,S.push(m.charAt(A)+m.charAt(x)+m.charAt(V)+m.charAt(E));return S.join("")},o.decode=function(p){var g,b,v,A,x,V,E=0,S=0,R="data:";if(p.substr(0,R.length)===R)throw new Error("Invalid base64 input, it looks like a data url.");var U,L=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===m.charAt(64)&&L--,p.charAt(p.length-2)===m.charAt(64)&&L--,L%1!=0)throw new Error("Invalid base64 input, bad content length.");for(U=f.uint8array?new Uint8Array(0|L):new Array(0|L);E<p.length;)g=m.indexOf(p.charAt(E++))<<2|(A=m.indexOf(p.charAt(E++)))>>4,b=(15&A)<<4|(x=m.indexOf(p.charAt(E++)))>>2,v=(3&x)<<6|(V=m.indexOf(p.charAt(E++))),U[S++]=g,x!==64&&(U[S++]=b),V!==64&&(U[S++]=v);return U}},{"./support":30,"./utils":32}],2:[function(i,s,o){var u=i("./external"),f=i("./stream/DataWorker"),m=i("./stream/Crc32Probe"),p=i("./stream/DataLengthProbe");function g(b,v,A,x,V){this.compressedSize=b,this.uncompressedSize=v,this.crc32=A,this.compression=x,this.compressedContent=V}g.prototype={getContentWorker:function(){var b=new f(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),v=this;return b.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new f(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(b,v,A){return b.pipe(new m).pipe(new p("uncompressedSize")).pipe(v.compressWorker(A)).pipe(new p("compressedSize")).withStreamInfo("compression",v)},s.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,s,o){var u=i("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},o.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,s,o){var u=i("./utils"),f=(function(){for(var m,p=[],g=0;g<256;g++){m=g;for(var b=0;b<8;b++)m=1&m?3988292384^m>>>1:m>>>1;p[g]=m}return p})();s.exports=function(m,p){return m!==void 0&&m.length?u.getTypeOf(m)!=="string"?(function(g,b,v,A){var x=f,V=A+v;g^=-1;for(var E=A;E<V;E++)g=g>>>8^x[255&(g^b[E])];return-1^g})(0|p,m,m.length,0):(function(g,b,v,A){var x=f,V=A+v;g^=-1;for(var E=A;E<V;E++)g=g>>>8^x[255&(g^b.charCodeAt(E))];return-1^g})(0|p,m,m.length,0):0}},{"./utils":32}],5:[function(i,s,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(i,s,o){var u=null;u=typeof Promise<"u"?Promise:i("lie"),s.exports={Promise:u}},{lie:37}],7:[function(i,s,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=i("pako"),m=i("./utils"),p=i("./stream/GenericWorker"),g=u?"uint8array":"array";function b(v,A){p.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=A,this.meta={}}o.magic="\b\0",m.inherits(b,p),b.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(m.transformTo(g,v.data),!1)},b.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(A){v.push({data:A,meta:v.meta})}},o.compressWorker=function(v){return new b("Deflate",v)},o.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,s,o){function u(x,V){var E,S="";for(E=0;E<V;E++)S+=String.fromCharCode(255&x),x>>>=8;return S}function f(x,V,E,S,R,U){var L,Y,K=x.file,st=x.compression,D=U!==g.utf8encode,O=m.transformTo("string",U(K.name)),I=m.transformTo("string",g.utf8encode(K.name)),P=K.comment,F=m.transformTo("string",U(P)),k=m.transformTo("string",g.utf8encode(P)),M=I.length!==K.name.length,N=k.length!==P.length,ct="",$="",W="",xt=K.dir,pt=K.date,Ct={crc32:0,compressedSize:0,uncompressedSize:0};V&&!E||(Ct.crc32=x.crc32,Ct.compressedSize=x.compressedSize,Ct.uncompressedSize=x.uncompressedSize);var j=0;V&&(j|=8),D||!M&&!N||(j|=2048);var q=0,ht=0;xt&&(q|=16),R==="UNIX"?(ht=798,q|=(function(dt,Dt){var Ut=dt;return dt||(Ut=Dt?16893:33204),(65535&Ut)<<16})(K.unixPermissions,xt)):(ht=20,q|=(function(dt){return 63&(dt||0)})(K.dosPermissions)),L=pt.getUTCHours(),L<<=6,L|=pt.getUTCMinutes(),L<<=5,L|=pt.getUTCSeconds()/2,Y=pt.getUTCFullYear()-1980,Y<<=4,Y|=pt.getUTCMonth()+1,Y<<=5,Y|=pt.getUTCDate(),M&&($=u(1,1)+u(b(O),4)+I,ct+="up"+u($.length,2)+$),N&&(W=u(1,1)+u(b(F),4)+k,ct+="uc"+u(W.length,2)+W);var ut="";return ut+=`
\0`,ut+=u(j,2),ut+=st.magic,ut+=u(L,2),ut+=u(Y,2),ut+=u(Ct.crc32,4),ut+=u(Ct.compressedSize,4),ut+=u(Ct.uncompressedSize,4),ut+=u(O.length,2),ut+=u(ct.length,2),{fileRecord:v.LOCAL_FILE_HEADER+ut+O+ct,dirRecord:v.CENTRAL_FILE_HEADER+u(ht,2)+ut+u(F.length,2)+"\0\0\0\0"+u(q,4)+u(S,4)+O+ct+F}}var m=i("../utils"),p=i("../stream/GenericWorker"),g=i("../utf8"),b=i("../crc32"),v=i("../signature");function A(x,V,E,S){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=V,this.zipPlatform=E,this.encodeFileName=S,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}m.inherits(A,p),A.prototype.push=function(x){var V=x.meta.percent||0,E=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,p.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:E?(V+100*(E-S-1))/E:100}}))},A.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var V=this.streamFiles&&!x.file.dir;if(V){var E=f(x,V,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:E.fileRecord,meta:{percent:0}})}else this.accumulate=!0},A.prototype.closedSource=function(x){this.accumulate=!1;var V=this.streamFiles&&!x.file.dir,E=f(x,V,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(E.dirRecord),V)this.push({data:(function(S){return v.DATA_DESCRIPTOR+u(S.crc32,4)+u(S.compressedSize,4)+u(S.uncompressedSize,4)})(x),meta:{percent:100}});else for(this.push({data:E.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},A.prototype.flush=function(){for(var x=this.bytesWritten,V=0;V<this.dirRecords.length;V++)this.push({data:this.dirRecords[V],meta:{percent:100}});var E=this.bytesWritten-x,S=(function(R,U,L,Y,K){var st=m.transformTo("string",K(Y));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(R,2)+u(R,2)+u(U,4)+u(L,4)+u(st.length,2)+st})(this.dirRecords.length,E,x,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},A.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},A.prototype.registerPrevious=function(x){this._sources.push(x);var V=this;return x.on("data",function(E){V.processChunk(E)}),x.on("end",function(){V.closedSource(V.previous.streamInfo),V._sources.length?V.prepareNextSource():V.end()}),x.on("error",function(E){V.error(E)}),this},A.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},A.prototype.error=function(x){var V=this._sources;if(!p.prototype.error.call(this,x))return!1;for(var E=0;E<V.length;E++)try{V[E].error(x)}catch{}return!0},A.prototype.lock=function(){p.prototype.lock.call(this);for(var x=this._sources,V=0;V<x.length;V++)x[V].lock()},s.exports=A},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,s,o){var u=i("../compressions"),f=i("./ZipFileWorker");o.generateWorker=function(m,p,g){var b=new f(p.streamFiles,g,p.platform,p.encodeFileName),v=0;try{m.forEach(function(A,x){v++;var V=(function(U,L){var Y=U||L,K=u[Y];if(!K)throw new Error(Y+" is not a valid compression method !");return K})(x.options.compression,p.compression),E=x.options.compressionOptions||p.compressionOptions||{},S=x.dir,R=x.date;x._compressWorker(V,E).withStreamInfo("file",{name:A,dir:S,date:R,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(b)}),b.entriesCount=v}catch(A){b.error(A)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,s,o){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new u;for(var m in this)typeof this[m]!="function"&&(f[m]=this[m]);return f}}(u.prototype=i("./object")).loadAsync=i("./load"),u.support=i("./support"),u.defaults=i("./defaults"),u.version="3.10.1",u.loadAsync=function(f,m){return new u().loadAsync(f,m)},u.external=i("./external"),s.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,s,o){var u=i("./utils"),f=i("./external"),m=i("./utf8"),p=i("./zipEntries"),g=i("./stream/Crc32Probe"),b=i("./nodejsUtils");function v(A){return new f.Promise(function(x,V){var E=A.decompressed.getContentWorker().pipe(new g);E.on("error",function(S){V(S)}).on("end",function(){E.streamInfo.crc32!==A.decompressed.crc32?V(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}s.exports=function(A,x){var V=this;return x=u.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:m.utf8decode}),b.isNode&&b.isStream(A)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",A,!0,x.optimizedBinaryString,x.base64).then(function(E){var S=new p(x);return S.load(E),S}).then(function(E){var S=[f.Promise.resolve(E)],R=E.files;if(x.checkCRC32)for(var U=0;U<R.length;U++)S.push(v(R[U]));return f.Promise.all(S)}).then(function(E){for(var S=E.shift(),R=S.files,U=0;U<R.length;U++){var L=R[U],Y=L.fileNameStr,K=u.resolve(L.fileNameStr);V.file(K,L.decompressed,{binary:!0,optimizedBinaryString:!0,date:L.date,dir:L.dir,comment:L.fileCommentStr.length?L.fileCommentStr:null,unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions,createFolders:x.createFolders}),L.dir||(V.file(K).unsafeOriginalName=Y)}return S.zipComment.length&&(V.comment=S.zipComment),V})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,s,o){var u=i("../utils"),f=i("../stream/GenericWorker");function m(p,g){f.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(g)}u.inherits(m,f),m.prototype._bindStream=function(p){var g=this;(this._stream=p).pause(),p.on("data",function(b){g.push({data:b,meta:{percent:0}})}).on("error",function(b){g.isPaused?this.generatedError=b:g.error(b)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},m.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},m.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=m},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,s,o){var u=i("readable-stream").Readable;function f(m,p,g){u.call(this,p),this._helper=m;var b=this;m.on("data",function(v,A){b.push(v)||b._helper.pause(),g&&g(A)}).on("error",function(v){b.emit("error",v)}).on("end",function(){b.push(null)})}i("../utils").inherits(f,u),f.prototype._read=function(){this._helper.resume()},s.exports=f},{"../utils":32,"readable-stream":16}],14:[function(i,s,o){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,f);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,f)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var f=new Buffer(u);return f.fill(0),f},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(i,s,o){function u(K,st,D){var O,I=m.getTypeOf(st),P=m.extend(D||{},b);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(K=R(K)),P.createFolders&&(O=S(K))&&U.call(this,O,!0);var F=I==="string"&&P.binary===!1&&P.base64===!1;D&&D.binary!==void 0||(P.binary=!F),(st instanceof v&&st.uncompressedSize===0||P.dir||!st||st.length===0)&&(P.base64=!1,P.binary=!0,st="",P.compression="STORE",I="string");var k=null;k=st instanceof v||st instanceof p?st:V.isNode&&V.isStream(st)?new E(K,st):m.prepareContent(K,st,P.binary,P.optimizedBinaryString,P.base64);var M=new A(K,k,P);this.files[K]=M}var f=i("./utf8"),m=i("./utils"),p=i("./stream/GenericWorker"),g=i("./stream/StreamHelper"),b=i("./defaults"),v=i("./compressedObject"),A=i("./zipObject"),x=i("./generate"),V=i("./nodejsUtils"),E=i("./nodejs/NodejsStreamInputAdapter"),S=function(K){K.slice(-1)==="/"&&(K=K.substring(0,K.length-1));var st=K.lastIndexOf("/");return 0<st?K.substring(0,st):""},R=function(K){return K.slice(-1)!=="/"&&(K+="/"),K},U=function(K,st){return st=st!==void 0?st:b.createFolders,K=R(K),this.files[K]||u.call(this,K,null,{dir:!0,createFolders:st}),this.files[K]};function L(K){return Object.prototype.toString.call(K)==="[object RegExp]"}var Y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(K){var st,D,O;for(st in this.files)O=this.files[st],(D=st.slice(this.root.length,st.length))&&st.slice(0,this.root.length)===this.root&&K(D,O)},filter:function(K){var st=[];return this.forEach(function(D,O){K(D,O)&&st.push(O)}),st},file:function(K,st,D){if(arguments.length!==1)return K=this.root+K,u.call(this,K,st,D),this;if(L(K)){var O=K;return this.filter(function(P,F){return!F.dir&&O.test(P)})}var I=this.files[this.root+K];return I&&!I.dir?I:null},folder:function(K){if(!K)return this;if(L(K))return this.filter(function(I,P){return P.dir&&K.test(I)});var st=this.root+K,D=U.call(this,st),O=this.clone();return O.root=D.name,O},remove:function(K){K=this.root+K;var st=this.files[K];if(st||(K.slice(-1)!=="/"&&(K+="/"),st=this.files[K]),st&&!st.dir)delete this.files[K];else for(var D=this.filter(function(I,P){return P.name.slice(0,K.length)===K}),O=0;O<D.length;O++)delete this.files[D[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(K){var st,D={};try{if((D=m.extend(K||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");m.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var O=D.comment||this.comment||"";st=x.generateWorker(this,D,O)}catch(I){(st=new p("error")).error(I)}return new g(st,D.type||"string",D.mimeType)},generateAsync:function(K,st){return this.generateInternalStream(K).accumulate(st)},generateNodeStream:function(K,st){return(K=K||{}).type||(K.type="nodebuffer"),this.generateInternalStream(K).toNodejsStream(st)}};s.exports=Y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,s,o){s.exports=i("stream")},{stream:void 0}],17:[function(i,s,o){var u=i("./DataReader");function f(m){u.call(this,m);for(var p=0;p<this.data.length;p++)m[p]=255&m[p]}i("../utils").inherits(f,u),f.prototype.byteAt=function(m){return this.data[this.zero+m]},f.prototype.lastIndexOfSignature=function(m){for(var p=m.charCodeAt(0),g=m.charCodeAt(1),b=m.charCodeAt(2),v=m.charCodeAt(3),A=this.length-4;0<=A;--A)if(this.data[A]===p&&this.data[A+1]===g&&this.data[A+2]===b&&this.data[A+3]===v)return A-this.zero;return-1},f.prototype.readAndCheckSignature=function(m){var p=m.charCodeAt(0),g=m.charCodeAt(1),b=m.charCodeAt(2),v=m.charCodeAt(3),A=this.readData(4);return p===A[0]&&g===A[1]&&b===A[2]&&v===A[3]},f.prototype.readData=function(m){if(this.checkOffset(m),m===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,p},s.exports=f},{"../utils":32,"./DataReader":18}],18:[function(i,s,o){var u=i("../utils");function f(m){this.data=m,this.length=m.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(m){this.checkIndex(this.index+m)},checkIndex:function(m){if(this.length<this.zero+m||m<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+m+"). Corrupted zip ?")},setIndex:function(m){this.checkIndex(m),this.index=m},skip:function(m){this.setIndex(this.index+m)},byteAt:function(){},readInt:function(m){var p,g=0;for(this.checkOffset(m),p=this.index+m-1;p>=this.index;p--)g=(g<<8)+this.byteAt(p);return this.index+=m,g},readString:function(m){return u.transformTo("string",this.readData(m))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var m=this.readInt(4);return new Date(Date.UTC(1980+(m>>25&127),(m>>21&15)-1,m>>16&31,m>>11&31,m>>5&63,(31&m)<<1))}},s.exports=f},{"../utils":32}],19:[function(i,s,o){var u=i("./Uint8ArrayReader");function f(m){u.call(this,m)}i("../utils").inherits(f,u),f.prototype.readData=function(m){this.checkOffset(m);var p=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,p},s.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,s,o){var u=i("./DataReader");function f(m){u.call(this,m)}i("../utils").inherits(f,u),f.prototype.byteAt=function(m){return this.data.charCodeAt(this.zero+m)},f.prototype.lastIndexOfSignature=function(m){return this.data.lastIndexOf(m)-this.zero},f.prototype.readAndCheckSignature=function(m){return m===this.readData(4)},f.prototype.readData=function(m){this.checkOffset(m);var p=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,p},s.exports=f},{"../utils":32,"./DataReader":18}],21:[function(i,s,o){var u=i("./ArrayReader");function f(m){u.call(this,m)}i("../utils").inherits(f,u),f.prototype.readData=function(m){if(this.checkOffset(m),m===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+m);return this.index+=m,p},s.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(i,s,o){var u=i("../utils"),f=i("../support"),m=i("./ArrayReader"),p=i("./StringReader"),g=i("./NodeBufferReader"),b=i("./Uint8ArrayReader");s.exports=function(v){var A=u.getTypeOf(v);return u.checkSupport(A),A!=="string"||f.uint8array?A==="nodebuffer"?new g(v):f.uint8array?new b(u.transformTo("uint8array",v)):new m(u.transformTo("array",v)):new p(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,s,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,s,o){var u=i("./GenericWorker"),f=i("../utils");function m(p){u.call(this,"ConvertWorker to "+p),this.destType=p}f.inherits(m,u),m.prototype.processChunk=function(p){this.push({data:f.transformTo(this.destType,p.data),meta:p.meta})},s.exports=m},{"../utils":32,"./GenericWorker":28}],25:[function(i,s,o){var u=i("./GenericWorker"),f=i("../crc32");function m(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(m,u),m.prototype.processChunk=function(p){this.streamInfo.crc32=f(p.data,this.streamInfo.crc32||0),this.push(p)},s.exports=m},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,s,o){var u=i("../utils"),f=i("./GenericWorker");function m(p){f.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}u.inherits(m,f),m.prototype.processChunk=function(p){if(p){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+p.data.length}f.prototype.processChunk.call(this,p)},s.exports=m},{"../utils":32,"./GenericWorker":28}],27:[function(i,s,o){var u=i("../utils"),f=i("./GenericWorker");function m(p){f.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(b){g.dataIsReady=!0,g.data=b,g.max=b&&b.length||0,g.type=u.getTypeOf(b),g.isPaused||g._tickAndRepeat()},function(b){g.error(b)})}u.inherits(m,f),m.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},m.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},m.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},m.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,g);break;case"uint8array":p=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":p=this.data.slice(this.index,g)}return this.index=g,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=m},{"../utils":32,"./GenericWorker":28}],28:[function(i,s,o){function u(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,m){return this._listeners[f].push(m),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,m){if(this._listeners[f])for(var p=0;p<this._listeners[f].length;p++)this._listeners[f][p].call(this,m)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var m=this;return f.on("data",function(p){m.processChunk(p)}),f.on("end",function(){m.end()}),f.on("error",function(p){m.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,m){return this.extraStreamInfo[f]=m,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},s.exports=u},{}],29:[function(i,s,o){var u=i("../utils"),f=i("./ConvertWorker"),m=i("./GenericWorker"),p=i("../base64"),g=i("../support"),b=i("../external"),v=null;if(g.nodestream)try{v=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function A(V,E){return new b.Promise(function(S,R){var U=[],L=V._internalType,Y=V._outputType,K=V._mimeType;V.on("data",function(st,D){U.push(st),E&&E(D)}).on("error",function(st){U=[],R(st)}).on("end",function(){try{var st=(function(D,O,I){switch(D){case"blob":return u.newBlob(u.transformTo("arraybuffer",O),I);case"base64":return p.encode(O);default:return u.transformTo(D,O)}})(Y,(function(D,O){var I,P=0,F=null,k=0;for(I=0;I<O.length;I++)k+=O[I].length;switch(D){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(F=new Uint8Array(k),I=0;I<O.length;I++)F.set(O[I],P),P+=O[I].length;return F;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+D+"'")}})(L,U),K);S(st)}catch(D){R(D)}U=[]}).resume()})}function x(V,E,S){var R=E;switch(E){case"blob":case"arraybuffer":R="uint8array";break;case"base64":R="string"}try{this._internalType=R,this._outputType=E,this._mimeType=S,u.checkSupport(R),this._worker=V.pipe(new f(R)),V.lock()}catch(U){this._worker=new m("error"),this._worker.error(U)}}x.prototype={accumulate:function(V){return A(this,V)},on:function(V,E){var S=this;return V==="data"?this._worker.on(V,function(R){E.call(S,R.data,R.meta)}):this._worker.on(V,function(){u.delay(E,arguments,S)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(V){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},V)}},s.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,s,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var u=new ArrayBuffer(0);try{o.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(u),o.blob=f.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!i("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(i,s,o){for(var u=i("./utils"),f=i("./support"),m=i("./nodejsUtils"),p=i("./stream/GenericWorker"),g=new Array(256),b=0;b<256;b++)g[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;g[254]=g[254]=1;function v(){p.call(this,"utf-8 decode"),this.leftOver=null}function A(){p.call(this,"utf-8 encode")}o.utf8encode=function(x){return f.nodebuffer?m.newBufferFrom(x,"utf-8"):(function(V){var E,S,R,U,L,Y=V.length,K=0;for(U=0;U<Y;U++)(64512&(S=V.charCodeAt(U)))==55296&&U+1<Y&&(64512&(R=V.charCodeAt(U+1)))==56320&&(S=65536+(S-55296<<10)+(R-56320),U++),K+=S<128?1:S<2048?2:S<65536?3:4;for(E=f.uint8array?new Uint8Array(K):new Array(K),U=L=0;L<K;U++)(64512&(S=V.charCodeAt(U)))==55296&&U+1<Y&&(64512&(R=V.charCodeAt(U+1)))==56320&&(S=65536+(S-55296<<10)+(R-56320),U++),S<128?E[L++]=S:(S<2048?E[L++]=192|S>>>6:(S<65536?E[L++]=224|S>>>12:(E[L++]=240|S>>>18,E[L++]=128|S>>>12&63),E[L++]=128|S>>>6&63),E[L++]=128|63&S);return E})(x)},o.utf8decode=function(x){return f.nodebuffer?u.transformTo("nodebuffer",x).toString("utf-8"):(function(V){var E,S,R,U,L=V.length,Y=new Array(2*L);for(E=S=0;E<L;)if((R=V[E++])<128)Y[S++]=R;else if(4<(U=g[R]))Y[S++]=65533,E+=U-1;else{for(R&=U===2?31:U===3?15:7;1<U&&E<L;)R=R<<6|63&V[E++],U--;1<U?Y[S++]=65533:R<65536?Y[S++]=R:(R-=65536,Y[S++]=55296|R>>10&1023,Y[S++]=56320|1023&R)}return Y.length!==S&&(Y.subarray?Y=Y.subarray(0,S):Y.length=S),u.applyFromCharCode(Y)})(x=u.transformTo(f.uint8array?"uint8array":"array",x))},u.inherits(v,p),v.prototype.processChunk=function(x){var V=u.transformTo(f.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var E=V;(V=new Uint8Array(E.length+this.leftOver.length)).set(this.leftOver,0),V.set(E,this.leftOver.length)}else V=this.leftOver.concat(V);this.leftOver=null}var S=(function(U,L){var Y;for((L=L||U.length)>U.length&&(L=U.length),Y=L-1;0<=Y&&(192&U[Y])==128;)Y--;return Y<0||Y===0?L:Y+g[U[Y]]>L?Y:L})(V),R=V;S!==V.length&&(f.uint8array?(R=V.subarray(0,S),this.leftOver=V.subarray(S,V.length)):(R=V.slice(0,S),this.leftOver=V.slice(S,V.length))),this.push({data:o.utf8decode(R),meta:x.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=v,u.inherits(A,p),A.prototype.processChunk=function(x){this.push({data:o.utf8encode(x.data),meta:x.meta})},o.Utf8EncodeWorker=A},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,s,o){var u=i("./support"),f=i("./base64"),m=i("./nodejsUtils"),p=i("./external");function g(E){return E}function b(E,S){for(var R=0;R<E.length;++R)S[R]=255&E.charCodeAt(R);return S}i("setimmediate"),o.newBlob=function(E,S){o.checkSupport("blob");try{return new Blob([E],{type:S})}catch{try{var R=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return R.append(E),R.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(E,S,R){var U=[],L=0,Y=E.length;if(Y<=R)return String.fromCharCode.apply(null,E);for(;L<Y;)S==="array"||S==="nodebuffer"?U.push(String.fromCharCode.apply(null,E.slice(L,Math.min(L+R,Y)))):U.push(String.fromCharCode.apply(null,E.subarray(L,Math.min(L+R,Y)))),L+=R;return U.join("")},stringifyByChar:function(E){for(var S="",R=0;R<E.length;R++)S+=String.fromCharCode(E[R]);return S},applyCanBeUsed:{uint8array:(function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,m.allocBuffer(1)).length===1}catch{return!1}})()}};function A(E){var S=65536,R=o.getTypeOf(E),U=!0;if(R==="uint8array"?U=v.applyCanBeUsed.uint8array:R==="nodebuffer"&&(U=v.applyCanBeUsed.nodebuffer),U)for(;1<S;)try{return v.stringifyByChunk(E,R,S)}catch{S=Math.floor(S/2)}return v.stringifyByChar(E)}function x(E,S){for(var R=0;R<E.length;R++)S[R]=E[R];return S}o.applyFromCharCode=A;var V={};V.string={string:g,array:function(E){return b(E,new Array(E.length))},arraybuffer:function(E){return V.string.uint8array(E).buffer},uint8array:function(E){return b(E,new Uint8Array(E.length))},nodebuffer:function(E){return b(E,m.allocBuffer(E.length))}},V.array={string:A,array:g,arraybuffer:function(E){return new Uint8Array(E).buffer},uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return m.newBufferFrom(E)}},V.arraybuffer={string:function(E){return A(new Uint8Array(E))},array:function(E){return x(new Uint8Array(E),new Array(E.byteLength))},arraybuffer:g,uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return m.newBufferFrom(new Uint8Array(E))}},V.uint8array={string:A,array:function(E){return x(E,new Array(E.length))},arraybuffer:function(E){return E.buffer},uint8array:g,nodebuffer:function(E){return m.newBufferFrom(E)}},V.nodebuffer={string:A,array:function(E){return x(E,new Array(E.length))},arraybuffer:function(E){return V.nodebuffer.uint8array(E).buffer},uint8array:function(E){return x(E,new Uint8Array(E.length))},nodebuffer:g},o.transformTo=function(E,S){if(S=S||"",!E)return S;o.checkSupport(E);var R=o.getTypeOf(S);return V[R][E](S)},o.resolve=function(E){for(var S=E.split("/"),R=[],U=0;U<S.length;U++){var L=S[U];L==="."||L===""&&U!==0&&U!==S.length-1||(L===".."?R.pop():R.push(L))}return R.join("/")},o.getTypeOf=function(E){return typeof E=="string"?"string":Object.prototype.toString.call(E)==="[object Array]"?"array":u.nodebuffer&&m.isBuffer(E)?"nodebuffer":u.uint8array&&E instanceof Uint8Array?"uint8array":u.arraybuffer&&E instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(E){if(!u[E.toLowerCase()])throw new Error(E+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(E){var S,R,U="";for(R=0;R<(E||"").length;R++)U+="\\x"+((S=E.charCodeAt(R))<16?"0":"")+S.toString(16).toUpperCase();return U},o.delay=function(E,S,R){setImmediate(function(){E.apply(R||null,S||[])})},o.inherits=function(E,S){function R(){}R.prototype=S.prototype,E.prototype=new R},o.extend=function(){var E,S,R={};for(E=0;E<arguments.length;E++)for(S in arguments[E])Object.prototype.hasOwnProperty.call(arguments[E],S)&&R[S]===void 0&&(R[S]=arguments[E][S]);return R},o.prepareContent=function(E,S,R,U,L){return p.Promise.resolve(S).then(function(Y){return u.blob&&(Y instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Y))!==-1)&&typeof FileReader<"u"?new p.Promise(function(K,st){var D=new FileReader;D.onload=function(O){K(O.target.result)},D.onerror=function(O){st(O.target.error)},D.readAsArrayBuffer(Y)}):Y}).then(function(Y){var K=o.getTypeOf(Y);return K?(K==="arraybuffer"?Y=o.transformTo("uint8array",Y):K==="string"&&(L?Y=f.decode(Y):R&&U!==!0&&(Y=(function(st){return b(st,u.uint8array?new Uint8Array(st.length):new Array(st.length))})(Y))),Y):p.Promise.reject(new Error("Can't read the data of '"+E+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,s,o){var u=i("./reader/readerFor"),f=i("./utils"),m=i("./signature"),p=i("./zipEntry"),g=i("./support");function b(v){this.files=[],this.loadOptions=v}b.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var A=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(A)+", expected "+f.pretty(v)+")")}},isSignature:function(v,A){var x=this.reader.index;this.reader.setIndex(v);var V=this.reader.readString(4)===A;return this.reader.setIndex(x),V},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),A=g.uint8array?"uint8array":"array",x=f.transformTo(A,v);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,A,x,V=this.zip64EndOfCentralSize-44;0<V;)v=this.reader.readInt(2),A=this.reader.readInt(4),x=this.reader.readData(A),this.zip64ExtensibleData[v]={id:v,length:A,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,A;for(v=0;v<this.files.length;v++)A=this.files[v],this.reader.setIndex(A.localHeaderOffset),this.checkSignature(m.LOCAL_FILE_HEADER),A.readLocalPart(this.reader),A.handleUTF8(),A.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(m.CENTRAL_FILE_HEADER);)(v=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(m.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,m.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var A=v;if(this.checkSignature(m.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,m.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var V=A-x;if(0<V)this.isSignature(A,m.CENTRAL_FILE_HEADER)||(this.reader.zero=V);else if(V<0)throw new Error("Corrupted zip: missing "+Math.abs(V)+" bytes.")},prepareReader:function(v){this.reader=u(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,s,o){var u=i("./reader/readerFor"),f=i("./utils"),m=i("./compressedObject"),p=i("./crc32"),g=i("./utf8"),b=i("./compressions"),v=i("./support");function A(x,V){this.options=x,this.loadOptions=V}A.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(x){var V,E;if(x.skip(22),this.fileNameLength=x.readInt(2),E=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(E),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((V=(function(S){for(var R in b)if(Object.prototype.hasOwnProperty.call(b,R)&&b[R].magic===S)return b[R];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new m(this.compressedSize,this.uncompressedSize,this.crc32,V,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var V=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(V),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),x==0&&(this.dosPermissions=63&this.externalFileAttributes),x==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var x=u(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=x.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=x.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=x.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=x.readInt(4))}},readExtraFields:function(x){var V,E,S,R=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<R;)V=x.readInt(2),E=x.readInt(2),S=x.readData(E),this.extraFields[V]={id:V,length:E,value:S};x.setIndex(R)},handleUTF8:function(){var x=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var V=this.findExtraFieldUnicodePath();if(V!==null)this.fileNameStr=V;else{var E=f.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(E)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var R=f.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(R)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var V=u(x.value);return V.readInt(1)!==1||p(this.fileName)!==V.readInt(4)?null:g.utf8decode(V.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var V=u(x.value);return V.readInt(1)!==1||p(this.fileComment)!==V.readInt(4)?null:g.utf8decode(V.readData(x.length-5))}return null}},s.exports=A},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,s,o){function u(V,E,S){this.name=V,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=E,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var f=i("./stream/StreamHelper"),m=i("./stream/DataWorker"),p=i("./utf8"),g=i("./compressedObject"),b=i("./stream/GenericWorker");u.prototype={internalStream:function(V){var E=null,S="string";try{if(!V)throw new Error("No output type specified.");var R=(S=V.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),E=this._decompressWorker();var U=!this._dataBinary;U&&!R&&(E=E.pipe(new p.Utf8EncodeWorker)),!U&&R&&(E=E.pipe(new p.Utf8DecodeWorker))}catch(L){(E=new b("error")).error(L)}return new f(E,S,"")},async:function(V,E){return this.internalStream(V).accumulate(E)},nodeStream:function(V,E){return this.internalStream(V||"nodebuffer").toNodejsStream(E)},_compressWorker:function(V,E){if(this._data instanceof g&&this._data.compression.magic===V.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new p.Utf8EncodeWorker)),g.createWorkerFrom(S,V,E)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof b?this._data:new m(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],A=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<v.length;x++)u.prototype[v[x]]=A;s.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,s,o){(function(u){var f,m,p=u.MutationObserver||u.WebKitMutationObserver;if(p){var g=0,b=new p(V),v=u.document.createTextNode("");b.observe(v,{characterData:!0}),f=function(){v.data=g=++g%2}}else if(u.setImmediate||u.MessageChannel===void 0)f="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var E=u.document.createElement("script");E.onreadystatechange=function(){V(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},u.document.documentElement.appendChild(E)}:function(){setTimeout(V,0)};else{var A=new u.MessageChannel;A.port1.onmessage=V,f=function(){A.port2.postMessage(0)}}var x=[];function V(){var E,S;m=!0;for(var R=x.length;R;){for(S=x,x=[],E=-1;++E<R;)S[E]();R=x.length}m=!1}s.exports=function(E){x.push(E)!==1||m||f()}}).call(this,typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,s,o){var u=i("immediate");function f(){}var m={},p=["REJECTED"],g=["FULFILLED"],b=["PENDING"];function v(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,R!==f&&E(this,R)}function A(R,U,L){this.promise=R,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}function x(R,U,L){u(function(){var Y;try{Y=U(L)}catch(K){return m.reject(R,K)}Y===R?m.reject(R,new TypeError("Cannot resolve promise with itself")):m.resolve(R,Y)})}function V(R){var U=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof U=="function")return function(){U.apply(R,arguments)}}function E(R,U){var L=!1;function Y(D){L||(L=!0,m.reject(R,D))}function K(D){L||(L=!0,m.resolve(R,D))}var st=S(function(){U(K,Y)});st.status==="error"&&Y(st.value)}function S(R,U){var L={};try{L.value=R(U),L.status="success"}catch(Y){L.status="error",L.value=Y}return L}(s.exports=v).prototype.finally=function(R){if(typeof R!="function")return this;var U=this.constructor;return this.then(function(L){return U.resolve(R()).then(function(){return L})},function(L){return U.resolve(R()).then(function(){throw L})})},v.prototype.catch=function(R){return this.then(null,R)},v.prototype.then=function(R,U){if(typeof R!="function"&&this.state===g||typeof U!="function"&&this.state===p)return this;var L=new this.constructor(f);return this.state!==b?x(L,this.state===g?R:U,this.outcome):this.queue.push(new A(L,R,U)),L},A.prototype.callFulfilled=function(R){m.resolve(this.promise,R)},A.prototype.otherCallFulfilled=function(R){x(this.promise,this.onFulfilled,R)},A.prototype.callRejected=function(R){m.reject(this.promise,R)},A.prototype.otherCallRejected=function(R){x(this.promise,this.onRejected,R)},m.resolve=function(R,U){var L=S(V,U);if(L.status==="error")return m.reject(R,L.value);var Y=L.value;if(Y)E(R,Y);else{R.state=g,R.outcome=U;for(var K=-1,st=R.queue.length;++K<st;)R.queue[K].callFulfilled(U)}return R},m.reject=function(R,U){R.state=p,R.outcome=U;for(var L=-1,Y=R.queue.length;++L<Y;)R.queue[L].callRejected(U);return R},v.resolve=function(R){return R instanceof this?R:m.resolve(new this(f),R)},v.reject=function(R){var U=new this(f);return m.reject(U,R)},v.all=function(R){var U=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=R.length,Y=!1;if(!L)return this.resolve([]);for(var K=new Array(L),st=0,D=-1,O=new this(f);++D<L;)I(R[D],D);return O;function I(P,F){U.resolve(P).then(function(k){K[F]=k,++st!==L||Y||(Y=!0,m.resolve(O,K))},function(k){Y||(Y=!0,m.reject(O,k))})}},v.race=function(R){var U=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=R.length,Y=!1;if(!L)return this.resolve([]);for(var K=-1,st=new this(f);++K<L;)D=R[K],U.resolve(D).then(function(O){Y||(Y=!0,m.resolve(st,O))},function(O){Y||(Y=!0,m.reject(st,O))});var D;return st}},{immediate:36}],38:[function(i,s,o){var u={};(0,i("./lib/utils/common").assign)(u,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),s.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,s,o){var u=i("./zlib/deflate"),f=i("./utils/common"),m=i("./utils/strings"),p=i("./zlib/messages"),g=i("./zlib/zstream"),b=Object.prototype.toString,v=0,A=-1,x=0,V=8;function E(R){if(!(this instanceof E))return new E(R);this.options=f.assign({level:A,method:V,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},R||{});var U=this.options;U.raw&&0<U.windowBits?U.windowBits=-U.windowBits:U.gzip&&0<U.windowBits&&U.windowBits<16&&(U.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var L=u.deflateInit2(this.strm,U.level,U.method,U.windowBits,U.memLevel,U.strategy);if(L!==v)throw new Error(p[L]);if(U.header&&u.deflateSetHeader(this.strm,U.header),U.dictionary){var Y;if(Y=typeof U.dictionary=="string"?m.string2buf(U.dictionary):b.call(U.dictionary)==="[object ArrayBuffer]"?new Uint8Array(U.dictionary):U.dictionary,(L=u.deflateSetDictionary(this.strm,Y))!==v)throw new Error(p[L]);this._dict_set=!0}}function S(R,U){var L=new E(U);if(L.push(R,!0),L.err)throw L.msg||p[L.err];return L.result}E.prototype.push=function(R,U){var L,Y,K=this.strm,st=this.options.chunkSize;if(this.ended)return!1;Y=U===~~U?U:U===!0?4:0,typeof R=="string"?K.input=m.string2buf(R):b.call(R)==="[object ArrayBuffer]"?K.input=new Uint8Array(R):K.input=R,K.next_in=0,K.avail_in=K.input.length;do{if(K.avail_out===0&&(K.output=new f.Buf8(st),K.next_out=0,K.avail_out=st),(L=u.deflate(K,Y))!==1&&L!==v)return this.onEnd(L),!(this.ended=!0);K.avail_out!==0&&(K.avail_in!==0||Y!==4&&Y!==2)||(this.options.to==="string"?this.onData(m.buf2binstring(f.shrinkBuf(K.output,K.next_out))):this.onData(f.shrinkBuf(K.output,K.next_out)))}while((0<K.avail_in||K.avail_out===0)&&L!==1);return Y===4?(L=u.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===v):Y!==2||(this.onEnd(v),!(K.avail_out=0))},E.prototype.onData=function(R){this.chunks.push(R)},E.prototype.onEnd=function(R){R===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},o.Deflate=E,o.deflate=S,o.deflateRaw=function(R,U){return(U=U||{}).raw=!0,S(R,U)},o.gzip=function(R,U){return(U=U||{}).gzip=!0,S(R,U)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,s,o){var u=i("./zlib/inflate"),f=i("./utils/common"),m=i("./utils/strings"),p=i("./zlib/constants"),g=i("./zlib/messages"),b=i("./zlib/zstream"),v=i("./zlib/gzheader"),A=Object.prototype.toString;function x(E){if(!(this instanceof x))return new x(E);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},E||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||E&&E.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&(15&S.windowBits)==0&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var R=u.inflateInit2(this.strm,S.windowBits);if(R!==p.Z_OK)throw new Error(g[R]);this.header=new v,u.inflateGetHeader(this.strm,this.header)}function V(E,S){var R=new x(S);if(R.push(E,!0),R.err)throw R.msg||g[R.err];return R.result}x.prototype.push=function(E,S){var R,U,L,Y,K,st,D=this.strm,O=this.options.chunkSize,I=this.options.dictionary,P=!1;if(this.ended)return!1;U=S===~~S?S:S===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof E=="string"?D.input=m.binstring2buf(E):A.call(E)==="[object ArrayBuffer]"?D.input=new Uint8Array(E):D.input=E,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new f.Buf8(O),D.next_out=0,D.avail_out=O),(R=u.inflate(D,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&I&&(st=typeof I=="string"?m.string2buf(I):A.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,R=u.inflateSetDictionary(this.strm,st)),R===p.Z_BUF_ERROR&&P===!0&&(R=p.Z_OK,P=!1),R!==p.Z_STREAM_END&&R!==p.Z_OK)return this.onEnd(R),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&R!==p.Z_STREAM_END&&(D.avail_in!==0||U!==p.Z_FINISH&&U!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(L=m.utf8border(D.output,D.next_out),Y=D.next_out-L,K=m.buf2string(D.output,L),D.next_out=Y,D.avail_out=O-Y,Y&&f.arraySet(D.output,D.output,L,Y,0),this.onData(K)):this.onData(f.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(P=!0)}while((0<D.avail_in||D.avail_out===0)&&R!==p.Z_STREAM_END);return R===p.Z_STREAM_END&&(U=p.Z_FINISH),U===p.Z_FINISH?(R=u.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===p.Z_OK):U!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(D.avail_out=0))},x.prototype.onData=function(E){this.chunks.push(E)},x.prototype.onEnd=function(E){E===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},o.Inflate=x,o.inflate=V,o.inflateRaw=function(E,S){return(S=S||{}).raw=!0,V(E,S)},o.ungzip=V},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,s,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(p){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var b=g.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var v in b)b.hasOwnProperty(v)&&(p[v]=b[v])}}return p},o.shrinkBuf=function(p,g){return p.length===g?p:p.subarray?p.subarray(0,g):(p.length=g,p)};var f={arraySet:function(p,g,b,v,A){if(g.subarray&&p.subarray)p.set(g.subarray(b,b+v),A);else for(var x=0;x<v;x++)p[A+x]=g[b+x]},flattenChunks:function(p){var g,b,v,A,x,V;for(g=v=0,b=p.length;g<b;g++)v+=p[g].length;for(V=new Uint8Array(v),g=A=0,b=p.length;g<b;g++)x=p[g],V.set(x,A),A+=x.length;return V}},m={arraySet:function(p,g,b,v,A){for(var x=0;x<v;x++)p[A+x]=g[b+x]},flattenChunks:function(p){return[].concat.apply([],p)}};o.setTyped=function(p){p?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,f)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,m))},o.setTyped(u)},{}],42:[function(i,s,o){var u=i("./common"),f=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var p=new u.Buf8(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function b(v,A){if(A<65537&&(v.subarray&&m||!v.subarray&&f))return String.fromCharCode.apply(null,u.shrinkBuf(v,A));for(var x="",V=0;V<A;V++)x+=String.fromCharCode(v[V]);return x}p[254]=p[254]=1,o.string2buf=function(v){var A,x,V,E,S,R=v.length,U=0;for(E=0;E<R;E++)(64512&(x=v.charCodeAt(E)))==55296&&E+1<R&&(64512&(V=v.charCodeAt(E+1)))==56320&&(x=65536+(x-55296<<10)+(V-56320),E++),U+=x<128?1:x<2048?2:x<65536?3:4;for(A=new u.Buf8(U),E=S=0;S<U;E++)(64512&(x=v.charCodeAt(E)))==55296&&E+1<R&&(64512&(V=v.charCodeAt(E+1)))==56320&&(x=65536+(x-55296<<10)+(V-56320),E++),x<128?A[S++]=x:(x<2048?A[S++]=192|x>>>6:(x<65536?A[S++]=224|x>>>12:(A[S++]=240|x>>>18,A[S++]=128|x>>>12&63),A[S++]=128|x>>>6&63),A[S++]=128|63&x);return A},o.buf2binstring=function(v){return b(v,v.length)},o.binstring2buf=function(v){for(var A=new u.Buf8(v.length),x=0,V=A.length;x<V;x++)A[x]=v.charCodeAt(x);return A},o.buf2string=function(v,A){var x,V,E,S,R=A||v.length,U=new Array(2*R);for(x=V=0;x<R;)if((E=v[x++])<128)U[V++]=E;else if(4<(S=p[E]))U[V++]=65533,x+=S-1;else{for(E&=S===2?31:S===3?15:7;1<S&&x<R;)E=E<<6|63&v[x++],S--;1<S?U[V++]=65533:E<65536?U[V++]=E:(E-=65536,U[V++]=55296|E>>10&1023,U[V++]=56320|1023&E)}return b(U,V)},o.utf8border=function(v,A){var x;for((A=A||v.length)>v.length&&(A=v.length),x=A-1;0<=x&&(192&v[x])==128;)x--;return x<0||x===0?A:x+p[v[x]]>A?x:A}},{"./common":41}],43:[function(i,s,o){s.exports=function(u,f,m,p){for(var g=65535&u|0,b=u>>>16&65535|0,v=0;m!==0;){for(m-=v=2e3<m?2e3:m;b=b+(g=g+f[p++]|0)|0,--v;);g%=65521,b%=65521}return g|b<<16|0}},{}],44:[function(i,s,o){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,s,o){var u=(function(){for(var f,m=[],p=0;p<256;p++){f=p;for(var g=0;g<8;g++)f=1&f?3988292384^f>>>1:f>>>1;m[p]=f}return m})();s.exports=function(f,m,p,g){var b=u,v=g+p;f^=-1;for(var A=g;A<v;A++)f=f>>>8^b[255&(f^m[A])];return-1^f}},{}],46:[function(i,s,o){var u,f=i("../utils/common"),m=i("./trees"),p=i("./adler32"),g=i("./crc32"),b=i("./messages"),v=0,A=4,x=0,V=-2,E=-1,S=4,R=2,U=8,L=9,Y=286,K=30,st=19,D=2*Y+1,O=15,I=3,P=258,F=P+I+1,k=42,M=113,N=1,ct=2,$=3,W=4;function xt(w,gt){return w.msg=b[gt],gt}function pt(w){return(w<<1)-(4<w?9:0)}function Ct(w){for(var gt=w.length;0<=--gt;)w[gt]=0}function j(w){var gt=w.state,lt=gt.pending;lt>w.avail_out&&(lt=w.avail_out),lt!==0&&(f.arraySet(w.output,gt.pending_buf,gt.pending_out,lt,w.next_out),w.next_out+=lt,gt.pending_out+=lt,w.total_out+=lt,w.avail_out-=lt,gt.pending-=lt,gt.pending===0&&(gt.pending_out=0))}function q(w,gt){m._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,gt),w.block_start=w.strstart,j(w.strm)}function ht(w,gt){w.pending_buf[w.pending++]=gt}function ut(w,gt){w.pending_buf[w.pending++]=gt>>>8&255,w.pending_buf[w.pending++]=255&gt}function dt(w,gt){var lt,G,H=w.max_chain_length,Z=w.strstart,mt=w.prev_length,bt=w.nice_match,it=w.strstart>w.w_size-F?w.strstart-(w.w_size-F):0,Tt=w.window,At=w.w_mask,wt=w.prev,Mt=w.strstart+P,se=Tt[Z+mt-1],Gt=Tt[Z+mt];w.prev_length>=w.good_match&&(H>>=2),bt>w.lookahead&&(bt=w.lookahead);do if(Tt[(lt=gt)+mt]===Gt&&Tt[lt+mt-1]===se&&Tt[lt]===Tt[Z]&&Tt[++lt]===Tt[Z+1]){Z+=2,lt++;do;while(Tt[++Z]===Tt[++lt]&&Tt[++Z]===Tt[++lt]&&Tt[++Z]===Tt[++lt]&&Tt[++Z]===Tt[++lt]&&Tt[++Z]===Tt[++lt]&&Tt[++Z]===Tt[++lt]&&Tt[++Z]===Tt[++lt]&&Tt[++Z]===Tt[++lt]&&Z<Mt);if(G=P-(Mt-Z),Z=Mt-P,mt<G){if(w.match_start=gt,bt<=(mt=G))break;se=Tt[Z+mt-1],Gt=Tt[Z+mt]}}while((gt=wt[gt&At])>it&&--H!=0);return mt<=w.lookahead?mt:w.lookahead}function Dt(w){var gt,lt,G,H,Z,mt,bt,it,Tt,At,wt=w.w_size;do{if(H=w.window_size-w.lookahead-w.strstart,w.strstart>=wt+(wt-F)){for(f.arraySet(w.window,w.window,wt,wt,0),w.match_start-=wt,w.strstart-=wt,w.block_start-=wt,gt=lt=w.hash_size;G=w.head[--gt],w.head[gt]=wt<=G?G-wt:0,--lt;);for(gt=lt=wt;G=w.prev[--gt],w.prev[gt]=wt<=G?G-wt:0,--lt;);H+=wt}if(w.strm.avail_in===0)break;if(mt=w.strm,bt=w.window,it=w.strstart+w.lookahead,Tt=H,At=void 0,At=mt.avail_in,Tt<At&&(At=Tt),lt=At===0?0:(mt.avail_in-=At,f.arraySet(bt,mt.input,mt.next_in,At,it),mt.state.wrap===1?mt.adler=p(mt.adler,bt,At,it):mt.state.wrap===2&&(mt.adler=g(mt.adler,bt,At,it)),mt.next_in+=At,mt.total_in+=At,At),w.lookahead+=lt,w.lookahead+w.insert>=I)for(Z=w.strstart-w.insert,w.ins_h=w.window[Z],w.ins_h=(w.ins_h<<w.hash_shift^w.window[Z+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[Z+I-1])&w.hash_mask,w.prev[Z&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=Z,Z++,w.insert--,!(w.lookahead+w.insert<I)););}while(w.lookahead<F&&w.strm.avail_in!==0)}function Ut(w,gt){for(var lt,G;;){if(w.lookahead<F){if(Dt(w),w.lookahead<F&&gt===v)return N;if(w.lookahead===0)break}if(lt=0,w.lookahead>=I&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,lt=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),lt!==0&&w.strstart-lt<=w.w_size-F&&(w.match_length=dt(w,lt)),w.match_length>=I)if(G=m._tr_tally(w,w.strstart-w.match_start,w.match_length-I),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=I){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,lt=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else G=m._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(G&&(q(w,!1),w.strm.avail_out===0))return N}return w.insert=w.strstart<I-1?w.strstart:I-1,gt===A?(q(w,!0),w.strm.avail_out===0?$:W):w.last_lit&&(q(w,!1),w.strm.avail_out===0)?N:ct}function Vt(w,gt){for(var lt,G,H;;){if(w.lookahead<F){if(Dt(w),w.lookahead<F&&gt===v)return N;if(w.lookahead===0)break}if(lt=0,w.lookahead>=I&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,lt=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=I-1,lt!==0&&w.prev_length<w.max_lazy_match&&w.strstart-lt<=w.w_size-F&&(w.match_length=dt(w,lt),w.match_length<=5&&(w.strategy===1||w.match_length===I&&4096<w.strstart-w.match_start)&&(w.match_length=I-1)),w.prev_length>=I&&w.match_length<=w.prev_length){for(H=w.strstart+w.lookahead-I,G=m._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-I),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=H&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,lt=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=I-1,w.strstart++,G&&(q(w,!1),w.strm.avail_out===0))return N}else if(w.match_available){if((G=m._tr_tally(w,0,w.window[w.strstart-1]))&&q(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return N}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(G=m._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<I-1?w.strstart:I-1,gt===A?(q(w,!0),w.strm.avail_out===0?$:W):w.last_lit&&(q(w,!1),w.strm.avail_out===0)?N:ct}function Ot(w,gt,lt,G,H){this.good_length=w,this.max_lazy=gt,this.nice_length=lt,this.max_chain=G,this.func=H}function xe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=U,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*D),this.dyn_dtree=new f.Buf16(2*(2*K+1)),this.bl_tree=new f.Buf16(2*(2*st+1)),Ct(this.dyn_ltree),Ct(this.dyn_dtree),Ct(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(O+1),this.heap=new f.Buf16(2*Y+1),Ct(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*Y+1),Ct(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pe(w){var gt;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=R,(gt=w.state).pending=0,gt.pending_out=0,gt.wrap<0&&(gt.wrap=-gt.wrap),gt.status=gt.wrap?k:M,w.adler=gt.wrap===2?0:1,gt.last_flush=v,m._tr_init(gt),x):xt(w,V)}function en(w){var gt=pe(w);return gt===x&&(function(lt){lt.window_size=2*lt.w_size,Ct(lt.head),lt.max_lazy_match=u[lt.level].max_lazy,lt.good_match=u[lt.level].good_length,lt.nice_match=u[lt.level].nice_length,lt.max_chain_length=u[lt.level].max_chain,lt.strstart=0,lt.block_start=0,lt.lookahead=0,lt.insert=0,lt.match_length=lt.prev_length=I-1,lt.match_available=0,lt.ins_h=0})(w.state),gt}function Ze(w,gt,lt,G,H,Z){if(!w)return V;var mt=1;if(gt===E&&(gt=6),G<0?(mt=0,G=-G):15<G&&(mt=2,G-=16),H<1||L<H||lt!==U||G<8||15<G||gt<0||9<gt||Z<0||S<Z)return xt(w,V);G===8&&(G=9);var bt=new xe;return(w.state=bt).strm=w,bt.wrap=mt,bt.gzhead=null,bt.w_bits=G,bt.w_size=1<<bt.w_bits,bt.w_mask=bt.w_size-1,bt.hash_bits=H+7,bt.hash_size=1<<bt.hash_bits,bt.hash_mask=bt.hash_size-1,bt.hash_shift=~~((bt.hash_bits+I-1)/I),bt.window=new f.Buf8(2*bt.w_size),bt.head=new f.Buf16(bt.hash_size),bt.prev=new f.Buf16(bt.w_size),bt.lit_bufsize=1<<H+6,bt.pending_buf_size=4*bt.lit_bufsize,bt.pending_buf=new f.Buf8(bt.pending_buf_size),bt.d_buf=1*bt.lit_bufsize,bt.l_buf=3*bt.lit_bufsize,bt.level=gt,bt.strategy=Z,bt.method=lt,en(w)}u=[new Ot(0,0,0,0,function(w,gt){var lt=65535;for(lt>w.pending_buf_size-5&&(lt=w.pending_buf_size-5);;){if(w.lookahead<=1){if(Dt(w),w.lookahead===0&&gt===v)return N;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var G=w.block_start+lt;if((w.strstart===0||w.strstart>=G)&&(w.lookahead=w.strstart-G,w.strstart=G,q(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-F&&(q(w,!1),w.strm.avail_out===0))return N}return w.insert=0,gt===A?(q(w,!0),w.strm.avail_out===0?$:W):(w.strstart>w.block_start&&(q(w,!1),w.strm.avail_out),N)}),new Ot(4,4,8,4,Ut),new Ot(4,5,16,8,Ut),new Ot(4,6,32,32,Ut),new Ot(4,4,16,16,Vt),new Ot(8,16,32,32,Vt),new Ot(8,16,128,128,Vt),new Ot(8,32,128,256,Vt),new Ot(32,128,258,1024,Vt),new Ot(32,258,258,4096,Vt)],o.deflateInit=function(w,gt){return Ze(w,gt,U,15,8,0)},o.deflateInit2=Ze,o.deflateReset=en,o.deflateResetKeep=pe,o.deflateSetHeader=function(w,gt){return w&&w.state?w.state.wrap!==2?V:(w.state.gzhead=gt,x):V},o.deflate=function(w,gt){var lt,G,H,Z;if(!w||!w.state||5<gt||gt<0)return w?xt(w,V):V;if(G=w.state,!w.output||!w.input&&w.avail_in!==0||G.status===666&&gt!==A)return xt(w,w.avail_out===0?-5:V);if(G.strm=w,lt=G.last_flush,G.last_flush=gt,G.status===k)if(G.wrap===2)w.adler=0,ht(G,31),ht(G,139),ht(G,8),G.gzhead?(ht(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),ht(G,255&G.gzhead.time),ht(G,G.gzhead.time>>8&255),ht(G,G.gzhead.time>>16&255),ht(G,G.gzhead.time>>24&255),ht(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ht(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&(ht(G,255&G.gzhead.extra.length),ht(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(w.adler=g(w.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(ht(G,0),ht(G,0),ht(G,0),ht(G,0),ht(G,0),ht(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ht(G,3),G.status=M);else{var mt=U+(G.w_bits-8<<4)<<8;mt|=(2<=G.strategy||G.level<2?0:G.level<6?1:G.level===6?2:3)<<6,G.strstart!==0&&(mt|=32),mt+=31-mt%31,G.status=M,ut(G,mt),G.strstart!==0&&(ut(G,w.adler>>>16),ut(G,65535&w.adler)),w.adler=1}if(G.status===69)if(G.gzhead.extra){for(H=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>H&&(w.adler=g(w.adler,G.pending_buf,G.pending-H,H)),j(w),H=G.pending,G.pending!==G.pending_buf_size));)ht(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>H&&(w.adler=g(w.adler,G.pending_buf,G.pending-H,H)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(G.status===73)if(G.gzhead.name){H=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>H&&(w.adler=g(w.adler,G.pending_buf,G.pending-H,H)),j(w),H=G.pending,G.pending===G.pending_buf_size)){Z=1;break}Z=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,ht(G,Z)}while(Z!==0);G.gzhead.hcrc&&G.pending>H&&(w.adler=g(w.adler,G.pending_buf,G.pending-H,H)),Z===0&&(G.gzindex=0,G.status=91)}else G.status=91;if(G.status===91)if(G.gzhead.comment){H=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>H&&(w.adler=g(w.adler,G.pending_buf,G.pending-H,H)),j(w),H=G.pending,G.pending===G.pending_buf_size)){Z=1;break}Z=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,ht(G,Z)}while(Z!==0);G.gzhead.hcrc&&G.pending>H&&(w.adler=g(w.adler,G.pending_buf,G.pending-H,H)),Z===0&&(G.status=103)}else G.status=103;if(G.status===103&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&j(w),G.pending+2<=G.pending_buf_size&&(ht(G,255&w.adler),ht(G,w.adler>>8&255),w.adler=0,G.status=M)):G.status=M),G.pending!==0){if(j(w),w.avail_out===0)return G.last_flush=-1,x}else if(w.avail_in===0&&pt(gt)<=pt(lt)&&gt!==A)return xt(w,-5);if(G.status===666&&w.avail_in!==0)return xt(w,-5);if(w.avail_in!==0||G.lookahead!==0||gt!==v&&G.status!==666){var bt=G.strategy===2?(function(it,Tt){for(var At;;){if(it.lookahead===0&&(Dt(it),it.lookahead===0)){if(Tt===v)return N;break}if(it.match_length=0,At=m._tr_tally(it,0,it.window[it.strstart]),it.lookahead--,it.strstart++,At&&(q(it,!1),it.strm.avail_out===0))return N}return it.insert=0,Tt===A?(q(it,!0),it.strm.avail_out===0?$:W):it.last_lit&&(q(it,!1),it.strm.avail_out===0)?N:ct})(G,gt):G.strategy===3?(function(it,Tt){for(var At,wt,Mt,se,Gt=it.window;;){if(it.lookahead<=P){if(Dt(it),it.lookahead<=P&&Tt===v)return N;if(it.lookahead===0)break}if(it.match_length=0,it.lookahead>=I&&0<it.strstart&&(wt=Gt[Mt=it.strstart-1])===Gt[++Mt]&&wt===Gt[++Mt]&&wt===Gt[++Mt]){se=it.strstart+P;do;while(wt===Gt[++Mt]&&wt===Gt[++Mt]&&wt===Gt[++Mt]&&wt===Gt[++Mt]&&wt===Gt[++Mt]&&wt===Gt[++Mt]&&wt===Gt[++Mt]&&wt===Gt[++Mt]&&Mt<se);it.match_length=P-(se-Mt),it.match_length>it.lookahead&&(it.match_length=it.lookahead)}if(it.match_length>=I?(At=m._tr_tally(it,1,it.match_length-I),it.lookahead-=it.match_length,it.strstart+=it.match_length,it.match_length=0):(At=m._tr_tally(it,0,it.window[it.strstart]),it.lookahead--,it.strstart++),At&&(q(it,!1),it.strm.avail_out===0))return N}return it.insert=0,Tt===A?(q(it,!0),it.strm.avail_out===0?$:W):it.last_lit&&(q(it,!1),it.strm.avail_out===0)?N:ct})(G,gt):u[G.level].func(G,gt);if(bt!==$&&bt!==W||(G.status=666),bt===N||bt===$)return w.avail_out===0&&(G.last_flush=-1),x;if(bt===ct&&(gt===1?m._tr_align(G):gt!==5&&(m._tr_stored_block(G,0,0,!1),gt===3&&(Ct(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),j(w),w.avail_out===0))return G.last_flush=-1,x}return gt!==A?x:G.wrap<=0?1:(G.wrap===2?(ht(G,255&w.adler),ht(G,w.adler>>8&255),ht(G,w.adler>>16&255),ht(G,w.adler>>24&255),ht(G,255&w.total_in),ht(G,w.total_in>>8&255),ht(G,w.total_in>>16&255),ht(G,w.total_in>>24&255)):(ut(G,w.adler>>>16),ut(G,65535&w.adler)),j(w),0<G.wrap&&(G.wrap=-G.wrap),G.pending!==0?x:1)},o.deflateEnd=function(w){var gt;return w&&w.state?(gt=w.state.status)!==k&&gt!==69&&gt!==73&&gt!==91&&gt!==103&&gt!==M&&gt!==666?xt(w,V):(w.state=null,gt===M?xt(w,-3):x):V},o.deflateSetDictionary=function(w,gt){var lt,G,H,Z,mt,bt,it,Tt,At=gt.length;if(!w||!w.state||(Z=(lt=w.state).wrap)===2||Z===1&&lt.status!==k||lt.lookahead)return V;for(Z===1&&(w.adler=p(w.adler,gt,At,0)),lt.wrap=0,At>=lt.w_size&&(Z===0&&(Ct(lt.head),lt.strstart=0,lt.block_start=0,lt.insert=0),Tt=new f.Buf8(lt.w_size),f.arraySet(Tt,gt,At-lt.w_size,lt.w_size,0),gt=Tt,At=lt.w_size),mt=w.avail_in,bt=w.next_in,it=w.input,w.avail_in=At,w.next_in=0,w.input=gt,Dt(lt);lt.lookahead>=I;){for(G=lt.strstart,H=lt.lookahead-(I-1);lt.ins_h=(lt.ins_h<<lt.hash_shift^lt.window[G+I-1])&lt.hash_mask,lt.prev[G&lt.w_mask]=lt.head[lt.ins_h],lt.head[lt.ins_h]=G,G++,--H;);lt.strstart=G,lt.lookahead=I-1,Dt(lt)}return lt.strstart+=lt.lookahead,lt.block_start=lt.strstart,lt.insert=lt.lookahead,lt.lookahead=0,lt.match_length=lt.prev_length=I-1,lt.match_available=0,w.next_in=bt,w.input=it,w.avail_in=mt,lt.wrap=Z,x},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,s,o){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,s,o){s.exports=function(u,f){var m,p,g,b,v,A,x,V,E,S,R,U,L,Y,K,st,D,O,I,P,F,k,M,N,ct;m=u.state,p=u.next_in,N=u.input,g=p+(u.avail_in-5),b=u.next_out,ct=u.output,v=b-(f-u.avail_out),A=b+(u.avail_out-257),x=m.dmax,V=m.wsize,E=m.whave,S=m.wnext,R=m.window,U=m.hold,L=m.bits,Y=m.lencode,K=m.distcode,st=(1<<m.lenbits)-1,D=(1<<m.distbits)-1;t:do{L<15&&(U+=N[p++]<<L,L+=8,U+=N[p++]<<L,L+=8),O=Y[U&st];e:for(;;){if(U>>>=I=O>>>24,L-=I,(I=O>>>16&255)===0)ct[b++]=65535&O;else{if(!(16&I)){if((64&I)==0){O=Y[(65535&O)+(U&(1<<I)-1)];continue e}if(32&I){m.mode=12;break t}u.msg="invalid literal/length code",m.mode=30;break t}P=65535&O,(I&=15)&&(L<I&&(U+=N[p++]<<L,L+=8),P+=U&(1<<I)-1,U>>>=I,L-=I),L<15&&(U+=N[p++]<<L,L+=8,U+=N[p++]<<L,L+=8),O=K[U&D];n:for(;;){if(U>>>=I=O>>>24,L-=I,!(16&(I=O>>>16&255))){if((64&I)==0){O=K[(65535&O)+(U&(1<<I)-1)];continue n}u.msg="invalid distance code",m.mode=30;break t}if(F=65535&O,L<(I&=15)&&(U+=N[p++]<<L,(L+=8)<I&&(U+=N[p++]<<L,L+=8)),x<(F+=U&(1<<I)-1)){u.msg="invalid distance too far back",m.mode=30;break t}if(U>>>=I,L-=I,(I=b-v)<F){if(E<(I=F-I)&&m.sane){u.msg="invalid distance too far back",m.mode=30;break t}if(M=R,(k=0)===S){if(k+=V-I,I<P){for(P-=I;ct[b++]=R[k++],--I;);k=b-F,M=ct}}else if(S<I){if(k+=V+S-I,(I-=S)<P){for(P-=I;ct[b++]=R[k++],--I;);if(k=0,S<P){for(P-=I=S;ct[b++]=R[k++],--I;);k=b-F,M=ct}}}else if(k+=S-I,I<P){for(P-=I;ct[b++]=R[k++],--I;);k=b-F,M=ct}for(;2<P;)ct[b++]=M[k++],ct[b++]=M[k++],ct[b++]=M[k++],P-=3;P&&(ct[b++]=M[k++],1<P&&(ct[b++]=M[k++]))}else{for(k=b-F;ct[b++]=ct[k++],ct[b++]=ct[k++],ct[b++]=ct[k++],2<(P-=3););P&&(ct[b++]=ct[k++],1<P&&(ct[b++]=ct[k++]))}break}}break}}while(p<g&&b<A);p-=P=L>>3,U&=(1<<(L-=P<<3))-1,u.next_in=p,u.next_out=b,u.avail_in=p<g?g-p+5:5-(p-g),u.avail_out=b<A?A-b+257:257-(b-A),m.hold=U,m.bits=L}},{}],49:[function(i,s,o){var u=i("../utils/common"),f=i("./adler32"),m=i("./crc32"),p=i("./inffast"),g=i("./inftrees"),b=1,v=2,A=0,x=-2,V=1,E=852,S=592;function R(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function U(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function L(k){var M;return k&&k.state?(M=k.state,k.total_in=k.total_out=M.total=0,k.msg="",M.wrap&&(k.adler=1&M.wrap),M.mode=V,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new u.Buf32(E),M.distcode=M.distdyn=new u.Buf32(S),M.sane=1,M.back=-1,A):x}function Y(k){var M;return k&&k.state?((M=k.state).wsize=0,M.whave=0,M.wnext=0,L(k)):x}function K(k,M){var N,ct;return k&&k.state?(ct=k.state,M<0?(N=0,M=-M):(N=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?x:(ct.window!==null&&ct.wbits!==M&&(ct.window=null),ct.wrap=N,ct.wbits=M,Y(k))):x}function st(k,M){var N,ct;return k?(ct=new U,(k.state=ct).window=null,(N=K(k,M))!==A&&(k.state=null),N):x}var D,O,I=!0;function P(k){if(I){var M;for(D=new u.Buf32(512),O=new u.Buf32(32),M=0;M<144;)k.lens[M++]=8;for(;M<256;)k.lens[M++]=9;for(;M<280;)k.lens[M++]=7;for(;M<288;)k.lens[M++]=8;for(g(b,k.lens,0,288,D,0,k.work,{bits:9}),M=0;M<32;)k.lens[M++]=5;g(v,k.lens,0,32,O,0,k.work,{bits:5}),I=!1}k.lencode=D,k.lenbits=9,k.distcode=O,k.distbits=5}function F(k,M,N,ct){var $,W=k.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new u.Buf8(W.wsize)),ct>=W.wsize?(u.arraySet(W.window,M,N-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(ct<($=W.wsize-W.wnext)&&($=ct),u.arraySet(W.window,M,N-ct,$,W.wnext),(ct-=$)?(u.arraySet(W.window,M,N-ct,ct,0),W.wnext=ct,W.whave=W.wsize):(W.wnext+=$,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=$))),0}o.inflateReset=Y,o.inflateReset2=K,o.inflateResetKeep=L,o.inflateInit=function(k){return st(k,15)},o.inflateInit2=st,o.inflate=function(k,M){var N,ct,$,W,xt,pt,Ct,j,q,ht,ut,dt,Dt,Ut,Vt,Ot,xe,pe,en,Ze,w,gt,lt,G,H=0,Z=new u.Buf8(4),mt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return x;(N=k.state).mode===12&&(N.mode=13),xt=k.next_out,$=k.output,Ct=k.avail_out,W=k.next_in,ct=k.input,pt=k.avail_in,j=N.hold,q=N.bits,ht=pt,ut=Ct,gt=A;t:for(;;)switch(N.mode){case V:if(N.wrap===0){N.mode=13;break}for(;q<16;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}if(2&N.wrap&&j===35615){Z[N.check=0]=255&j,Z[1]=j>>>8&255,N.check=m(N.check,Z,2,0),q=j=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&j)<<8)+(j>>8))%31){k.msg="incorrect header check",N.mode=30;break}if((15&j)!=8){k.msg="unknown compression method",N.mode=30;break}if(q-=4,w=8+(15&(j>>>=4)),N.wbits===0)N.wbits=w;else if(w>N.wbits){k.msg="invalid window size",N.mode=30;break}N.dmax=1<<w,k.adler=N.check=1,N.mode=512&j?10:12,q=j=0;break;case 2:for(;q<16;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}if(N.flags=j,(255&N.flags)!=8){k.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){k.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=j>>8&1),512&N.flags&&(Z[0]=255&j,Z[1]=j>>>8&255,N.check=m(N.check,Z,2,0)),q=j=0,N.mode=3;case 3:for(;q<32;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}N.head&&(N.head.time=j),512&N.flags&&(Z[0]=255&j,Z[1]=j>>>8&255,Z[2]=j>>>16&255,Z[3]=j>>>24&255,N.check=m(N.check,Z,4,0)),q=j=0,N.mode=4;case 4:for(;q<16;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}N.head&&(N.head.xflags=255&j,N.head.os=j>>8),512&N.flags&&(Z[0]=255&j,Z[1]=j>>>8&255,N.check=m(N.check,Z,2,0)),q=j=0,N.mode=5;case 5:if(1024&N.flags){for(;q<16;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}N.length=j,N.head&&(N.head.extra_len=j),512&N.flags&&(Z[0]=255&j,Z[1]=j>>>8&255,N.check=m(N.check,Z,2,0)),q=j=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(pt<(dt=N.length)&&(dt=pt),dt&&(N.head&&(w=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),u.arraySet(N.head.extra,ct,W,dt,w)),512&N.flags&&(N.check=m(N.check,ct,dt,W)),pt-=dt,W+=dt,N.length-=dt),N.length))break t;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(pt===0)break t;for(dt=0;w=ct[W+dt++],N.head&&w&&N.length<65536&&(N.head.name+=String.fromCharCode(w)),w&&dt<pt;);if(512&N.flags&&(N.check=m(N.check,ct,dt,W)),pt-=dt,W+=dt,w)break t}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(pt===0)break t;for(dt=0;w=ct[W+dt++],N.head&&w&&N.length<65536&&(N.head.comment+=String.fromCharCode(w)),w&&dt<pt;);if(512&N.flags&&(N.check=m(N.check,ct,dt,W)),pt-=dt,W+=dt,w)break t}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;q<16;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}if(j!==(65535&N.check)){k.msg="header crc mismatch",N.mode=30;break}q=j=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),k.adler=N.check=0,N.mode=12;break;case 10:for(;q<32;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}k.adler=N.check=R(j),q=j=0,N.mode=11;case 11:if(N.havedict===0)return k.next_out=xt,k.avail_out=Ct,k.next_in=W,k.avail_in=pt,N.hold=j,N.bits=q,2;k.adler=N.check=1,N.mode=12;case 12:if(M===5||M===6)break t;case 13:if(N.last){j>>>=7&q,q-=7&q,N.mode=27;break}for(;q<3;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}switch(N.last=1&j,q-=1,3&(j>>>=1)){case 0:N.mode=14;break;case 1:if(P(N),N.mode=20,M!==6)break;j>>>=2,q-=2;break t;case 2:N.mode=17;break;case 3:k.msg="invalid block type",N.mode=30}j>>>=2,q-=2;break;case 14:for(j>>>=7&q,q-=7&q;q<32;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}if((65535&j)!=(j>>>16^65535)){k.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&j,q=j=0,N.mode=15,M===6)break t;case 15:N.mode=16;case 16:if(dt=N.length){if(pt<dt&&(dt=pt),Ct<dt&&(dt=Ct),dt===0)break t;u.arraySet($,ct,W,dt,xt),pt-=dt,W+=dt,Ct-=dt,xt+=dt,N.length-=dt;break}N.mode=12;break;case 17:for(;q<14;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}if(N.nlen=257+(31&j),j>>>=5,q-=5,N.ndist=1+(31&j),j>>>=5,q-=5,N.ncode=4+(15&j),j>>>=4,q-=4,286<N.nlen||30<N.ndist){k.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;q<3;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}N.lens[mt[N.have++]]=7&j,j>>>=3,q-=3}for(;N.have<19;)N.lens[mt[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,lt={bits:N.lenbits},gt=g(0,N.lens,0,19,N.lencode,0,N.work,lt),N.lenbits=lt.bits,gt){k.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;Ot=(H=N.lencode[j&(1<<N.lenbits)-1])>>>16&255,xe=65535&H,!((Vt=H>>>24)<=q);){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}if(xe<16)j>>>=Vt,q-=Vt,N.lens[N.have++]=xe;else{if(xe===16){for(G=Vt+2;q<G;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}if(j>>>=Vt,q-=Vt,N.have===0){k.msg="invalid bit length repeat",N.mode=30;break}w=N.lens[N.have-1],dt=3+(3&j),j>>>=2,q-=2}else if(xe===17){for(G=Vt+3;q<G;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}q-=Vt,w=0,dt=3+(7&(j>>>=Vt)),j>>>=3,q-=3}else{for(G=Vt+7;q<G;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}q-=Vt,w=0,dt=11+(127&(j>>>=Vt)),j>>>=7,q-=7}if(N.have+dt>N.nlen+N.ndist){k.msg="invalid bit length repeat",N.mode=30;break}for(;dt--;)N.lens[N.have++]=w}}if(N.mode===30)break;if(N.lens[256]===0){k.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,lt={bits:N.lenbits},gt=g(b,N.lens,0,N.nlen,N.lencode,0,N.work,lt),N.lenbits=lt.bits,gt){k.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,lt={bits:N.distbits},gt=g(v,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,lt),N.distbits=lt.bits,gt){k.msg="invalid distances set",N.mode=30;break}if(N.mode=20,M===6)break t;case 20:N.mode=21;case 21:if(6<=pt&&258<=Ct){k.next_out=xt,k.avail_out=Ct,k.next_in=W,k.avail_in=pt,N.hold=j,N.bits=q,p(k,ut),xt=k.next_out,$=k.output,Ct=k.avail_out,W=k.next_in,ct=k.input,pt=k.avail_in,j=N.hold,q=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;Ot=(H=N.lencode[j&(1<<N.lenbits)-1])>>>16&255,xe=65535&H,!((Vt=H>>>24)<=q);){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}if(Ot&&(240&Ot)==0){for(pe=Vt,en=Ot,Ze=xe;Ot=(H=N.lencode[Ze+((j&(1<<pe+en)-1)>>pe)])>>>16&255,xe=65535&H,!(pe+(Vt=H>>>24)<=q);){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}j>>>=pe,q-=pe,N.back+=pe}if(j>>>=Vt,q-=Vt,N.back+=Vt,N.length=xe,Ot===0){N.mode=26;break}if(32&Ot){N.back=-1,N.mode=12;break}if(64&Ot){k.msg="invalid literal/length code",N.mode=30;break}N.extra=15&Ot,N.mode=22;case 22:if(N.extra){for(G=N.extra;q<G;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}N.length+=j&(1<<N.extra)-1,j>>>=N.extra,q-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;Ot=(H=N.distcode[j&(1<<N.distbits)-1])>>>16&255,xe=65535&H,!((Vt=H>>>24)<=q);){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}if((240&Ot)==0){for(pe=Vt,en=Ot,Ze=xe;Ot=(H=N.distcode[Ze+((j&(1<<pe+en)-1)>>pe)])>>>16&255,xe=65535&H,!(pe+(Vt=H>>>24)<=q);){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}j>>>=pe,q-=pe,N.back+=pe}if(j>>>=Vt,q-=Vt,N.back+=Vt,64&Ot){k.msg="invalid distance code",N.mode=30;break}N.offset=xe,N.extra=15&Ot,N.mode=24;case 24:if(N.extra){for(G=N.extra;q<G;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}N.offset+=j&(1<<N.extra)-1,j>>>=N.extra,q-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){k.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(Ct===0)break t;if(dt=ut-Ct,N.offset>dt){if((dt=N.offset-dt)>N.whave&&N.sane){k.msg="invalid distance too far back",N.mode=30;break}Dt=dt>N.wnext?(dt-=N.wnext,N.wsize-dt):N.wnext-dt,dt>N.length&&(dt=N.length),Ut=N.window}else Ut=$,Dt=xt-N.offset,dt=N.length;for(Ct<dt&&(dt=Ct),Ct-=dt,N.length-=dt;$[xt++]=Ut[Dt++],--dt;);N.length===0&&(N.mode=21);break;case 26:if(Ct===0)break t;$[xt++]=N.length,Ct--,N.mode=21;break;case 27:if(N.wrap){for(;q<32;){if(pt===0)break t;pt--,j|=ct[W++]<<q,q+=8}if(ut-=Ct,k.total_out+=ut,N.total+=ut,ut&&(k.adler=N.check=N.flags?m(N.check,$,ut,xt-ut):f(N.check,$,ut,xt-ut)),ut=Ct,(N.flags?j:R(j))!==N.check){k.msg="incorrect data check",N.mode=30;break}q=j=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;q<32;){if(pt===0)break t;pt--,j+=ct[W++]<<q,q+=8}if(j!==(4294967295&N.total)){k.msg="incorrect length check",N.mode=30;break}q=j=0}N.mode=29;case 29:gt=1;break t;case 30:gt=-3;break t;case 31:return-4;case 32:default:return x}return k.next_out=xt,k.avail_out=Ct,k.next_in=W,k.avail_in=pt,N.hold=j,N.bits=q,(N.wsize||ut!==k.avail_out&&N.mode<30&&(N.mode<27||M!==4))&&F(k,k.output,k.next_out,ut-k.avail_out)?(N.mode=31,-4):(ht-=k.avail_in,ut-=k.avail_out,k.total_in+=ht,k.total_out+=ut,N.total+=ut,N.wrap&&ut&&(k.adler=N.check=N.flags?m(N.check,$,ut,k.next_out-ut):f(N.check,$,ut,k.next_out-ut)),k.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(ht==0&&ut===0||M===4)&&gt===A&&(gt=-5),gt)},o.inflateEnd=function(k){if(!k||!k.state)return x;var M=k.state;return M.window&&(M.window=null),k.state=null,A},o.inflateGetHeader=function(k,M){var N;return k&&k.state?(2&(N=k.state).wrap)==0?x:((N.head=M).done=!1,A):x},o.inflateSetDictionary=function(k,M){var N,ct=M.length;return k&&k.state?(N=k.state).wrap!==0&&N.mode!==11?x:N.mode===11&&f(1,M,ct,0)!==N.check?-3:F(k,M,ct,ct)?(N.mode=31,-4):(N.havedict=1,A):x},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,s,o){var u=i("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(b,v,A,x,V,E,S,R){var U,L,Y,K,st,D,O,I,P,F=R.bits,k=0,M=0,N=0,ct=0,$=0,W=0,xt=0,pt=0,Ct=0,j=0,q=null,ht=0,ut=new u.Buf16(16),dt=new u.Buf16(16),Dt=null,Ut=0;for(k=0;k<=15;k++)ut[k]=0;for(M=0;M<x;M++)ut[v[A+M]]++;for($=F,ct=15;1<=ct&&ut[ct]===0;ct--);if(ct<$&&($=ct),ct===0)return V[E++]=20971520,V[E++]=20971520,R.bits=1,0;for(N=1;N<ct&&ut[N]===0;N++);for($<N&&($=N),k=pt=1;k<=15;k++)if(pt<<=1,(pt-=ut[k])<0)return-1;if(0<pt&&(b===0||ct!==1))return-1;for(dt[1]=0,k=1;k<15;k++)dt[k+1]=dt[k]+ut[k];for(M=0;M<x;M++)v[A+M]!==0&&(S[dt[v[A+M]]++]=M);if(D=b===0?(q=Dt=S,19):b===1?(q=f,ht-=257,Dt=m,Ut-=257,256):(q=p,Dt=g,-1),k=N,st=E,xt=M=j=0,Y=-1,K=(Ct=1<<(W=$))-1,b===1&&852<Ct||b===2&&592<Ct)return 1;for(;;){for(O=k-xt,P=S[M]<D?(I=0,S[M]):S[M]>D?(I=Dt[Ut+S[M]],q[ht+S[M]]):(I=96,0),U=1<<k-xt,N=L=1<<W;V[st+(j>>xt)+(L-=U)]=O<<24|I<<16|P|0,L!==0;);for(U=1<<k-1;j&U;)U>>=1;if(U!==0?(j&=U-1,j+=U):j=0,M++,--ut[k]==0){if(k===ct)break;k=v[A+S[M]]}if($<k&&(j&K)!==Y){for(xt===0&&(xt=$),st+=N,pt=1<<(W=k-xt);W+xt<ct&&!((pt-=ut[W+xt])<=0);)W++,pt<<=1;if(Ct+=1<<W,b===1&&852<Ct||b===2&&592<Ct)return 1;V[Y=j&K]=$<<24|W<<16|st-E|0}}return j!==0&&(V[st+j]=k-xt<<24|64<<16|0),R.bits=$,0}},{"../utils/common":41}],51:[function(i,s,o){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,s,o){var u=i("../utils/common"),f=0,m=1;function p(H){for(var Z=H.length;0<=--Z;)H[Z]=0}var g=0,b=29,v=256,A=v+1+b,x=30,V=19,E=2*A+1,S=15,R=16,U=7,L=256,Y=16,K=17,st=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(A+2));p(F);var k=new Array(2*x);p(k);var M=new Array(512);p(M);var N=new Array(256);p(N);var ct=new Array(b);p(ct);var $,W,xt,pt=new Array(x);function Ct(H,Z,mt,bt,it){this.static_tree=H,this.extra_bits=Z,this.extra_base=mt,this.elems=bt,this.max_length=it,this.has_stree=H&&H.length}function j(H,Z){this.dyn_tree=H,this.max_code=0,this.stat_desc=Z}function q(H){return H<256?M[H]:M[256+(H>>>7)]}function ht(H,Z){H.pending_buf[H.pending++]=255&Z,H.pending_buf[H.pending++]=Z>>>8&255}function ut(H,Z,mt){H.bi_valid>R-mt?(H.bi_buf|=Z<<H.bi_valid&65535,ht(H,H.bi_buf),H.bi_buf=Z>>R-H.bi_valid,H.bi_valid+=mt-R):(H.bi_buf|=Z<<H.bi_valid&65535,H.bi_valid+=mt)}function dt(H,Z,mt){ut(H,mt[2*Z],mt[2*Z+1])}function Dt(H,Z){for(var mt=0;mt|=1&H,H>>>=1,mt<<=1,0<--Z;);return mt>>>1}function Ut(H,Z,mt){var bt,it,Tt=new Array(S+1),At=0;for(bt=1;bt<=S;bt++)Tt[bt]=At=At+mt[bt-1]<<1;for(it=0;it<=Z;it++){var wt=H[2*it+1];wt!==0&&(H[2*it]=Dt(Tt[wt]++,wt))}}function Vt(H){var Z;for(Z=0;Z<A;Z++)H.dyn_ltree[2*Z]=0;for(Z=0;Z<x;Z++)H.dyn_dtree[2*Z]=0;for(Z=0;Z<V;Z++)H.bl_tree[2*Z]=0;H.dyn_ltree[2*L]=1,H.opt_len=H.static_len=0,H.last_lit=H.matches=0}function Ot(H){8<H.bi_valid?ht(H,H.bi_buf):0<H.bi_valid&&(H.pending_buf[H.pending++]=H.bi_buf),H.bi_buf=0,H.bi_valid=0}function xe(H,Z,mt,bt){var it=2*Z,Tt=2*mt;return H[it]<H[Tt]||H[it]===H[Tt]&&bt[Z]<=bt[mt]}function pe(H,Z,mt){for(var bt=H.heap[mt],it=mt<<1;it<=H.heap_len&&(it<H.heap_len&&xe(Z,H.heap[it+1],H.heap[it],H.depth)&&it++,!xe(Z,bt,H.heap[it],H.depth));)H.heap[mt]=H.heap[it],mt=it,it<<=1;H.heap[mt]=bt}function en(H,Z,mt){var bt,it,Tt,At,wt=0;if(H.last_lit!==0)for(;bt=H.pending_buf[H.d_buf+2*wt]<<8|H.pending_buf[H.d_buf+2*wt+1],it=H.pending_buf[H.l_buf+wt],wt++,bt===0?dt(H,it,Z):(dt(H,(Tt=N[it])+v+1,Z),(At=D[Tt])!==0&&ut(H,it-=ct[Tt],At),dt(H,Tt=q(--bt),mt),(At=O[Tt])!==0&&ut(H,bt-=pt[Tt],At)),wt<H.last_lit;);dt(H,L,Z)}function Ze(H,Z){var mt,bt,it,Tt=Z.dyn_tree,At=Z.stat_desc.static_tree,wt=Z.stat_desc.has_stree,Mt=Z.stat_desc.elems,se=-1;for(H.heap_len=0,H.heap_max=E,mt=0;mt<Mt;mt++)Tt[2*mt]!==0?(H.heap[++H.heap_len]=se=mt,H.depth[mt]=0):Tt[2*mt+1]=0;for(;H.heap_len<2;)Tt[2*(it=H.heap[++H.heap_len]=se<2?++se:0)]=1,H.depth[it]=0,H.opt_len--,wt&&(H.static_len-=At[2*it+1]);for(Z.max_code=se,mt=H.heap_len>>1;1<=mt;mt--)pe(H,Tt,mt);for(it=Mt;mt=H.heap[1],H.heap[1]=H.heap[H.heap_len--],pe(H,Tt,1),bt=H.heap[1],H.heap[--H.heap_max]=mt,H.heap[--H.heap_max]=bt,Tt[2*it]=Tt[2*mt]+Tt[2*bt],H.depth[it]=(H.depth[mt]>=H.depth[bt]?H.depth[mt]:H.depth[bt])+1,Tt[2*mt+1]=Tt[2*bt+1]=it,H.heap[1]=it++,pe(H,Tt,1),2<=H.heap_len;);H.heap[--H.heap_max]=H.heap[1],(function(Gt,fn){var di,yn,mi,ae,ke,dn,oe=fn.dyn_tree,ss=fn.max_code,da=fn.stat_desc.static_tree,Bs=fn.stat_desc.has_stree,Pn=fn.stat_desc.extra_bits,pi=fn.stat_desc.extra_base,Te=fn.stat_desc.max_length,vn=0;for(ae=0;ae<=S;ae++)Gt.bl_count[ae]=0;for(oe[2*Gt.heap[Gt.heap_max]+1]=0,di=Gt.heap_max+1;di<E;di++)Te<(ae=oe[2*oe[2*(yn=Gt.heap[di])+1]+1]+1)&&(ae=Te,vn++),oe[2*yn+1]=ae,ss<yn||(Gt.bl_count[ae]++,ke=0,pi<=yn&&(ke=Pn[yn-pi]),dn=oe[2*yn],Gt.opt_len+=dn*(ae+ke),Bs&&(Gt.static_len+=dn*(da[2*yn+1]+ke)));if(vn!==0){do{for(ae=Te-1;Gt.bl_count[ae]===0;)ae--;Gt.bl_count[ae]--,Gt.bl_count[ae+1]+=2,Gt.bl_count[Te]--,vn-=2}while(0<vn);for(ae=Te;ae!==0;ae--)for(yn=Gt.bl_count[ae];yn!==0;)ss<(mi=Gt.heap[--di])||(oe[2*mi+1]!==ae&&(Gt.opt_len+=(ae-oe[2*mi+1])*oe[2*mi],oe[2*mi+1]=ae),yn--)}})(H,Z),Ut(Tt,se,H.bl_count)}function w(H,Z,mt){var bt,it,Tt=-1,At=Z[1],wt=0,Mt=7,se=4;for(At===0&&(Mt=138,se=3),Z[2*(mt+1)+1]=65535,bt=0;bt<=mt;bt++)it=At,At=Z[2*(bt+1)+1],++wt<Mt&&it===At||(wt<se?H.bl_tree[2*it]+=wt:it!==0?(it!==Tt&&H.bl_tree[2*it]++,H.bl_tree[2*Y]++):wt<=10?H.bl_tree[2*K]++:H.bl_tree[2*st]++,Tt=it,se=(wt=0)===At?(Mt=138,3):it===At?(Mt=6,3):(Mt=7,4))}function gt(H,Z,mt){var bt,it,Tt=-1,At=Z[1],wt=0,Mt=7,se=4;for(At===0&&(Mt=138,se=3),bt=0;bt<=mt;bt++)if(it=At,At=Z[2*(bt+1)+1],!(++wt<Mt&&it===At)){if(wt<se)for(;dt(H,it,H.bl_tree),--wt!=0;);else it!==0?(it!==Tt&&(dt(H,it,H.bl_tree),wt--),dt(H,Y,H.bl_tree),ut(H,wt-3,2)):wt<=10?(dt(H,K,H.bl_tree),ut(H,wt-3,3)):(dt(H,st,H.bl_tree),ut(H,wt-11,7));Tt=it,se=(wt=0)===At?(Mt=138,3):it===At?(Mt=6,3):(Mt=7,4)}}p(pt);var lt=!1;function G(H,Z,mt,bt){ut(H,(g<<1)+(bt?1:0),3),(function(it,Tt,At,wt){Ot(it),ht(it,At),ht(it,~At),u.arraySet(it.pending_buf,it.window,Tt,At,it.pending),it.pending+=At})(H,Z,mt)}o._tr_init=function(H){lt||((function(){var Z,mt,bt,it,Tt,At=new Array(S+1);for(it=bt=0;it<b-1;it++)for(ct[it]=bt,Z=0;Z<1<<D[it];Z++)N[bt++]=it;for(N[bt-1]=it,it=Tt=0;it<16;it++)for(pt[it]=Tt,Z=0;Z<1<<O[it];Z++)M[Tt++]=it;for(Tt>>=7;it<x;it++)for(pt[it]=Tt<<7,Z=0;Z<1<<O[it]-7;Z++)M[256+Tt++]=it;for(mt=0;mt<=S;mt++)At[mt]=0;for(Z=0;Z<=143;)F[2*Z+1]=8,Z++,At[8]++;for(;Z<=255;)F[2*Z+1]=9,Z++,At[9]++;for(;Z<=279;)F[2*Z+1]=7,Z++,At[7]++;for(;Z<=287;)F[2*Z+1]=8,Z++,At[8]++;for(Ut(F,A+1,At),Z=0;Z<x;Z++)k[2*Z+1]=5,k[2*Z]=Dt(Z,5);$=new Ct(F,D,v+1,A,S),W=new Ct(k,O,0,x,S),xt=new Ct(new Array(0),I,0,V,U)})(),lt=!0),H.l_desc=new j(H.dyn_ltree,$),H.d_desc=new j(H.dyn_dtree,W),H.bl_desc=new j(H.bl_tree,xt),H.bi_buf=0,H.bi_valid=0,Vt(H)},o._tr_stored_block=G,o._tr_flush_block=function(H,Z,mt,bt){var it,Tt,At=0;0<H.level?(H.strm.data_type===2&&(H.strm.data_type=(function(wt){var Mt,se=4093624447;for(Mt=0;Mt<=31;Mt++,se>>>=1)if(1&se&&wt.dyn_ltree[2*Mt]!==0)return f;if(wt.dyn_ltree[18]!==0||wt.dyn_ltree[20]!==0||wt.dyn_ltree[26]!==0)return m;for(Mt=32;Mt<v;Mt++)if(wt.dyn_ltree[2*Mt]!==0)return m;return f})(H)),Ze(H,H.l_desc),Ze(H,H.d_desc),At=(function(wt){var Mt;for(w(wt,wt.dyn_ltree,wt.l_desc.max_code),w(wt,wt.dyn_dtree,wt.d_desc.max_code),Ze(wt,wt.bl_desc),Mt=V-1;3<=Mt&&wt.bl_tree[2*P[Mt]+1]===0;Mt--);return wt.opt_len+=3*(Mt+1)+5+5+4,Mt})(H),it=H.opt_len+3+7>>>3,(Tt=H.static_len+3+7>>>3)<=it&&(it=Tt)):it=Tt=mt+5,mt+4<=it&&Z!==-1?G(H,Z,mt,bt):H.strategy===4||Tt===it?(ut(H,2+(bt?1:0),3),en(H,F,k)):(ut(H,4+(bt?1:0),3),(function(wt,Mt,se,Gt){var fn;for(ut(wt,Mt-257,5),ut(wt,se-1,5),ut(wt,Gt-4,4),fn=0;fn<Gt;fn++)ut(wt,wt.bl_tree[2*P[fn]+1],3);gt(wt,wt.dyn_ltree,Mt-1),gt(wt,wt.dyn_dtree,se-1)})(H,H.l_desc.max_code+1,H.d_desc.max_code+1,At+1),en(H,H.dyn_ltree,H.dyn_dtree)),Vt(H),bt&&Ot(H)},o._tr_tally=function(H,Z,mt){return H.pending_buf[H.d_buf+2*H.last_lit]=Z>>>8&255,H.pending_buf[H.d_buf+2*H.last_lit+1]=255&Z,H.pending_buf[H.l_buf+H.last_lit]=255&mt,H.last_lit++,Z===0?H.dyn_ltree[2*mt]++:(H.matches++,Z--,H.dyn_ltree[2*(N[mt]+v+1)]++,H.dyn_dtree[2*q(Z)]++),H.last_lit===H.lit_bufsize-1},o._tr_align=function(H){ut(H,2,3),dt(H,L,F),(function(Z){Z.bi_valid===16?(ht(Z,Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0):8<=Z.bi_valid&&(Z.pending_buf[Z.pending++]=255&Z.bi_buf,Z.bi_buf>>=8,Z.bi_valid-=8)})(H)}},{"../utils/common":41}],53:[function(i,s,o){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,s,o){(function(u){(function(f,m){if(!f.setImmediate){var p,g,b,v,A=1,x={},V=!1,E=f.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(f);S=S&&S.setTimeout?S:f,p={}.toString.call(f.process)==="[object process]"?function(Y){process.nextTick(function(){U(Y)})}:(function(){if(f.postMessage&&!f.importScripts){var Y=!0,K=f.onmessage;return f.onmessage=function(){Y=!1},f.postMessage("","*"),f.onmessage=K,Y}})()?(v="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",L,!1):f.attachEvent("onmessage",L),function(Y){f.postMessage(v+Y,"*")}):f.MessageChannel?((b=new MessageChannel).port1.onmessage=function(Y){U(Y.data)},function(Y){b.port2.postMessage(Y)}):E&&"onreadystatechange"in E.createElement("script")?(g=E.documentElement,function(Y){var K=E.createElement("script");K.onreadystatechange=function(){U(Y),K.onreadystatechange=null,g.removeChild(K),K=null},g.appendChild(K)}):function(Y){setTimeout(U,0,Y)},S.setImmediate=function(Y){typeof Y!="function"&&(Y=new Function(""+Y));for(var K=new Array(arguments.length-1),st=0;st<K.length;st++)K[st]=arguments[st+1];var D={callback:Y,args:K};return x[A]=D,p(A),A++},S.clearImmediate=R}function R(Y){delete x[Y]}function U(Y){if(V)setTimeout(U,0,Y);else{var K=x[Y];if(K){V=!0;try{(function(st){var D=st.callback,O=st.args;switch(O.length){case 0:D();break;case 1:D(O[0]);break;case 2:D(O[0],O[1]);break;case 3:D(O[0],O[1],O[2]);break;default:D.apply(m,O)}})(K)}finally{R(Y),V=!1}}}}function L(Y){Y.source===f&&typeof Y.data=="string"&&Y.data.indexOf(v)===0&&U(+Y.data.slice(v.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Lf)),Lf.exports}var z2=O2();const V2=T2(z2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U2=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),P_=r=>{const e=U2(r);return e.charAt(0).toUpperCase()+e.slice(1)},n0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),B2=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=qt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>qt.createElement("svg",{ref:p,...L2,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:n0("lucide",o),...!u&&!B2(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,b])=>qt.createElement(g,b)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(r,e)=>{const i=qt.forwardRef(({className:s,...o},u)=>qt.createElement(P2,{ref:u,iconNode:e,className:n0(`lucide-${j2(P_(r))}`,`lucide-${r}`,s),...o}));return i.displayName=P_(r),i};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],H_=be("activity",H2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],F2=be("arrow-down",q2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],i0=be("arrow-left",G2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Y2=be("arrow-up",Q2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],X2=be("chart-pie",K2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zi=be("chevron-down",Z2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],oa=be("chevron-up",J2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Wf=be("crosshair",$2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],tb=be("file-braces",W2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351",key:"1k2beg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],nb=be("file-pen-line",eb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],q_=be("gamepad-2",ib);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],F_=be("layout-dashboard",ab);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],rb=be("layout-grid",sb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],a0=be("list",lb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ub=be("log-out",ob);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],s0=be("refresh-cw",cb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fb=be("save",hb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],mb=be("scale",db);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ec=be("search",pb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_b=be("shield",gb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],td=be("swords",yb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ed=be("trash-2",vb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Eb=be("trophy",bb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],G_=be("upload",xb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nd=be("user-cog",Tb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],nc=be("users-round",wb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],id=be("users",Sb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ad=be("x",Ab),Cb=()=>{};var Q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Rb=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[i++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[i++],f=r[i++],m=r[i++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[i++],f=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},l0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,b=u>>2,v=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,x=g&63;p||(x=64,f||(A=64)),s.push(i[b],i[v],i[A],i[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(r0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Rb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const g=o<r.length?i[r.charAt(o)]:64;++o;const v=o<r.length?i[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||v==null)throw new Nb;const A=u<<2|m>>4;if(s.push(A),g!==64){const x=m<<4&240|g>>2;if(s.push(x),v!==64){const V=g<<6&192|v;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Db=function(r){const e=r0(r);return l0.encodeByteArray(e,!0)},ic=function(r){return Db(r).replace(/\./g,"")},kb=function(r){try{return l0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=()=>Ib().__FIREBASE_DEFAULTS__,Ob=()=>{if(typeof process>"u"||typeof Q_>"u")return;const r=Q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&kb(r[1]);return e&&JSON.parse(e)},Rd=()=>{try{return Cb()||Mb()||Ob()||zb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Vb=r=>{var e,i;return(i=(e=Rd())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},jb=r=>{const e=Vb(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},o0=()=>{var r;return(r=Rd())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bb(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ic(JSON.stringify(i)),ic(JSON.stringify(f)),""].join(".")}const Jl={};function Pb(){const r={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?r.emulator.push(e):r.prod.push(e);return r}function Hb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Y_=!1;function qb(r,e){if(typeof window>"u"||typeof document>"u"||!Nd(window.location.host)||Jl[r]===e||Jl[r]||Y_)return;Jl[r]=e;function i(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=Pb().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,x){A.setAttribute("width","24"),A.setAttribute("id",x),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Y_=!0,f()},A}function b(A,x){A.setAttribute("id",x),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function v(){const A=Hb(s),x=i("text"),V=document.getElementById(x)||document.createElement("span"),E=i("learnmore"),S=document.getElementById(E)||document.createElement("a"),R=i("preprendIcon"),U=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const L=A.element;m(L),b(S,E);const Y=g();p(U,R),L.append(U,V,S,Y),document.body.appendChild(L)}u?(V.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gb(){var e;const r=(e=Rd())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qb(){return!Gb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yb(){try{return typeof indexedDB=="object"}catch{return!1}}function Kb(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="FirebaseError";class Lr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=Xb,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u0.prototype.create)}}class u0{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Zb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Lr(o,m,s)}}function Zb(r,e){return r.replace(Jb,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Jb=/\{\$([^}]+)}/g;function ac(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(K_(u)&&K_(f)){if(!ac(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function K_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(r){return r&&r._delegate?r._delegate:r}class no{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new Ub;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tE(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Wb(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wb(r){return r===Ms?void 0:r}function tE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new $b(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ie||(ie={}));const nE={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},iE=ie.INFO,aE={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},sE=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=aE[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c0{constructor(e){this.name=e,this._logLevel=iE,this._logHandler=sE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const rE=(r,e)=>e.some(i=>r instanceof i);let X_,Z_;function lE(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oE(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h0=new WeakMap,sd=new WeakMap,f0=new WeakMap,Pf=new WeakMap,Dd=new WeakMap;function uE(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{i(Qa(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&h0.set(i,r)}).catch(()=>{}),Dd.set(e,r),e}function cE(r){if(sd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});sd.set(r,e)}let rd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return sd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||f0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function hE(r){rd=r(rd)}function fE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Hf(this),e,...i);return f0.set(s,e.sort?e.sort():[e]),Qa(s)}:oE().includes(r)?function(...e){return r.apply(Hf(this),e),Qa(h0.get(this))}:function(...e){return Qa(r.apply(Hf(this),e))}}function dE(r){return typeof r=="function"?fE(r):(r instanceof IDBTransaction&&cE(r),rE(r,lE())?new Proxy(r,rd):r)}function Qa(r){if(r instanceof IDBRequest)return uE(r);if(Pf.has(r))return Pf.get(r);const e=dE(r);return e!==r&&(Pf.set(r,e),Dd.set(e,r)),e}const Hf=r=>Dd.get(r);function mE(r,e,{blocked:i,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Qa(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Qa(f.result),p.oldVersion,p.newVersion,Qa(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const pE=["get","getKey","getAll","getAllKeys","count"],gE=["put","add","delete","clear"],qf=new Map;function J_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qf.get(e))return qf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=gE.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||pE.includes(i)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return qf.set(e,u),u}hE(r=>({...r,get:(e,i,s)=>J_(e,i)||r.get(e,i,s),has:(e,i)=>!!J_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yE(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function yE(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ld="@firebase/app",$_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new c0("@firebase/app"),vE="@firebase/app-compat",bE="@firebase/analytics-compat",EE="@firebase/analytics",xE="@firebase/app-check-compat",TE="@firebase/app-check",wE="@firebase/auth",SE="@firebase/auth-compat",AE="@firebase/database",CE="@firebase/data-connect",RE="@firebase/database-compat",NE="@firebase/functions",DE="@firebase/functions-compat",kE="@firebase/installations",IE="@firebase/installations-compat",ME="@firebase/messaging",OE="@firebase/messaging-compat",zE="@firebase/performance",VE="@firebase/performance-compat",jE="@firebase/remote-config",UE="@firebase/remote-config-compat",BE="@firebase/storage",LE="@firebase/storage-compat",PE="@firebase/firestore",HE="@firebase/ai",qE="@firebase/firestore-compat",FE="firebase",GE="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="[DEFAULT]",QE={[ld]:"fire-core",[vE]:"fire-core-compat",[EE]:"fire-analytics",[bE]:"fire-analytics-compat",[TE]:"fire-app-check",[xE]:"fire-app-check-compat",[wE]:"fire-auth",[SE]:"fire-auth-compat",[AE]:"fire-rtdb",[CE]:"fire-data-connect",[RE]:"fire-rtdb-compat",[NE]:"fire-fn",[DE]:"fire-fn-compat",[kE]:"fire-iid",[IE]:"fire-iid-compat",[ME]:"fire-fcm",[OE]:"fire-fcm-compat",[zE]:"fire-perf",[VE]:"fire-perf-compat",[jE]:"fire-rc",[UE]:"fire-rc-compat",[BE]:"fire-gcs",[LE]:"fire-gcs-compat",[PE]:"fire-fst",[qE]:"fire-fst-compat",[HE]:"fire-vertex","fire-js":"fire-js",[FE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,YE=new Map,ud=new Map;function W_(r,e){try{r.container.addComponent(e)}catch(i){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function rc(r){const e=r.name;if(ud.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;ud.set(e,r);for(const i of sc.values())W_(i,r);for(const i of YE.values())W_(i,r);return!0}function KE(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function XE(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ya=new u0("app","Firebase",ZE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=GE;function d0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:od,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ya.create("bad-app-name",{appName:String(o)});if(i||(i=o0()),!i)throw Ya.create("no-options");const u=sc.get(o);if(u){if(ac(i,u.options)&&ac(s,u.config))return u;throw Ya.create("duplicate-app",{appName:o})}const f=new eE(o);for(const p of ud.values())f.addComponent(p);const m=new JE(i,s,f);return sc.set(o,m),m}function WE(r=od){const e=sc.get(r);if(!e&&r===od&&o0())return d0();if(!e)throw Ya.create("no-app",{appName:r});return e}function Dr(r,e,i){let s=QE[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(f.join(" "));return}rc(new no(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="firebase-heartbeat-database",ex=1,io="firebase-heartbeat-store";let Ff=null;function m0(){return Ff||(Ff=mE(tx,ex,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(io)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ya.create("idb-open",{originalErrorMessage:r.message})})),Ff}async function nx(r){try{const i=(await m0()).transaction(io),s=await i.objectStore(io).get(p0(r));return await i.done,s}catch(e){if(e instanceof Lr)ca.warn(e.message);else{const i=Ya.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ca.warn(i.message)}}}async function ty(r,e){try{const s=(await m0()).transaction(io,"readwrite");await s.objectStore(io).put(e,p0(r)),await s.done}catch(i){if(i instanceof Lr)ca.warn(i.message);else{const s=Ya.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ca.warn(s.message)}}}function p0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=1024,ax=30;class sx{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new lx(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ey();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>ax){const f=ox(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ca.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ey(),{heartbeatsToSend:s,unsentEntries:o}=rx(this._heartbeatsCache.heartbeats),u=ic(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return ca.warn(i),""}}}function ey(){return new Date().toISOString().substring(0,10)}function rx(r,e=ix){const i=[];let s=r.slice();for(const o of r){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),ny(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),ny(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class lx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yb()?Kb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await nx(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ny(r){return ic(JSON.stringify({version:2,heartbeats:r})).length}function ox(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(r){rc(new no("platform-logger",e=>new _E(e),"PRIVATE")),rc(new no("heartbeat",e=>new sx(e),"PRIVATE")),Dr(ld,$_,r),Dr(ld,$_,"esm2020"),Dr("fire-js","")}ux("");var cx="firebase",hx="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(cx,hx,"app");var iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ka,g0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,O){function I(){}I.prototype=O.prototype,D.F=O.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(P,F,k){for(var M=Array(arguments.length-2),N=2;N<arguments.length;N++)M[N-2]=arguments[N];return O.prototype[F].apply(P,M)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,O,I){I||(I=0);const P=Array(16);if(typeof O=="string")for(var F=0;F<16;++F)P[F]=O.charCodeAt(I++)|O.charCodeAt(I++)<<8|O.charCodeAt(I++)<<16|O.charCodeAt(I++)<<24;else for(F=0;F<16;++F)P[F]=O[I++]|O[I++]<<8|O[I++]<<16|O[I++]<<24;O=D.g[0],I=D.g[1],F=D.g[2];let k=D.g[3],M;M=O+(k^I&(F^k))+P[0]+3614090360&4294967295,O=I+(M<<7&4294967295|M>>>25),M=k+(F^O&(I^F))+P[1]+3905402710&4294967295,k=O+(M<<12&4294967295|M>>>20),M=F+(I^k&(O^I))+P[2]+606105819&4294967295,F=k+(M<<17&4294967295|M>>>15),M=I+(O^F&(k^O))+P[3]+3250441966&4294967295,I=F+(M<<22&4294967295|M>>>10),M=O+(k^I&(F^k))+P[4]+4118548399&4294967295,O=I+(M<<7&4294967295|M>>>25),M=k+(F^O&(I^F))+P[5]+1200080426&4294967295,k=O+(M<<12&4294967295|M>>>20),M=F+(I^k&(O^I))+P[6]+2821735955&4294967295,F=k+(M<<17&4294967295|M>>>15),M=I+(O^F&(k^O))+P[7]+4249261313&4294967295,I=F+(M<<22&4294967295|M>>>10),M=O+(k^I&(F^k))+P[8]+1770035416&4294967295,O=I+(M<<7&4294967295|M>>>25),M=k+(F^O&(I^F))+P[9]+2336552879&4294967295,k=O+(M<<12&4294967295|M>>>20),M=F+(I^k&(O^I))+P[10]+4294925233&4294967295,F=k+(M<<17&4294967295|M>>>15),M=I+(O^F&(k^O))+P[11]+2304563134&4294967295,I=F+(M<<22&4294967295|M>>>10),M=O+(k^I&(F^k))+P[12]+1804603682&4294967295,O=I+(M<<7&4294967295|M>>>25),M=k+(F^O&(I^F))+P[13]+4254626195&4294967295,k=O+(M<<12&4294967295|M>>>20),M=F+(I^k&(O^I))+P[14]+2792965006&4294967295,F=k+(M<<17&4294967295|M>>>15),M=I+(O^F&(k^O))+P[15]+1236535329&4294967295,I=F+(M<<22&4294967295|M>>>10),M=O+(F^k&(I^F))+P[1]+4129170786&4294967295,O=I+(M<<5&4294967295|M>>>27),M=k+(I^F&(O^I))+P[6]+3225465664&4294967295,k=O+(M<<9&4294967295|M>>>23),M=F+(O^I&(k^O))+P[11]+643717713&4294967295,F=k+(M<<14&4294967295|M>>>18),M=I+(k^O&(F^k))+P[0]+3921069994&4294967295,I=F+(M<<20&4294967295|M>>>12),M=O+(F^k&(I^F))+P[5]+3593408605&4294967295,O=I+(M<<5&4294967295|M>>>27),M=k+(I^F&(O^I))+P[10]+38016083&4294967295,k=O+(M<<9&4294967295|M>>>23),M=F+(O^I&(k^O))+P[15]+3634488961&4294967295,F=k+(M<<14&4294967295|M>>>18),M=I+(k^O&(F^k))+P[4]+3889429448&4294967295,I=F+(M<<20&4294967295|M>>>12),M=O+(F^k&(I^F))+P[9]+568446438&4294967295,O=I+(M<<5&4294967295|M>>>27),M=k+(I^F&(O^I))+P[14]+3275163606&4294967295,k=O+(M<<9&4294967295|M>>>23),M=F+(O^I&(k^O))+P[3]+4107603335&4294967295,F=k+(M<<14&4294967295|M>>>18),M=I+(k^O&(F^k))+P[8]+1163531501&4294967295,I=F+(M<<20&4294967295|M>>>12),M=O+(F^k&(I^F))+P[13]+2850285829&4294967295,O=I+(M<<5&4294967295|M>>>27),M=k+(I^F&(O^I))+P[2]+4243563512&4294967295,k=O+(M<<9&4294967295|M>>>23),M=F+(O^I&(k^O))+P[7]+1735328473&4294967295,F=k+(M<<14&4294967295|M>>>18),M=I+(k^O&(F^k))+P[12]+2368359562&4294967295,I=F+(M<<20&4294967295|M>>>12),M=O+(I^F^k)+P[5]+4294588738&4294967295,O=I+(M<<4&4294967295|M>>>28),M=k+(O^I^F)+P[8]+2272392833&4294967295,k=O+(M<<11&4294967295|M>>>21),M=F+(k^O^I)+P[11]+1839030562&4294967295,F=k+(M<<16&4294967295|M>>>16),M=I+(F^k^O)+P[14]+4259657740&4294967295,I=F+(M<<23&4294967295|M>>>9),M=O+(I^F^k)+P[1]+2763975236&4294967295,O=I+(M<<4&4294967295|M>>>28),M=k+(O^I^F)+P[4]+1272893353&4294967295,k=O+(M<<11&4294967295|M>>>21),M=F+(k^O^I)+P[7]+4139469664&4294967295,F=k+(M<<16&4294967295|M>>>16),M=I+(F^k^O)+P[10]+3200236656&4294967295,I=F+(M<<23&4294967295|M>>>9),M=O+(I^F^k)+P[13]+681279174&4294967295,O=I+(M<<4&4294967295|M>>>28),M=k+(O^I^F)+P[0]+3936430074&4294967295,k=O+(M<<11&4294967295|M>>>21),M=F+(k^O^I)+P[3]+3572445317&4294967295,F=k+(M<<16&4294967295|M>>>16),M=I+(F^k^O)+P[6]+76029189&4294967295,I=F+(M<<23&4294967295|M>>>9),M=O+(I^F^k)+P[9]+3654602809&4294967295,O=I+(M<<4&4294967295|M>>>28),M=k+(O^I^F)+P[12]+3873151461&4294967295,k=O+(M<<11&4294967295|M>>>21),M=F+(k^O^I)+P[15]+530742520&4294967295,F=k+(M<<16&4294967295|M>>>16),M=I+(F^k^O)+P[2]+3299628645&4294967295,I=F+(M<<23&4294967295|M>>>9),M=O+(F^(I|~k))+P[0]+4096336452&4294967295,O=I+(M<<6&4294967295|M>>>26),M=k+(I^(O|~F))+P[7]+1126891415&4294967295,k=O+(M<<10&4294967295|M>>>22),M=F+(O^(k|~I))+P[14]+2878612391&4294967295,F=k+(M<<15&4294967295|M>>>17),M=I+(k^(F|~O))+P[5]+4237533241&4294967295,I=F+(M<<21&4294967295|M>>>11),M=O+(F^(I|~k))+P[12]+1700485571&4294967295,O=I+(M<<6&4294967295|M>>>26),M=k+(I^(O|~F))+P[3]+2399980690&4294967295,k=O+(M<<10&4294967295|M>>>22),M=F+(O^(k|~I))+P[10]+4293915773&4294967295,F=k+(M<<15&4294967295|M>>>17),M=I+(k^(F|~O))+P[1]+2240044497&4294967295,I=F+(M<<21&4294967295|M>>>11),M=O+(F^(I|~k))+P[8]+1873313359&4294967295,O=I+(M<<6&4294967295|M>>>26),M=k+(I^(O|~F))+P[15]+4264355552&4294967295,k=O+(M<<10&4294967295|M>>>22),M=F+(O^(k|~I))+P[6]+2734768916&4294967295,F=k+(M<<15&4294967295|M>>>17),M=I+(k^(F|~O))+P[13]+1309151649&4294967295,I=F+(M<<21&4294967295|M>>>11),M=O+(F^(I|~k))+P[4]+4149444226&4294967295,O=I+(M<<6&4294967295|M>>>26),M=k+(I^(O|~F))+P[11]+3174756917&4294967295,k=O+(M<<10&4294967295|M>>>22),M=F+(O^(k|~I))+P[2]+718787259&4294967295,F=k+(M<<15&4294967295|M>>>17),M=I+(k^(F|~O))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+O&4294967295,D.g[1]=D.g[1]+(F+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+k&4294967295}s.prototype.v=function(D,O){O===void 0&&(O=D.length);const I=O-this.blockSize,P=this.C;let F=this.h,k=0;for(;k<O;){if(F==0)for(;k<=I;)o(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<O;)if(P[F++]=D.charCodeAt(k++),F==this.blockSize){o(this,P),F=0;break}}else for(;k<O;)if(P[F++]=D[k++],F==this.blockSize){o(this,P),F=0;break}}this.h=F,this.o+=O},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var O=1;O<D.length-8;++O)D[O]=0;O=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=O&255,O/=256;for(this.v(D),D=Array(16),O=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)D[O++]=this.g[I]>>>P&255;return D};function u(D,O){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=O(D)}function f(D,O){this.h=O;const I=[];let P=!0;for(let F=D.length-1;F>=0;F--){const k=D[F]|0;P&&k==O||(I[F]=k,P=!1)}this.g=I}var m={};function p(D){return-128<=D&&D<128?u(D,function(O){return new f([O|0],O<0?-1:0)}):new f([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return v;if(D<0)return S(g(-D));const O=[];let I=1;for(let P=0;D>=I;P++)O[P]=D/I|0,I*=4294967296;return new f(O,0)}function b(D,O){if(D.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(D.charAt(0)=="-")return S(b(D.substring(1),O));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(O,8));let P=v;for(let k=0;k<D.length;k+=8){var F=Math.min(8,D.length-k);const M=parseInt(D.substring(k,k+F),O);F<8?(F=g(Math.pow(O,F)),P=P.j(F).add(g(M))):(P=P.j(I),P=P.add(g(M)))}return P}var v=p(0),A=p(1),x=p(16777216);r=f.prototype,r.m=function(){if(E(this))return-S(this).m();let D=0,O=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);D+=(P>=0?P:4294967296+P)*O,O*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(V(this))return"0";if(E(this))return"-"+S(this).toString(D);const O=g(Math.pow(D,6));var I=this;let P="";for(;;){const F=Y(I,O).g;I=R(I,F.j(O));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=F,V(I))return k+P;for(;k.length<6;)k="0"+k;P=k+P}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function V(D){if(D.h!=0)return!1;for(let O=0;O<D.g.length;O++)if(D.g[O]!=0)return!1;return!0}function E(D){return D.h==-1}r.l=function(D){return D=R(this,D),E(D)?-1:V(D)?0:1};function S(D){const O=D.g.length,I=[];for(let P=0;P<O;P++)I[P]=~D.g[P];return new f(I,~D.h).add(A)}r.abs=function(){return E(this)?S(this):this},r.add=function(D){const O=Math.max(this.g.length,D.g.length),I=[];let P=0;for(let F=0;F<=O;F++){let k=P+(this.i(F)&65535)+(D.i(F)&65535),M=(k>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);P=M>>>16,k&=65535,M&=65535,I[F]=M<<16|k}return new f(I,I[I.length-1]&-2147483648?-1:0)};function R(D,O){return D.add(S(O))}r.j=function(D){if(V(this)||V(D))return v;if(E(this))return E(D)?S(this).j(S(D)):S(S(this).j(D));if(E(D))return S(this.j(S(D)));if(this.l(x)<0&&D.l(x)<0)return g(this.m()*D.m());const O=this.g.length+D.g.length,I=[];for(var P=0;P<2*O;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let F=0;F<D.g.length;F++){const k=this.i(P)>>>16,M=this.i(P)&65535,N=D.i(F)>>>16,ct=D.i(F)&65535;I[2*P+2*F]+=M*ct,U(I,2*P+2*F),I[2*P+2*F+1]+=k*ct,U(I,2*P+2*F+1),I[2*P+2*F+1]+=M*N,U(I,2*P+2*F+1),I[2*P+2*F+2]+=k*N,U(I,2*P+2*F+2)}for(D=0;D<O;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=O;D<2*O;D++)I[D]=0;return new f(I,0)};function U(D,O){for(;(D[O]&65535)!=D[O];)D[O+1]+=D[O]>>>16,D[O]&=65535,O++}function L(D,O){this.g=D,this.h=O}function Y(D,O){if(V(O))throw Error("division by zero");if(V(D))return new L(v,v);if(E(D))return O=Y(S(D),O),new L(S(O.g),S(O.h));if(E(O))return O=Y(D,S(O)),new L(S(O.g),O.h);if(D.g.length>30){if(E(D)||E(O))throw Error("slowDivide_ only works with positive integers.");for(var I=A,P=O;P.l(D)<=0;)I=K(I),P=K(P);var F=st(I,1),k=st(P,1);for(P=st(P,2),I=st(I,2);!V(P);){var M=k.add(P);M.l(D)<=0&&(F=F.add(I),k=M),P=st(P,1),I=st(I,1)}return O=R(D,F.j(O)),new L(F,O)}for(F=v;D.l(O)>=0;){for(I=Math.max(1,Math.floor(D.m()/O.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),k=g(I),M=k.j(O);E(M)||M.l(D)>0;)I-=P,k=g(I),M=k.j(O);V(k)&&(k=A),F=F.add(k),D=R(D,M)}return new L(F,D)}r.B=function(D){return Y(this,D).h},r.and=function(D){const O=Math.max(this.g.length,D.g.length),I=[];for(let P=0;P<O;P++)I[P]=this.i(P)&D.i(P);return new f(I,this.h&D.h)},r.or=function(D){const O=Math.max(this.g.length,D.g.length),I=[];for(let P=0;P<O;P++)I[P]=this.i(P)|D.i(P);return new f(I,this.h|D.h)},r.xor=function(D){const O=Math.max(this.g.length,D.g.length),I=[];for(let P=0;P<O;P++)I[P]=this.i(P)^D.i(P);return new f(I,this.h^D.h)};function K(D){const O=D.g.length+1,I=[];for(let P=0;P<O;P++)I[P]=D.i(P)<<1|D.i(P-1)>>>31;return new f(I,D.h)}function st(D,O){const I=O>>5;O%=32;const P=D.g.length-I,F=[];for(let k=0;k<P;k++)F[k]=O>0?D.i(k+I)>>>O|D.i(k+I+1)<<32-O:D.i(k+I);return new f(F,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,g0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=b,Ka=f}).apply(typeof iy<"u"?iy:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _0,Kl,y0,Xu,cd,v0,b0,E0;(function(){var r,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var _=0;_<c.length;++_){var T=c[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=i(this);function o(c,_){if(_)t:{var T=s;c=c.split(".");for(var B=0;B<c.length-1;B++){var tt=c[B];if(!(tt in T))break t;T=T[tt]}c=c[c.length-1],B=T[c],_=_(B),_!=B&&_!=null&&e(T,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var T=[],B;for(B in _)Object.prototype.hasOwnProperty.call(_,B)&&T.push([B,_[B]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function p(c,_,T){return c.call.apply(c.bind,arguments)}function g(c,_,T){return g=p,g.apply(null,arguments)}function b(c,_){var T=Array.prototype.slice.call(arguments,1);return function(){var B=T.slice();return B.push.apply(B,arguments),c.apply(this,B)}}function v(c,_){function T(){}T.prototype=_.prototype,c.Z=_.prototype,c.prototype=new T,c.prototype.constructor=c,c.Ob=function(B,tt,rt){for(var St=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)St[Qt-2]=arguments[Qt];return _.prototype[tt].apply(B,St)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function x(c){const _=c.length;if(_>0){const T=Array(_);for(let B=0;B<_;B++)T[B]=c[B];return T}return[]}function V(c,_){for(let B=1;B<arguments.length;B++){const tt=arguments[B];var T=typeof tt;if(T=T!="object"?T:tt?Array.isArray(tt)?"array":T:"null",T=="array"||T=="object"&&typeof tt.length=="number"){T=c.length||0;const rt=tt.length||0;c.length=T+rt;for(let St=0;St<rt;St++)c[T+St]=tt[St]}else c.push(tt)}}class E{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function S(c){f.setTimeout(()=>{throw c},0)}function R(){var c=D;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class U{constructor(){this.h=this.g=null}add(_,T){const B=L.get();B.set(_,T),this.h?this.h.next=B:this.g=B,this.h=B}}var L=new E(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let K,st=!1,D=new U,O=()=>{const c=Promise.resolve(void 0);K=()=>{c.then(I)}};function I(){for(var c;c=R();){try{c.h.call(c.g)}catch(T){S(T)}var _=L;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}st=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const T=()=>{};f.addEventListener("test",T,_),f.removeEventListener("test",T,_)}catch{}return c})();function M(c){return/^[\s\xa0]*$/.test(c)}function N(c,_){F.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}v(N,F),N.prototype.init=function(c,_){const T=this.type=c.type,B=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(T=="mouseover"?_=c.fromElement:T=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&N.Z.h.call(this)},N.prototype.h=function(){N.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),$=0;function W(c,_,T,B,tt){this.listener=c,this.proxy=null,this.src=_,this.type=T,this.capture=!!B,this.ha=tt,this.key=++$,this.da=this.fa=!1}function xt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pt(c,_,T){for(const B in c)_.call(T,c[B],B,c)}function Ct(c,_){for(const T in c)_.call(void 0,c[T],T,c)}function j(c){const _={};for(const T in c)_[T]=c[T];return _}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(c,_){let T,B;for(let tt=1;tt<arguments.length;tt++){B=arguments[tt];for(T in B)c[T]=B[T];for(let rt=0;rt<q.length;rt++)T=q[rt],Object.prototype.hasOwnProperty.call(B,T)&&(c[T]=B[T])}}function ut(c){this.src=c,this.g={},this.h=0}ut.prototype.add=function(c,_,T,B,tt){const rt=c.toString();c=this.g[rt],c||(c=this.g[rt]=[],this.h++);const St=Dt(c,_,B,tt);return St>-1?(_=c[St],T||(_.fa=!1)):(_=new W(_,this.src,rt,!!B,tt),_.fa=T,c.push(_)),_};function dt(c,_){const T=_.type;if(T in c.g){var B=c.g[T],tt=Array.prototype.indexOf.call(B,_,void 0),rt;(rt=tt>=0)&&Array.prototype.splice.call(B,tt,1),rt&&(xt(_),c.g[T].length==0&&(delete c.g[T],c.h--))}}function Dt(c,_,T,B){for(let tt=0;tt<c.length;++tt){const rt=c[tt];if(!rt.da&&rt.listener==_&&rt.capture==!!T&&rt.ha==B)return tt}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Vt={};function Ot(c,_,T,B,tt){if(Array.isArray(_)){for(let rt=0;rt<_.length;rt++)Ot(c,_[rt],T,B,tt);return null}return T=H(T),c&&c[ct]?c.J(_,T,m(B)?!!B.capture:!1,tt):xe(c,_,T,!1,B,tt)}function xe(c,_,T,B,tt,rt){if(!_)throw Error("Invalid event type");const St=m(tt)?!!tt.capture:!!tt;let Qt=lt(c);if(Qt||(c[Ut]=Qt=new ut(c)),T=Qt.add(_,T,B,St,rt),T.proxy)return T;if(B=pe(),T.proxy=B,B.src=c,B.listener=T,c.addEventListener)k||(tt=St),tt===void 0&&(tt=!1),c.addEventListener(_.toString(),B,tt);else if(c.attachEvent)c.attachEvent(w(_.toString()),B);else if(c.addListener&&c.removeListener)c.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return T}function pe(){function c(T){return _.call(c.src,c.listener,T)}const _=gt;return c}function en(c,_,T,B,tt){if(Array.isArray(_))for(var rt=0;rt<_.length;rt++)en(c,_[rt],T,B,tt);else B=m(B)?!!B.capture:!!B,T=H(T),c&&c[ct]?(c=c.i,rt=String(_).toString(),rt in c.g&&(_=c.g[rt],T=Dt(_,T,B,tt),T>-1&&(xt(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete c.g[rt],c.h--)))):c&&(c=lt(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Dt(_,T,B,tt)),(T=c>-1?_[c]:null)&&Ze(T))}function Ze(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[ct])dt(_.i,c);else{var T=c.type,B=c.proxy;_.removeEventListener?_.removeEventListener(T,B,c.capture):_.detachEvent?_.detachEvent(w(T),B):_.addListener&&_.removeListener&&_.removeListener(B),(T=lt(_))?(dt(T,c),T.h==0&&(T.src=null,_[Ut]=null)):xt(c)}}}function w(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function gt(c,_){if(c.da)c=!0;else{_=new N(_,this);const T=c.listener,B=c.ha||c.src;c.fa&&Ze(c),c=T.call(B,_)}return c}function lt(c){return c=c[Ut],c instanceof ut?c:null}var G="__closure_events_fn_"+(Math.random()*1e9>>>0);function H(c){return typeof c=="function"?c:(c[G]||(c[G]=function(_){return c.handleEvent(_)}),c[G])}function Z(){P.call(this),this.i=new ut(this),this.M=this,this.G=null}v(Z,P),Z.prototype[ct]=!0,Z.prototype.removeEventListener=function(c,_,T,B){en(this,c,_,T,B)};function mt(c,_){var T,B=c.G;if(B)for(T=[];B;B=B.G)T.push(B);if(c=c.M,B=_.type||_,typeof _=="string")_=new F(_,c);else if(_ instanceof F)_.target=_.target||c;else{var tt=_;_=new F(B,c),ht(_,tt)}tt=!0;let rt,St;if(T)for(St=T.length-1;St>=0;St--)rt=_.g=T[St],tt=bt(rt,B,!0,_)&&tt;if(rt=_.g=c,tt=bt(rt,B,!0,_)&&tt,tt=bt(rt,B,!1,_)&&tt,T)for(St=0;St<T.length;St++)rt=_.g=T[St],tt=bt(rt,B,!1,_)&&tt}Z.prototype.N=function(){if(Z.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const T=c.g[_];for(let B=0;B<T.length;B++)xt(T[B]);delete c.g[_],c.h--}}this.G=null},Z.prototype.J=function(c,_,T,B){return this.i.add(String(c),_,!1,T,B)},Z.prototype.K=function(c,_,T,B){return this.i.add(String(c),_,!0,T,B)};function bt(c,_,T,B){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let tt=!0;for(let rt=0;rt<_.length;++rt){const St=_[rt];if(St&&!St.da&&St.capture==T){const Qt=St.listener,Oe=St.ha||St.src;St.fa&&dt(c.i,St),tt=Qt.call(Oe,B)!==!1&&tt}}return tt&&!B.defaultPrevented}function it(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:f.setTimeout(c,_||0)}function Tt(c){c.g=it(()=>{c.g=null,c.i&&(c.i=!1,Tt(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class At extends P{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wt(c){P.call(this),this.h=c,this.g={}}v(wt,P);var Mt=[];function se(c){pt(c.g,function(_,T){this.g.hasOwnProperty(T)&&Ze(_)},c),c.g={}}wt.prototype.N=function(){wt.Z.N.call(this),se(this)},wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=f.JSON.stringify,fn=f.JSON.parse,di=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function yn(){}function mi(){}var ae={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){F.call(this,"d")}v(ke,F);function dn(){F.call(this,"c")}v(dn,F);var oe={},ss=null;function da(){return ss=ss||new Z}oe.Ia="serverreachability";function Bs(c){F.call(this,oe.Ia,c)}v(Bs,F);function Pn(c){const _=da();mt(_,new Bs(_))}oe.STAT_EVENT="statevent";function pi(c,_){F.call(this,oe.STAT_EVENT,c),this.stat=_}v(pi,F);function Te(c){const _=da();mt(_,new pi(_,c))}oe.Ja="timingevent";function vn(c,_){F.call(this,oe.Ja,c),this.size=_}v(vn,F);function gi(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},_)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function jc(c,_,T,B,tt,rt){c.info(function(){if(c.g)if(rt){var St="",Qt=rt.split("&");for(let ue=0;ue<Qt.length;ue++){var Oe=Qt[ue].split("=");if(Oe.length>1){const Re=Oe[0];Oe=Oe[1];const Gn=Re.split("_");St=Gn.length>=2&&Gn[1]=="type"?St+(Re+"="+Oe+"&"):St+(Re+"=redacted&")}}}else St=null;else St=rt;return"XMLHTTP REQ ("+B+") [attempt "+tt+"]: "+_+`
`+T+`
`+St})}function _o(c,_,T,B,tt,rt,St){c.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+tt+"]: "+_+`
`+T+`
`+rt+" "+St})}function _i(c,_,T,B){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Uc(c,T)+(B?" "+B:"")})}function rs(c,_){c.info(function(){return"TIMEOUT: "+_})}ei.prototype.info=function(){};function Uc(c,_){if(!c.g)return _;if(!_)return null;try{const rt=JSON.parse(_);if(rt){for(c=0;c<rt.length;c++)if(Array.isArray(rt[c])){var T=rt[c];if(!(T.length<2)){var B=T[1];if(Array.isArray(B)&&!(B.length<1)){var tt=B[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(let St=1;St<B.length;St++)B[St]=""}}}}return Gt(rt)}catch{return _}}var ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qr;function os(){}v(os,yn),os.prototype.g=function(){return new XMLHttpRequest},Qr=new os;function qi(c){return encodeURIComponent(String(c))}function yo(c){var _=1;c=c.split(":");const T=[];for(;_>0&&c.length;)T.push(c.shift()),_--;return c.length&&T.push(c.join(":")),T}function ni(c,_,T,B){this.j=c,this.i=_,this.l=T,this.S=B||1,this.V=new wt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Ue={},Je={};function yi(c,_,T){c.M=1,c.A=us(Le(_)),c.u=T,c.R=!0,Ls(c,null)}function Ls(c,_){c.F=Date.now(),vi(c),c.B=Le(c.A);var T=c.B,B=c.S;Array.isArray(B)||(B=[String(B)]),Fs(T.i,"t",B),c.C=0,T=c.j.L,c.h=new ii,c.g=Mo(c.j,T?_:null,!c.u),c.P>0&&(c.O=new At(g(c.Y,c,c.g),c.P)),_=c.V,T=c.g,B=c.ba;var tt="readystatechange";Array.isArray(tt)||(tt&&(Mt[0]=tt.toString()),tt=Mt);for(let rt=0;rt<tt.length;rt++){const St=Ot(T,tt[rt],B||_.handleEvent,!1,_.h||_);if(!St)break;_.g[St.key]=St}_=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),Pn(),jc(c.i,c.v,c.B,c.l,c.S,c.u)}ni.prototype.ba=function(c){c=c.target;const _=this.O;_&&ri(c)==3?_.j():this.Y(c)},ni.prototype.Y=function(c){try{if(c==this.g)t:{const Qt=ri(this.g),Oe=this.g.ya(),ue=this.g.ca();if(!(Qt<3)&&(Qt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Qt!=4||Oe==7||(Oe==8||ue<=0?Pn(3):Pn(2)),bi(this);var _=this.g.ca();this.X=_;var T=Bc(this);if(this.o=_==200,_o(this.i,this.v,this.B,this.l,this.S,Qt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var B,tt=this.g;if((B=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(B)){var rt=B;break e}}rt=null}if(c=rt)_i(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,c);else{this.o=!1,this.m=3,Te(12),kn(this),Hn(this);break t}}if(this.R){c=!0;let Re;for(;!this.K&&this.C<T.length;)if(Re=bo(this,T),Re==Je){Qt==4&&(this.m=4,Te(14),c=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(Re==Ue){this.m=4,Te(15),_i(this.i,this.l,T,"[Invalid Chunk]"),c=!1;break}else _i(this.i,this.l,Re,null),Ei(this,Re);if(vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||T.length!=0||this.h.h||(this.m=1,Te(16),c=!1),this.o=this.o&&c,!c)_i(this.i,this.l,T,"[Invalid Chunked Response]"),kn(this),Hn(this);else if(T.length>0&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.aa&&!St.P&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ll(St),St.P=!0,Te(11))}}else _i(this.i,this.l,T,null),Ei(this,T);Qt==4&&kn(this),this.o&&!this.K&&(Qt==4?No(this.j,this):(this.o=!1,vi(this)))}else Gi(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),kn(this),Hn(this)}}}catch{}finally{}};function Bc(c){if(!vo(c))return c.g.la();const _=nn(c.g);if(_==="")return"";let T="";const B=_.length,tt=ri(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return kn(c),Hn(c),"";c.h.i=new f.TextDecoder}for(let rt=0;rt<B;rt++)c.h.h=!0,T+=c.h.i.decode(_[rt],{stream:!(tt&&rt==B-1)});return _.length=0,c.h.g+=T,c.C=0,c.h.g}function vo(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bo(c,_){var T=c.C,B=_.indexOf(`
`,T);return B==-1?Je:(T=Number(_.substring(T,B)),isNaN(T)?Ue:(B+=1,B+T>_.length?Je:(_=_.slice(B,B+T),c.C=B+T,_)))}ni.prototype.cancel=function(){this.K=!0,kn(this)};function vi(c){c.T=Date.now()+c.H,Ps(c,c.H)}function Ps(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gi(g(c.aa,c),_)}function bi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ni.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(rs(this.i,this.B),this.M!=2&&(Pn(),Te(17)),kn(this),this.m=2,Hn(this)):Ps(this,this.T-c)};function Hn(c){c.j.I==0||c.K||No(c.j,c)}function kn(c){bi(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,se(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function Ei(c,_){try{var T=c.j;if(T.I!=0&&(T.g==c||Ti(T.h,c))){if(!c.L&&Ti(T.h,c)&&T.I==3){try{var B=T.Ba.g.parse(_)}catch{B=null}if(Array.isArray(B)&&B.length==3){var tt=B;if(tt[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<c.F)Xs(T),Ea(T);else break t;gs(T),Te(18)}}else T.xa=tt[1],0<T.xa-T.K&&tt[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=gi(g(T.Va,T),6e3));xi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ni(T,11)}else if((c.L||T.g==c)&&Xs(T),!M(_))for(tt=T.Ba.g.parse(_),_=0;_<tt.length;_++){let ue=tt[_];const Re=ue[0];if(!(Re<=T.K))if(T.K=Re,ue=ue[1],T.I==2)if(ue[0]=="c"){T.M=ue[1],T.ba=ue[2];const Gn=ue[3];Gn!=null&&(T.ka=Gn,T.j.info("VER="+T.ka));const Di=ue[4];Di!=null&&(T.za=Di,T.j.info("SVER="+T.za));const li=ue[5];li!=null&&typeof li=="number"&&li>0&&(B=1.5*li,T.O=B,T.j.info("backChannelRequestTimeoutMs_="+B)),B=T;const oi=c.g;if(oi){const _s=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var rt=B.h;rt.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(Xr(rt,rt.h),rt.h=null))}if(B.G){const Zs=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(B.wa=Zs,fe(B.J,B.G,Zs))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-c.F,T.j.info("Handshake RTT: "+T.T+"ms")),B=T;var St=c;if(B.na=Io(B,B.L?B.ba:null,B.W),St.L){Zr(B.h,St);var Qt=St,Oe=B.O;Oe&&(Qt.H=Oe),Qt.D&&(bi(Qt),vi(Qt)),B.g=St}else Co(B);T.i.length>0&&Ri(T)}else ue[0]!="stop"&&ue[0]!="close"||Ni(T,7);else T.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?Ni(T,7):sl(T):ue[0]!="noop"&&T.l&&T.l.qa(ue),T.A=0)}}Pn(4)}catch{}}var Be=class{constructor(c,_){this.g=c,this.map=_}};function Yr(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xi(c){return c.h?1:c.g?c.g.size:0}function Ti(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Xr(c,_){c.g?c.g.add(_):c.h=_}function Zr(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Yr.prototype.cancel=function(){if(this.i=Jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jr(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const T of c.g.values())_=_.concat(T.G);return _}return x(c.i)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hs(c,_){if(c){c=c.split("&");for(let T=0;T<c.length;T++){const B=c[T].indexOf("=");let tt,rt=null;B>=0?(tt=c[T].substring(0,B),rt=c[T].substring(B+1)):tt=c[T],_(tt,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}function In(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof In?(this.l=c.l,$e(this,c.j),this.o=c.o,this.g=c.g,ma(this,c.u),this.h=c.h,$r(this,So(c.i)),this.m=c.m):c&&(_=String(c).match(Eo))?(this.l=!1,$e(this,_[1]||"",!0),this.o=wi(_[2]||""),this.g=wi(_[3]||"",!0),ma(this,_[4]),this.h=wi(_[5]||"",!0),$r(this,_[6]||"",!0),this.m=wi(_[7]||"")):(this.l=!1,this.i=new ga(null,this.l))}In.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(cs(_,qs,!0),":");var T=this.g;return(T||_=="file")&&(c.push("//"),(_=this.o)&&c.push(cs(_,qs,!0),"@"),c.push(qi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&c.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&c.push("/"),c.push(cs(T,T.charAt(0)=="/"?Wr:xo,!0))),(T=this.i.toString())&&c.push("?",T),(T=this.m)&&c.push("#",cs(T,To)),c.join("")},In.prototype.resolve=function(c){const _=Le(this);let T=!!c.j;T?$e(_,c.j):T=!!c.o,T?_.o=c.o:T=!!c.g,T?_.g=c.g:T=c.u!=null;var B=c.h;if(T)ma(_,c.u);else if(T=!!c.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var tt=_.h.lastIndexOf("/");tt!=-1&&(B=_.h.slice(0,tt+1)+B)}if(tt=B,tt==".."||tt==".")B="";else if(tt.indexOf("./")!=-1||tt.indexOf("/.")!=-1){B=tt.lastIndexOf("/",0)==0,tt=tt.split("/");const rt=[];for(let St=0;St<tt.length;){const Qt=tt[St++];Qt=="."?B&&St==tt.length&&rt.push(""):Qt==".."?((rt.length>1||rt.length==1&&rt[0]!="")&&rt.pop(),B&&St==tt.length&&rt.push("")):(rt.push(Qt),B=!0)}B=rt.join("/")}else B=tt}return T?_.h=B:T=c.i.toString()!=="",T?$r(_,So(c.i)):T=!!c.m,T&&(_.m=c.m),_};function Le(c){return new In(c)}function $e(c,_,T){c.j=T?wi(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function ma(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function $r(c,_,T){_ instanceof ga?(c.i=_,Gs(c.i,c.l)):(T||(_=cs(_,pa)),c.i=new ga(_,c.l))}function fe(c,_,T){c.i.set(_,T)}function us(c){return fe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wi(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cs(c,_,T){return typeof c=="string"?(c=encodeURI(c).replace(_,xn),T&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qs=/[#\/\?@]/g,xo=/[#\?:]/g,Wr=/[#\?]/g,pa=/[#\?@]/g,To=/#/g;function ga(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Hs(c.i,function(_,T){c.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}r=ga.prototype,r.add=function(c,_){Tn(this),this.i=null,c=_a(this,c);let T=this.g.get(c);return T||this.g.set(c,T=[]),T.push(_),this.h+=1,this};function wo(c,_){Tn(c),_=_a(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function tl(c,_){return Tn(c),_=_a(c,_),c.g.has(_)}r.forEach=function(c,_){Tn(this),this.g.forEach(function(T,B){T.forEach(function(tt){c.call(_,tt,B,this)},this)},this)};function el(c,_){Tn(c);let T=[];if(typeof _=="string")tl(c,_)&&(T=T.concat(c.g.get(_a(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)T=T.concat(c[_]);return T}r.set=function(c,_){return Tn(this),this.i=null,c=_a(this,c),tl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},r.get=function(c,_){return c?(c=el(this,c),c.length>0?String(c[0]):_):_};function Fs(c,_,T){wo(c,_),T.length>0&&(c.i=null,c.g.set(_a(c,_),x(T)),c.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let B=0;B<_.length;B++){var T=_[B];const tt=qi(T);T=el(this,T);for(let rt=0;rt<T.length;rt++){let St=tt;T[rt]!==""&&(St+="="+qi(T[rt])),c.push(St)}}return this.i=c.join("&")};function So(c){const _=new ga;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function _a(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Gs(c,_){_&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(T,B){const tt=B.toLowerCase();B!=tt&&(wo(this,B),Fs(this,tt,T))},c)),c.j=_}function ai(c,_){const T=new ei;if(f.Image){const B=new Image;B.onload=b(qn,T,"TestLoadImage: loaded",!0,_,B),B.onerror=b(qn,T,"TestLoadImage: error",!1,_,B),B.onabort=b(qn,T,"TestLoadImage: abort",!1,_,B),B.ontimeout=b(qn,T,"TestLoadImage: timeout",!1,_,B),f.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=c}else _(!1)}function nl(c,_){const T=new ei,B=new AbortController,tt=setTimeout(()=>{B.abort(),qn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:B.signal}).then(rt=>{clearTimeout(tt),rt.ok?qn(T,"TestPingServer: ok",!0,_):qn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(tt),qn(T,"TestPingServer: error",!1,_)})}function qn(c,_,T,B,tt){try{tt&&(tt.onload=null,tt.onerror=null,tt.onabort=null,tt.ontimeout=null),B(T)}catch{}}function ya(){this.g=new di}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}v(Si,yn),Si.prototype.g=function(){return new hs(this.i,this.h)};function hs(c,_){Z.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(hs,Z),r=hs.prototype,r.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,si(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||f).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?va(this):si(this),this.readyState==3&&Qs(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,va(this))},r.Na=function(c){this.g&&(this.response=c,va(this))},r.ga=function(){this.g&&va(this)};function va(c){c.readyState=4,c.l=null,c.j=null,c.B=null,si(c)}r.setRequestHeader=function(c,_){this.A.append(c,_)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,c.push(T[0]+": "+T[1]),T=_.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fn(c){let _="";return pt(c,function(T,B){_+=B,_+=":",_+=T,_+=`\r
`}),_}function fs(c,_,T){t:{for(B in T){var B=!1;break t}B=!0}B||(T=Fn(T),typeof c=="string"?T!=null&&qi(T):fe(c,_,T))}function ge(c){Z.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ge,Z);var Ai=/^https?$/i,il=["POST","PUT"];r=ge.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,_,T,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qr.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(rt){ds(this,rt);return}if(c=T||"",T=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var tt in B)T.set(tt,B[tt]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const rt of B.keys())T.set(rt,B.get(rt));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(T.keys()).find(rt=>rt.toLowerCase()=="content-type"),tt=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(il,_,void 0)>=0)||B||tt||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,St]of T)this.g.setRequestHeader(rt,St);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(rt){ds(this,rt)}};function ds(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,al(c),Fi(c)}function al(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,mt(this,"complete"),mt(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),ge.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ms(this):this.Xa())},r.Xa=function(){ms(this)};function ms(c){if(c.h&&typeof u<"u"){if(c.v&&ri(c)==4)setTimeout(c.Ca.bind(c),0);else if(mt(c,"readystatechange"),ri(c)==4){c.h=!1;try{const rt=c.ca();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var T;if(!(T=_)){var B;if(B=rt===0){let St=String(c.D).match(Eo)[1]||null;!St&&f.self&&f.self.location&&(St=f.self.location.protocol.slice(0,-1)),B=!Ai.test(St?St.toLowerCase():"")}T=B}if(T)mt(c,"complete"),mt(c,"success");else{c.o=6;try{var tt=ri(c)>2?c.g.statusText:""}catch{tt=""}c.l=tt+" ["+c.ca()+"]",al(c)}}finally{Fi(c)}}}}function Fi(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const T=c.g;c.g=null,_||mt(c,"ready");try{T.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ri(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),fn(_)}};function nn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const _={};c=(c.g&&ri(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<c.length;B++){if(M(c[B]))continue;var T=yo(c[B]);const tt=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const rt=_[tt]||[];_[tt]=rt,rt.push(T)}Ct(_,function(B){return B.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(c,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[c]||_}function ba(c){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,c),this.Za=Ci("retryDelaySeedMs",1e4,c),this.Ta=Ci("forwardChannelMaxRetries",2,c),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Yr(c&&c.concurrentRequestLimit),this.Ba=new ya,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ba.prototype,r.ka=8,r.I=1,r.connect=function(c,_,T,B){Te(0),this.W=c,this.H=_||{},T&&B!==void 0&&(this.H.OSID=T,this.H.OAID=B),this.F=this.X,this.J=Io(this,null,this.W),Ri(this)};function sl(c){if(Ys(c),c.I==3){var _=c.V++,T=Le(c.J);if(fe(T,"SID",c.M),fe(T,"RID",_),fe(T,"TYPE","terminate"),ps(c,T),_=new ni(c,c.j,_),_.M=2,_.A=us(Le(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&f.Image&&(new Image().src=_.A,T=!0),T||(_.g=Mo(_.j,null),_.g.ea(_.A)),_.F=Date.now(),vi(_)}ko(c)}function Ea(c){c.g&&(ll(c),c.g.cancel(),c.g=null)}function Ys(c){Ea(c),c.v&&(f.clearTimeout(c.v),c.v=null),Xs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ri(c){if(!Kr(c.h)&&!c.m){c.m=!0;var _=c.Ea;K||O(),st||(K(),st=!0),D.add(_,c),c.D=0}}function Ks(c,_){return xi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gi(g(c.Ea,c,_),Do(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const tt=new ni(this,this.j,c);let rt=this.o;if(this.U&&(rt?(rt=j(rt),ht(rt,this.U)):rt=this.U),this.u!==null||this.R||(tt.J=rt,rt=null),this.S)t:{for(var _=0,T=0;T<this.i.length;T++){e:{var B=this.i[T];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break e}B=void 0}if(B===void 0)break;if(_+=B,_>4096){_=T;break t}if(_===4096||T===this.i.length-1){_=T+1;break t}}_=1e3}else _=1e3;_=Ao(this,tt,_),T=Le(this.J),fe(T,"RID",c),fe(T,"CVER",22),this.G&&fe(T,"X-HTTP-Session-Id",this.G),ps(this,T),rt&&(this.R?_="headers="+qi(Fn(rt))+"&"+_:this.u&&fs(T,this.u,rt)),Xr(this.h,tt),this.Ra&&fe(T,"TYPE","init"),this.S?(fe(T,"$req",_),fe(T,"SID","null"),tt.U=!0,yi(tt,T,null)):yi(tt,T,_),this.I=2}}else this.I==3&&(c?rl(this,c):this.i.length==0||Kr(this.h)||rl(this))};function rl(c,_){var T;_?T=_.l:T=c.V++;const B=Le(c.J);fe(B,"SID",c.M),fe(B,"RID",T),fe(B,"AID",c.K),ps(c,B),c.u&&c.o&&fs(B,c.u,c.o),T=new ni(c,c.j,T,c.D+1),c.u===null&&(T.J=c.o),_&&(c.i=_.G.concat(c.i)),_=Ao(c,T,1e3),T.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Xr(c.h,T),yi(T,B,_)}function ps(c,_){c.H&&pt(c.H,function(T,B){fe(_,B,T)}),c.l&&pt({},function(T,B){fe(_,B,T)})}function Ao(c,_,T){T=Math.min(c.i.length,T);const B=c.l?g(c.l.Ka,c.l,c):null;t:{var tt=c.i;let Qt=-1;for(;;){const Oe=["count="+T];Qt==-1?T>0?(Qt=tt[0].g,Oe.push("ofs="+Qt)):Qt=0:Oe.push("ofs="+Qt);let ue=!0;for(let Re=0;Re<T;Re++){var rt=tt[Re].g;const Gn=tt[Re].map;if(rt-=Qt,rt<0)Qt=Math.max(0,tt[Re].g-100),ue=!1;else try{rt="req"+rt+"_"||"";try{var St=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Di,li]of St){let oi=li;m(li)&&(oi=Gt(li)),Oe.push(rt+Di+"="+encodeURIComponent(oi))}}catch(Di){throw Oe.push(rt+"type="+encodeURIComponent("_badmap")),Di}}catch{B&&B(Gn)}}if(ue){St=Oe.join("&");break t}}St=void 0}return c=c.i.splice(0,T),_.G=c,St}function Co(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;K||O(),st||(K(),st=!0),D.add(_,c),c.A=0}}function gs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gi(g(c.Da,c),Do(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Ro(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Ea(this),Ro(this))};function ll(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Ro(c){c.g=new ni(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=Le(c.na);fe(_,"RID","rpc"),fe(_,"SID",c.M),fe(_,"AID",c.K),fe(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&fe(_,"TO",c.ia),fe(_,"TYPE","xmlhttp"),ps(c,_),c.u&&c.o&&fs(_,c.u,c.o),c.O&&(c.g.H=c.O);var T=c.g;c=c.ba,T.M=1,T.A=us(Le(_)),T.u=null,T.R=!0,Ls(T,c)}r.Va=function(){this.C!=null&&(this.C=null,Ea(this),gs(this),Te(19))};function Xs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function No(c,_){var T=null;if(c.g==_){Xs(c),ll(c),c.g=null;var B=2}else if(Ti(c.h,_))T=_.G,Zr(c.h,_),B=1;else return;if(c.I!=0){if(_.o)if(B==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var tt=c.D;B=da(),mt(B,new vn(B,T)),Ri(c)}else Co(c);else if(tt=_.m,tt==3||tt==0&&_.X>0||!(B==1&&Ks(c,_)||B==2&&gs(c)))switch(T&&T.length>0&&(_=c.h,_.i=_.i.concat(T)),tt){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function Do(c,_){let T=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(T*=2),T*_}function Ni(c,_){if(c.j.info("Error code "+_),_==2){var T=g(c.bb,c),B=c.Ua;const tt=!B;B=new In(B||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$e(B,"https"),us(B),tt?ai(B.toString(),T):nl(B.toString(),T)}else Te(2);c.I=0,c.l&&c.l.pa(_),ko(c),Ys(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function ko(c){if(c.I=0,c.ja=[],c.l){const _=Jr(c.h);(_.length!=0||c.i.length!=0)&&(V(c.ja,_),V(c.ja,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.oa()}}function Io(c,_,T){var B=T instanceof In?Le(T):new In(T);if(B.g!="")_&&(B.g=_+"."+B.g),ma(B,B.u);else{var tt=f.location;B=tt.protocol,_=_?_+"."+tt.hostname:tt.hostname,tt=+tt.port;const rt=new In(null);B&&$e(rt,B),_&&(rt.g=_),tt&&ma(rt,tt),T&&(rt.h=T),B=rt}return T=c.G,_=c.wa,T&&_&&fe(B,T,_),fe(B,"VER",c.ka),ps(c,B),B}function Mo(c,_,T){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new ge(new Si({ab:T})):new ge(c.ma),_.Fa(c.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oo(){}r=Oo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xa(){}xa.prototype.g=function(c,_){return new bn(c,_)};function bn(c,_){Z.call(this),this.g=new ba(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!M(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Qi(this)}v(bn,Z),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){sl(this.g)},bn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var T={};T.__data__=c,c=T}else this.v&&(T={},T.__data__=Gt(c),c=T);_.i.push(new Be(_.Ya++,c)),_.I==3&&Ri(_)},bn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,bn.Z.N.call(this)};function zo(c){ke.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){t:{for(const T in _){c=T;break t}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}v(zo,ke);function Vo(){dn.call(this),this.status=1}v(Vo,dn);function Qi(c){this.g=c}v(Qi,Oo),Qi.prototype.ra=function(){mt(this.g,"a")},Qi.prototype.qa=function(c){mt(this.g,new zo(c))},Qi.prototype.pa=function(c){mt(this.g,new Vo)},Qi.prototype.oa=function(){mt(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,E0=function(){return new xa},b0=function(){return da()},v0=oe,cd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,Xu=ls,Gr.COMPLETE="complete",y0=Gr,mi.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",Z.prototype.listen=Z.prototype.J,Kl=mi,ge.prototype.listenOnce=ge.prototype.K,ge.prototype.getLastError=ge.prototype.Ha,ge.prototype.getLastErrorCode=ge.prototype.ya,ge.prototype.getStatus=ge.prototype.ca,ge.prototype.getResponseJson=ge.prototype.La,ge.prototype.getResponseText=ge.prototype.la,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Fa,_0=ge}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const ay="@firebase/firestore",sy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new c0("@firebase/firestore");function Ar(){return zs.logLevel}function Rt(r,...e){if(zs.logLevel<=ie.DEBUG){const i=e.map(kd);zs.debug(`Firestore (${Pr}): ${r}`,...i)}}function ha(r,...e){if(zs.logLevel<=ie.ERROR){const i=e.map(kd);zs.error(`Firestore (${Pr}): ${r}`,...i)}}function Or(r,...e){if(zs.logLevel<=ie.WARN){const i=e.map(kd);zs.warn(`Firestore (${Pr}): ${r}`,...i)}}function kd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,x0(r,s,i)}function x0(r,e,i){let s=`FIRESTORE (${Pr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ha(s),new Error(s)}function he(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||x0(e,o,s)}function Ft(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends Lr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(gn.UNAUTHENTICATED)))}shutdown(){}}class dx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class mx{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){he(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let u=new Xa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xa,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xa)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(he(typeof s.accessToken=="string",31837,{l:s}),new T0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class px{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gx{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new px(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ry{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _x{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,XE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){he(this.o===void 0,3512);const s=u=>{u.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Rt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ry(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(he(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ry(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<i&&(s+=e.charAt(o[u]%62))}return s}}function Wt(r,e){return r<e?-1:r>e?1:0}function hd(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Gf(o)===Gf(u)?Wt(o,u):Gf(o)?1:-1}return Wt(r.length,e.length)}const vx=55296,bx=57343;function Gf(r){const e=r.charCodeAt(0);return e>=vx&&e<=bx}function zr(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="__name__";class Vi{constructor(e,i,s){i===void 0?i=0:i>e.length&&Lt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Lt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const u=Vi.compareSegments(e.get(o),i.get(o));if(u!==0)return u}return Wt(e.length,i.length)}static compareSegments(e,i){const s=Vi.isNumericId(e),o=Vi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(i)):hd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ka.fromString(e.substring(4,e.length-2))}}class Ae extends Vi{construct(e,i,s){return new Ae(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new kt(Et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Ae(i)}static emptyPath(){return new Ae([])}}const Ex=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Vi{construct(e,i,s){return new un(e,i,s)}static isValidIdentifier(e){return Ex.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ly}static keyField(){return new un([ly])}static fromServerFormat(e){const i=[];let s="",o=0;const u=()=>{if(s.length===0)throw new kt(Et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new kt(Et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new kt(Et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new kt(Et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(i)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.path=e}static fromPath(e){return new jt(Ae.fromString(e))}static fromName(e){return new jt(Ae.fromString(e).popFirst(5))}static empty(){return new jt(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Ae.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jt(new Ae(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r,e,i){if(!i)throw new kt(Et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function xx(r,e,i,s){if(e===!0&&s===!0)throw new kt(Et.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function oy(r){if(!jt.isDocumentKey(r))throw new kt(Et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function uy(r){if(jt.isDocumentKey(r))throw new kt(Et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function S0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Md(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Lt(12329,{type:typeof r})}function lc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new kt(Et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Md(r);throw new kt(Et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(r,e){const i={typeString:r};return e&&(i.value=e),i}function co(r,e){if(!S0(r))throw new kt(Et.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new kt(Et.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=-62135596800,hy=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*hy);return new Ce(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new kt(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new kt(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<cy)throw new kt(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hy}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(co(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:Qe("string",Ce._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new Ce(0,0))}static max(){return new Pt(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=-1;function Tx(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Pt.fromTimestamp(s===1e9?new Ce(i+1,0):new Ce(i,s));return new Ja(o,jt.empty(),e)}function wx(r){return new Ja(r.readTime,r.key,ao)}class Ja{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ja(Pt.min(),jt.empty(),ao)}static max(){return new Ja(Pt.max(),jt.empty(),ao)}}function Sx(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=jt.comparator(r.documentKey,e.documentKey),i!==0?i:Wt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hr(r){if(r.code!==Et.FAILED_PRECONDITION||r.message!==Ax)throw r;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new vt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof vt?i:vt.resolve(i)}catch(i){return vt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):vt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):vt.reject(i)}static resolve(e){return new vt(((i,s)=>{i(e)}))}static reject(e){return new vt(((i,s)=>{s(e)}))}static waitFor(e){return new vt(((i,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&i()}),(p=>s(p)))})),f=!0,u===o&&i()}))}static or(e){let i=vt.resolve(!1);for(const s of e)i=i.next((o=>o?vt.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,u)=>{s.push(i.call(this,o,u))})),this.waitFor(s)}static mapArray(e,i){return new vt(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;i(e[g]).next((b=>{f[g]=b,++m,m===u&&s(f)}),(b=>o(b)))}}))}static doWhile(e,i){return new vt(((s,o)=>{const u=()=>{e()===!0?i().next((()=>{u()}),o):s()};u()}))}}function Rx(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function qr(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=-1;function Ec(r){return r==null}function oc(r){return r===0&&1/r==-1/0}function Nx(r){return typeof r=="number"&&Number.isInteger(r)&&!oc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="";function Dx(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=fy(e)),e=kx(r.get(i),e);return fy(e)}function kx(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":i+="";break;case A0:i+="";break;default:i+=u}}return i}function fy(r){return r+A0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function is(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function C0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new De(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?s(e.key,i):1,i&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,s,o,u){this.key=e,this.value=i,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,u){return new on(e??this.key,i??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,s),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Lt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Lt(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt(57766)}get value(){throw Lt(16141)}get color(){throw Lt(16727)}get left(){throw Lt(29726)}get right(){throw Lt(36894)}copy(e,i,s,o,u){return this}insert(e,i,s){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new my(this.data.getIterator())}getIteratorFrom(e){return new my(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Xe(this.comparator);return i.data=e,i}}class my{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Ln([])}unionWith(e){let i=new Xe(un.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Ln(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return zr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new R0("Invalid base64 string: "+u):u}})(e);return new hn(i)}static fromUint8Array(e){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new hn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const Ix=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(r){if(he(!!r,39018),typeof r=="string"){let e=0;const i=Ix.exec(r);if(he(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:je(r.seconds),nanos:je(r.nanos)}}function je(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Wa(r){return typeof r=="string"?hn.fromBase64String(r):hn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="server_timestamp",D0="__type__",k0="__previous_value__",I0="__local_write_time__";function zd(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[D0])==null?void 0:s.stringValue)===N0}function xc(r){const e=r.mapValue.fields[k0];return zd(e)?xc(e):e}function so(r){const e=$a(r.mapValue.fields[I0].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,i,s,o,u,f,m,p,g,b){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const uc="(default)";class ro{constructor(e,i){this.projectId=e,this.database=i||uc}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===uc}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="__type__",Ox="__max__",Fu={mapValue:{}},O0="__vector__",cc="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zd(r)?4:Vx(r)?9007199254740991:zx(r)?10:11:Lt(28295,{value:r})}function Pi(r,e){if(r===e)return!0;const i=ts(r);if(i!==ts(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return so(r).isEqual(so(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=$a(o.timestampValue),m=$a(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Wa(o.bytesValue).isEqual(Wa(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return je(o.geoPointValue.latitude)===je(u.geoPointValue.latitude)&&je(o.geoPointValue.longitude)===je(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return je(o.integerValue)===je(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=je(o.doubleValue),m=je(u.doubleValue);return f===m?oc(f)===oc(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return zr(r.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(dy(f)!==dy(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Pi(f[p],m[p])))return!1;return!0})(r,e);default:return Lt(52216,{left:r})}}function lo(r,e){return(r.values||[]).find((i=>Pi(i,e)))!==void 0}function Vr(r,e){if(r===e)return 0;const i=ts(r),s=ts(e);if(i!==s)return Wt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Wt(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=je(u.integerValue||u.doubleValue),p=je(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return py(r.timestampValue,e.timestampValue);case 4:return py(so(r),so(e));case 5:return hd(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Wa(u),p=Wa(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=Wt(m[g],p[g]);if(b!==0)return b}return Wt(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Wt(je(u.latitude),je(f.latitude));return m!==0?m:Wt(je(u.longitude),je(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return gy(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var A,x,V,E;const m=u.fields||{},p=f.fields||{},g=(A=m[cc])==null?void 0:A.arrayValue,b=(x=p[cc])==null?void 0:x.arrayValue,v=Wt(((V=g==null?void 0:g.values)==null?void 0:V.length)||0,((E=b==null?void 0:b.values)==null?void 0:E.length)||0);return v!==0?v:gy(g,b)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Fu.mapValue&&f===Fu.mapValue)return 0;if(u===Fu.mapValue)return 1;if(f===Fu.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let v=0;v<p.length&&v<b.length;++v){const A=hd(p[v],b[v]);if(A!==0)return A;const x=Vr(m[p[v]],g[b[v]]);if(x!==0)return x}return Wt(p.length,b.length)})(r.mapValue,e.mapValue);default:throw Lt(23264,{he:i})}}function py(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Wt(r,e);const i=$a(r),s=$a(e),o=Wt(i.seconds,s.seconds);return o!==0?o:Wt(i.nanos,s.nanos)}function gy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const u=Vr(i[o],s[o]);if(u)return u}return Wt(i.length,s.length)}function jr(r){return fd(r)}function fd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=$a(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Wa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return jt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=fd(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${fd(i.fields[f])}`;return o+"}"})(r.mapValue):Lt(61005,{value:r})}function Zu(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xc(r);return e?16+Zu(e):16;case 5:return 2*r.stringValue.length;case 6:return Wa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Zu(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return is(s.fields,((u,f)=>{o+=u.length+Zu(f)})),o})(r.mapValue);default:throw Lt(13486,{value:r})}}function dd(r){return!!r&&"integerValue"in r}function Vd(r){return!!r&&"arrayValue"in r}function _y(r){return!!r&&"nullValue"in r}function yy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ju(r){return!!r&&"mapValue"in r}function zx(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[M0])==null?void 0:s.stringValue)===O0}function $l(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return is(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=$l(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=$l(r.arrayValue.values[i]);return e}return{...r}}function Vx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Ox}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ju(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(i)}setAll(e){let i=un.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=m.popLast()}f?s[m.lastSegment()]=$l(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,o)}delete(e){const i=this.field(e.popLast());Ju(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){is(i,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Dn($l(this.value))}}function z0(r){const e=[];return is(r.fields,((i,s)=>{const o=new un([i]);if(Ju(s)){const u=z0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,i,s,o,u,f,m){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new _n(e,0,Pt.min(),Pt.min(),Pt.min(),Dn.empty(),0)}static newFoundDocument(e,i,s,o){return new _n(e,1,i,Pt.min(),s,o,0)}static newNoDocument(e,i){return new _n(e,2,i,Pt.min(),Pt.min(),Dn.empty(),0)}static newUnknownDocument(e,i){return new _n(e,3,i,Pt.min(),Pt.min(),Dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i){this.position=e,this.inclusive=i}}function vy(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=jt.comparator(jt.fromName(f.referenceValue),i.key):s=Vr(f,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function by(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Pi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i="asc"){this.field=e,this.dir=i}}function jx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{}class Ke extends V0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Bx(e,i,s):i==="array-contains"?new Hx(e,s):i==="in"?new qx(e,s):i==="not-in"?new Fx(e,s):i==="array-contains-any"?new Gx(e,s):new Ke(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Lx(e,s):new Px(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Vr(i,this.value)):i!==null&&ts(this.value)===ts(i)&&this.matchesComparison(Vr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends V0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Hi(e,i)}matches(e){return j0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function j0(r){return r.op==="and"}function U0(r){return Ux(r)&&j0(r)}function Ux(r){for(const e of r.filters)if(e instanceof Hi)return!1;return!0}function md(r){if(r instanceof Ke)return r.field.canonicalString()+r.op.toString()+jr(r.value);if(U0(r))return r.filters.map((e=>md(e))).join(",");{const e=r.filters.map((i=>md(i))).join(",");return`${r.op}(${e})`}}function B0(r,e){return r instanceof Ke?(function(s,o){return o instanceof Ke&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)})(r,e):r instanceof Hi?(function(s,o){return o instanceof Hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&B0(f,o.filters[m])),!0):!1})(r,e):void Lt(19439)}function L0(r){return r instanceof Ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${jr(i.value)}`})(r):r instanceof Hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(L0).join(" ,")+"}"})(r):"Filter"}class Bx extends Ke{constructor(e,i,s){super(e,i,s),this.key=jt.fromName(s.referenceValue)}matches(e){const i=jt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Lx extends Ke{constructor(e,i){super(e,"in",i),this.keys=P0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Px extends Ke{constructor(e,i){super(e,"not-in",i),this.keys=P0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function P0(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>jt.fromName(s.referenceValue)))}class Hx extends Ke{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Vd(i)&&lo(i.arrayValue,this.value)}}class qx extends Ke{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lo(this.value.arrayValue,i)}}class Fx extends Ke{constructor(e,i){super(e,"not-in",i)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!lo(this.value.arrayValue,i)}}class Gx extends Ke{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Vd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>lo(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,i=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Ey(r,e=null,i=[],s=[],o=null,u=null,f=null){return new Qx(r,e,i,s,o,u,f)}function jd(r){const e=Ft(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>md(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ec(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>jr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>jr(s))).join(",")),e.Te=i}return e.Te}function Ud(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!jx(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!B0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!by(r.startAt,e.startAt)&&by(r.endAt,e.endAt)}function pd(r){return jt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Yx(r,e,i,s,o,u,f,m){return new Tc(r,e,i,s,o,u,f,m)}function H0(r){return new Tc(r)}function xy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Kx(r){return r.collectionGroup!==null}function Wl(r){const e=Ft(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Xe(un.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fc(u,s))})),i.has(un.keyField().canonicalString())||e.Ie.push(new fc(un.keyField(),s))}return e.Ie}function ji(r){const e=Ft(r);return e.Ee||(e.Ee=Xx(e,Wl(r))),e.Ee}function Xx(r,e){if(r.limitType==="F")return Ey(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new fc(o.field,u)}));const i=r.endAt?new hc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new hc(r.startAt.position,r.startAt.inclusive):null;return Ey(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function gd(r,e,i){return new Tc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function wc(r,e){return Ud(ji(r),ji(e))&&r.limitType===e.limitType}function q0(r){return`${jd(ji(r))}|lt:${r.limitType}`}function Cr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>L0(o))).join(", ")}]`),Ec(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>jr(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>jr(o))).join(",")),`Target(${s})`})(ji(r))}; limitType=${r.limitType})`}function Sc(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):jt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=vy(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Wl(s),o)||s.endAt&&!(function(f,m,p){const g=vy(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Wl(s),o))})(r,e)}function Zx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function F0(r){return(e,i)=>{let s=!1;for(const o of Wl(r)){const u=Jx(o,e,i);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Jx(r,e,i){const s=r.field.isKeyField()?jt.comparator(e.key,i.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Vr(p,g):Lt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Lt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,((i,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return C0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new De(jt.comparator);function fa(){return $x}const G0=new De(jt.comparator);function Xl(...r){let e=G0;for(const i of r)e=e.insert(i.key,i);return e}function Q0(r){let e=G0;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Os(){return to()}function Y0(){return to()}function to(){return new js((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Wx=new De(jt.comparator),tT=new Xe(jt.comparator);function te(...r){let e=tT;for(const i of r)e=e.add(i);return e}const eT=new Xe(Wt);function nT(){return eT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function K0(r){return{integerValue:""+r}}function iT(r,e){return Nx(e)?K0(e):Bd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this._=void 0}}function aT(r,e,i){return r instanceof dc?(function(o,u){const f={fields:{[D0]:{stringValue:N0},[I0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zd(u)&&(u=xc(u)),u&&(f.fields[k0]=u),{mapValue:f}})(i,e):r instanceof oo?Z0(r,e):r instanceof uo?J0(r,e):(function(o,u){const f=X0(o,u),m=Ty(f)+Ty(o.Ae);return dd(f)&&dd(o.Ae)?K0(m):Bd(o.serializer,m)})(r,e)}function sT(r,e,i){return r instanceof oo?Z0(r,e):r instanceof uo?J0(r,e):i}function X0(r,e){return r instanceof mc?(function(s){return dd(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class dc extends Ac{}class oo extends Ac{constructor(e){super(),this.elements=e}}function Z0(r,e){const i=$0(e);for(const s of r.elements)i.some((o=>Pi(o,s)))||i.push(s);return{arrayValue:{values:i}}}class uo extends Ac{constructor(e){super(),this.elements=e}}function J0(r,e){let i=$0(e);for(const s of r.elements)i=i.filter((o=>!Pi(o,s)));return{arrayValue:{values:i}}}class mc extends Ac{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Ty(r){return je(r.integerValue||r.doubleValue)}function $0(r){return Vd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function rT(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof oo&&o instanceof oo||s instanceof uo&&o instanceof uo?zr(s.elements,o.elements,Pi):s instanceof mc&&o instanceof mc?Pi(s.Ae,o.Ae):s instanceof dc&&o instanceof dc})(r.transform,e.transform)}class lT{constructor(e,i){this.version=e,this.transformResults=i}}class fi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Cc{}function W0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ld(r.key,fi.none()):new ho(r.key,r.data,fi.none());{const i=r.data,s=Dn.empty();let o=new Xe(un.comparator);for(let u of e.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new as(r.key,s,new Ln(o.toArray()),fi.none())}}function oT(r,e,i){r instanceof ho?(function(o,u,f){const m=o.value.clone(),p=Sy(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,i):r instanceof as?(function(o,u,f){if(!$u(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Sy(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(tv(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function eo(r,e,i,s){return r instanceof ho?(function(u,f,m,p){if(!$u(u.precondition,f))return m;const g=u.value.clone(),b=Ay(u.fieldTransforms,p,f);return g.setAll(b),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,i,s):r instanceof as?(function(u,f,m,p){if(!$u(u.precondition,f))return m;const g=Ay(u.fieldTransforms,p,f),b=f.data;return b.setAll(tv(u)),b.setAll(g),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((v=>v.field)))})(r,e,i,s):(function(u,f,m){return $u(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,i)}function uT(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=X0(s.transform,o||null);u!=null&&(i===null&&(i=Dn.empty()),i.set(s.field,u))}return i||null}function wy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zr(s,o,((u,f)=>rT(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ho extends Cc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class as extends Cc{constructor(e,i,s,o,u=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function Sy(r,e,i){const s=new Map;he(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,sT(f,m,i[o]))}return s}function Ay(r,e,i){const s=new Map;for(const o of r){const u=o.transform,f=i.data.field(o.field);s.set(o.field,aT(u,f,e))}return s}class Ld extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cT extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&oT(u,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=eo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=eo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Y0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=i.has(o.key)?null:m;const p=W0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Pt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),te())}isEqual(e){return this.batchId===e.batchId&&zr(this.mutations,e.mutations,((i,s)=>wy(i,s)))&&zr(this.baseMutations,e.baseMutations,((i,s)=>wy(i,s)))}}class Pd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){he(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return Wx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Pd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,ne;function mT(r){switch(r){case Et.OK:return Lt(64938);case Et.CANCELLED:case Et.UNKNOWN:case Et.DEADLINE_EXCEEDED:case Et.RESOURCE_EXHAUSTED:case Et.INTERNAL:case Et.UNAVAILABLE:case Et.UNAUTHENTICATED:return!1;case Et.INVALID_ARGUMENT:case Et.NOT_FOUND:case Et.ALREADY_EXISTS:case Et.PERMISSION_DENIED:case Et.FAILED_PRECONDITION:case Et.ABORTED:case Et.OUT_OF_RANGE:case Et.UNIMPLEMENTED:case Et.DATA_LOSS:return!0;default:return Lt(15467,{code:r})}}function ev(r){if(r===void 0)return ha("GRPC error has no .code"),Et.UNKNOWN;switch(r){case Ge.OK:return Et.OK;case Ge.CANCELLED:return Et.CANCELLED;case Ge.UNKNOWN:return Et.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return Et.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return Et.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return Et.INTERNAL;case Ge.UNAVAILABLE:return Et.UNAVAILABLE;case Ge.UNAUTHENTICATED:return Et.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return Et.INVALID_ARGUMENT;case Ge.NOT_FOUND:return Et.NOT_FOUND;case Ge.ALREADY_EXISTS:return Et.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return Et.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return Et.FAILED_PRECONDITION;case Ge.ABORTED:return Et.ABORTED;case Ge.OUT_OF_RANGE:return Et.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return Et.UNIMPLEMENTED;case Ge.DATA_LOSS:return Et.DATA_LOSS;default:return Lt(39323,{code:r})}}(ne=Ge||(Ge={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Ka([4294967295,4294967295],0);function Cy(r){const e=pT().encode(r),i=new g0;return i.update(e),new Uint8Array(i.digest())}function Ry(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ka([i,s],0),new Ka([o,u],0)]}class Hd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Zl(`Invalid padding: ${i}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ka.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Ka.fromNumber(s)));return o.compare(gT)===1&&(o=new Ka([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Cy(e),[s,o]=Ry(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Hd(u,o,i);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const i=Cy(e),[s,o]=Ry(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i,s,o,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,fo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Rc(Pt.min(),o,new De(Wt),fa(),te())}}class fo{constructor(e,i,s,o,u){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fo(s,i,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class nv{constructor(e,i){this.targetId=e,this.Ce=i}}class iv{constructor(e,i,s=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Ny{constructor(){this.ve=0,this.Fe=Dy(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=te(),i=te(),s=te();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Lt(38017,{changeType:u})}})),new fo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=Dy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,he(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _T{constructor(e){this.Ge=e,this.ze=new Map,this.je=fa(),this.Je=Gu(),this.He=Gu(),this.Ye=new De(Wt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Lt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const u=o.target;if(pd(u))if(s===0){const f=new jt(u.path);this.et(i,f,_n.newNoDocument(f,Pt.min()))}else he(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=i;let f,m;try{f=Wa(s).toUint8Array()}catch(p){if(p instanceof R0)return Or("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Hd(f,o,u)}catch(p){return Or(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(i,u,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&pd(m.target)){const p=new jt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,_n.newNoDocument(p,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let s=te();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Rc(e,i,this.Ye,this.je,s);return this.je=fa(),this.Je=Gu(),this.He=Gu(),this.Ye=new De(Wt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Ny,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Xe(Wt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Xe(Wt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||Rt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ny),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Gu(){return new De(jt.comparator)}function Dy(){return new De(jt.comparator)}const yT={asc:"ASCENDING",desc:"DESCENDING"},vT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bT={and:"AND",or:"OR"};class ET{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _d(r,e){return r.useProto3Json||Ec(e)?e:{value:e}}function pc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function av(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function xT(r,e){return pc(r,e.toTimestamp())}function Ui(r){return he(!!r,49232),Pt.fromTimestamp((function(i){const s=$a(i);return new Ce(s.seconds,s.nanos)})(r))}function qd(r,e){return yd(r,e).canonicalString()}function yd(r,e){const i=(function(o){return new Ae(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function sv(r){const e=Ae.fromString(r);return he(cv(e),10190,{key:e.toString()}),e}function vd(r,e){return qd(r.databaseId,e.path)}function Qf(r,e){const i=sv(e);if(i.get(1)!==r.databaseId.projectId)throw new kt(Et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new kt(Et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new jt(lv(i))}function rv(r,e){return qd(r.databaseId,e)}function TT(r){const e=sv(r);return e.length===4?Ae.emptyPath():lv(e)}function bd(r){return new Ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lv(r){return he(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ky(r,e,i){return{name:vd(r,e),fields:i.value.mapValue.fields}}function wT(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Lt(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(he(b===void 0||typeof b=="string",58123),hn.fromBase64String(b||"")):(he(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),hn.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const b=g.code===void 0?Et.UNKNOWN:ev(g.code);return new kt(b,g.message||"")})(f);i=new iv(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qf(r,s.document.name),u=Ui(s.document.updateTime),f=s.document.createTime?Ui(s.document.createTime):Pt.min(),m=new Dn({mapValue:{fields:s.document.fields}}),p=_n.newFoundDocument(o,u,f,m),g=s.targetIds||[],b=s.removedTargetIds||[];i=new Wu(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qf(r,s.document),u=s.readTime?Ui(s.readTime):Pt.min(),f=_n.newNoDocument(o,u),m=s.removedTargetIds||[];i=new Wu([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qf(r,s.document),u=s.removedTargetIds||[];i=new Wu([],u,o,null)}else{if(!("filter"in e))return Lt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new dT(o,u),m=s.targetId;i=new nv(m,f)}}return i}function ST(r,e){let i;if(e instanceof ho)i={update:ky(r,e.key,e.value)};else if(e instanceof Ld)i={delete:vd(r,e.key)};else if(e instanceof as)i={update:ky(r,e.key,e.data),updateMask:OT(e.fieldMask)};else{if(!(e instanceof cT))return Lt(16599,{Vt:e.type});i={verify:vd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof dc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof oo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof uo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof mc)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Lt(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:xT(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Lt(27497)})(r,e.precondition)),i}function AT(r,e){return r&&r.length>0?(he(e!==void 0,14353),r.map((i=>(function(o,u){let f=o.updateTime?Ui(o.updateTime):Ui(u);return f.isEqual(Pt.min())&&(f=Ui(u)),new lT(f,o.transformResults||[])})(i,e)))):[]}function CT(r,e){return{documents:[rv(r,e.path)]}}function RT(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=rv(r,o);const u=(function(g){if(g.length!==0)return uv(Hi.create(g,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((b=>(function(A){return{field:Rr(A.field),direction:kT(A.dir)}})(b)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const m=_d(r,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:i,parent:o}}function NT(r){let e=TT(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){he(s===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];i.where&&(u=(function(v){const A=ov(v);return A instanceof Hi&&U0(A)?A.getFilters():[A]})(i.where));let f=[];i.orderBy&&(f=(function(v){return v.map((A=>(function(V){return new fc(Nr(V.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(A)))})(i.orderBy));let m=null;i.limit&&(m=(function(v){let A;return A=typeof v=="object"?v.value:v,Ec(A)?null:A})(i.limit));let p=null;i.startAt&&(p=(function(v){const A=!!v.before,x=v.values||[];return new hc(x,A)})(i.startAt));let g=null;return i.endAt&&(g=(function(v){const A=!v.before,x=v.values||[];return new hc(x,A)})(i.endAt)),Yx(e,o,f,u,m,"F",p,g)}function DT(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ov(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Nr(i.unaryFilter.field);return Ke.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Nr(i.unaryFilter.field);return Ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Nr(i.unaryFilter.field);return Ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Nr(i.unaryFilter.field);return Ke.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Lt(61313);default:return Lt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ke.create(Nr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Lt(58110);default:return Lt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Hi.create(i.compositeFilter.filters.map((s=>ov(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Lt(1026)}})(i.compositeFilter.op))})(r):Lt(30097,{filter:r})}function kT(r){return yT[r]}function IT(r){return vT[r]}function MT(r){return bT[r]}function Rr(r){return{fieldPath:r.canonicalString()}}function Nr(r){return un.fromServerFormat(r.fieldPath)}function uv(r){return r instanceof Ke?(function(i){if(i.op==="=="){if(yy(i.value))return{unaryFilter:{field:Rr(i.field),op:"IS_NAN"}};if(_y(i.value))return{unaryFilter:{field:Rr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(yy(i.value))return{unaryFilter:{field:Rr(i.field),op:"IS_NOT_NAN"}};if(_y(i.value))return{unaryFilter:{field:Rr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rr(i.field),op:IT(i.op),value:i.value}}})(r):r instanceof Hi?(function(i){const s=i.getFilters().map((o=>uv(o)));return s.length===1?s[0]:{compositeFilter:{op:MT(i.op),filters:s}}})(r):Lt(54877,{filter:r})}function OT(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function cv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,i,s,o,u=Pt.min(),f=Pt.min(),m=hn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.yt=e}}function VT(r){const e=NT({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.Cn=new UT}addToCollectionParentIndex(e,i){return this.Cn.add(i),vt.resolve()}getCollectionParents(e,i){return vt.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return vt.resolve()}deleteFieldIndex(e,i){return vt.resolve()}deleteAllFieldIndexes(e){return vt.resolve()}createTargetIndexes(e,i){return vt.resolve()}getDocumentsMatchingTarget(e,i){return vt.resolve(null)}getIndexType(e,i){return vt.resolve(0)}getFieldIndexes(e,i){return vt.resolve([])}getNextCollectionGroupToUpdate(e){return vt.resolve(null)}getMinOffset(e,i){return vt.resolve(Ja.min())}getMinOffsetFromCollectionGroup(e,i){return vt.resolve(Ja.min())}updateCollectionGroup(e,i,s){return vt.resolve()}updateIndexEntries(e,i){return vt.resolve()}}class UT{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Xe(Ae.comparator),u=!o.has(s);return this.index[i]=o.add(s),u}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Xe(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hv=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(hv,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ur(0)}static cr(){return new Ur(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="LruGarbageCollector",BT=1048576;function Oy([r,e],[i,s]){const o=Wt(r,i);return o===0?Wt(e,s):o}class LT{constructor(e){this.Ir=e,this.buffer=new Xe(Oy),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Oy(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class PT{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Rt(My,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){qr(i)?Rt(My,"Ignoring IndexedDB error during garbage collection: ",i):await Hr(i)}await this.Vr(3e5)}))}}class HT{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return vt.resolve(bc.ce);const s=new LT(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(Iy)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iy):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,u,f,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,f=Date.now(),this.nthSequenceNumber(e,o)))).next((v=>(s=v,m=Date.now(),this.removeTargets(e,s,i)))).next((v=>(u=v,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(g=Date.now(),Ar()<=ie.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v}))))}}function qT(r,e){return new HT(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.changes=new js((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?vt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&eo(s.mutation,o,Ln.empty(),Ce.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,te()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=te()){const o=Os();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((u=>{let f=Xl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const s=Os();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,te())))}populateOverlays(e,i,s){const o=[];return s.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{i.set(f,m)}))}))}computeViews(e,i,s,o){let u=fa();const f=to(),m=(function(){return to()})();return i.forEach(((p,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof as)?u=u.insert(g.key,g):b!==void 0?(f.set(g.key,b.mutation.getFieldMask()),eo(b.mutation,g,b.mutation.getFieldMask(),Ce.now())):f.set(g.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,b)=>f.set(g,b))),i.forEach(((g,b)=>m.set(g,new GT(b,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,i){const s=to();let o=new De(((f,m)=>f-m)),u=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=i.get(p);if(g===null)return;let b=s.get(p)||Ln.empty();b=m.applyToLocalView(g,b),s.set(p,b);const v=(o.get(m.batchId)||te()).add(p);o=o.insert(m.batchId,v)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,v=Y0();b.forEach((A=>{if(!u.has(A)){const x=W0(i.get(A),s.get(A));x!==null&&v.set(A,x),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,v))}return vt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(f){return jt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Kx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-u.size):vt.resolve(Os());let m=ao,p=u;return f.next((g=>vt.forEach(g,((b,v)=>(m<v.largestBatchId&&(m=v.largestBatchId),u.get(b)?vt.resolve():this.remoteDocumentCache.getEntry(e,b).next((A=>{p=p.insert(b,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,te()))).next((b=>({batchId:m,changes:Q0(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new jt(i)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const u=i.collectionGroup;let f=Xl();return this.indexManager.getCollectionParents(e,u).next((m=>vt.forEach(m,(p=>{const g=(function(v,A){return new Tc(A,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((b=>{b.forEach(((v,A)=>{f=f.insert(v,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const b=g.getKey();f.get(b)===null&&(f=f.insert(b,_n.newInvalidDocument(b)))}));let m=Xl();return f.forEach(((p,g)=>{const b=u.get(p);b!==void 0&&eo(b.mutation,g,Ln.empty(),Ce.now()),Sc(i,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return vt.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}})(i)),vt.resolve()}getNamedQuery(e,i){return vt.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:VT(o.bundledQuery),readTime:Ui(o.readTime)}})(i)),vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.overlays=new De(jt.comparator),this.qr=new Map}getOverlay(e,i){return vt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Os();return vt.forEach(i,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,u)=>{this.St(e,i,u)})),vt.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),vt.resolve()}getOverlaysForCollection(e,i,s){const o=Os(),u=i.length+1,f=new jt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return vt.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let u=new De(((g,b)=>g-b));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=Os(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=Os(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=o)););return vt.resolve(m)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new fT(i,s));let u=this.qr.get(i);u===void 0&&(u=te(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return vt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this.Qr=new Xe(tn.$r),this.Ur=new Xe(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new tn(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new tn(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new jt(new Ae([])),s=new tn(i,e),o=new tn(i,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new jt(new Ae([])),s=new tn(i,e),o=new tn(i,e+1);let u=te();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new tn(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return jt.comparator(e.key,i.key)||Wt(e.Yr,i.Yr)}static Kr(e,i){return Wt(e.Yr,i.Yr)||jt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Xe(tn.$r)}checkEmpty(e){return vt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new hT(u,i,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new tn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return vt.resolve(f)}lookupMutationBatch(e,i){return vt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),u=o<0?0:o;return vt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(this.mutationQueue.length===0?Od:this.tr-1)}getAllMutationBatches(e){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),vt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Xe(Wt);return i.forEach((o=>{const u=new tn(o,0),f=new tn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),vt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let u=s;jt.isDocumentKey(u)||(u=u.child(""));const f=new tn(new jt(u),0);let m=new Xe(Wt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),vt.resolve(this.ti(m))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){he(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return vt.forEach(i.mutations,(o=>{const u=new tn(o.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new tn(i,0),o=this.Zr.firstAfterOrEqual(s);return vt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,vt.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.ri=e,this.docs=(function(){return new De(jt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return vt.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(i))}getEntries(e,i){let s=fa();return i.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))})),vt.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let u=fa();const f=i.path,m=new jt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Sx(wx(b),s)<=0||(o.has(b.key)||Sc(i,b))&&(u=u.insert(b.key,b.mutableCopy()))}return vt.resolve(u)}getAllFromCollectionGroup(e,i,s,o){Lt(9500)}ii(e,i){return vt.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new $T(this)}getSize(e){return vt.resolve(this.size)}}class $T extends FT{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),vt.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.persistence=e,this.si=new js((i=>jd(i)),Ud),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new Fd,this.targetCount=0,this.ai=Ur.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),vt.resolve()}getLastRemoteSnapshotVersion(e){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),vt.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ur(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,vt.resolve()}updateTargetData(e,i){return this.Pr(i),vt.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,vt.resolve()}removeTargets(e,i,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),vt.waitFor(u).next((()=>o))}getTargetCount(e){return vt.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return vt.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),vt.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),vt.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),vt.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return vt.resolve(s)}containsKey(e,i){return vt.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,i){this.ui={},this.overlays={},this.ci=new bc(0),this.li=!1,this.li=!0,this.hi=new XT,this.referenceDelegate=e(this),this.Pi=new WT(this),this.indexManager=new jT,this.remoteDocumentCache=(function(o){return new JT(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new zT(i),this.Ii=new YT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new KT,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new ZT(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){Rt("MemoryPersistence","Starting transaction:",e);const o=new tw(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,i){return vt.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class tw extends Cx{constructor(e){super(),this.currentSequenceNumber=e}}class Gd{constructor(e){this.persistence=e,this.Ri=new Fd,this.Vi=null}static mi(e){return new Gd(e)}get fi(){if(this.Vi)return this.Vi;throw Lt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),vt.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),vt.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),vt.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.fi,(s=>{const o=jt.fromPath(s);return this.gi(e,o).next((u=>{u||i.removeEntry(o,Pt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return vt.or([()=>vt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class gc{constructor(e,i){this.persistence=e,this.pi=new js((s=>Dx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=qT(this,i)}static mi(e,i){return new gc(e,i)}Ei(){}di(e){return vt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return vt.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?vt.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,i).next((m=>{m||(s++,u.removeEntry(f,Pt.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),vt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),vt.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),vt.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),vt.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zu(e.data.value)),i}br(e,i,s){return vt.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return vt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=te(),o=te();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Qb()?8:Rx(Fb())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new ew;return this.Ss(e,i,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,i,f,m.size)}))})).next((()=>u.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Ar()<=ie.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",Cr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),vt.resolve()):(Ar()<=ie.DEBUG&&Rt("QueryEngine","Query:",Cr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ar()<=ie.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",Cr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(i))):vt.resolve())}ys(e,i){if(xy(i))return vt.resolve(null);let s=ji(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=gd(i,null,"F"),s=ji(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=te(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(i,m);return this.Cs(i,g,f,p.readTime)?this.ys(e,gd(i,null,"F")):this.vs(e,g,i,p)}))))})))))}ws(e,i,s,o){return xy(i)||o.isEqual(Pt.min())?vt.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,s,o)?vt.resolve(null):(Ar()<=ie.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Cr(i)),this.vs(e,f,i,Tx(o,ao)).next((m=>m)))}))}Ds(e,i){let s=new Xe(F0(e));return i.forEach(((o,u)=>{Sc(e,u)&&(s=s.add(u))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,i,s){return Ar()<=ie.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",Cr(i)),this.ps.getDocumentsMatchingQuery(e,i,Ja.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="LocalStore",iw=3e8;class aw{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new De(Wt),this.xs=new js((u=>jd(u)),Ud),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QT(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function sw(r,e,i,s){return new aw(r,e,i,s)}async function dv(r,e){const i=Ft(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=te();for(const g of o){f.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return i.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function rw(r,e){const i=Ft(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,b){const v=g.batch,A=v.keys();let x=vt.resolve();return A.forEach((V=>{x=x.next((()=>b.getEntry(p,V))).next((E=>{const S=g.docVersions.get(V);he(S!==null,48541),E.version.compareTo(S)<0&&(v.applyToRemoteDocument(E,g),E.isValidDocument()&&(E.setReadTime(g.commitVersion),b.addEntry(E)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(p,v)))})(i,s,e,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=te();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function mv(r){const e=Ft(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function lw(r,e){const i=Ft(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];e.targetChanges.forEach(((b,v)=>{const A=o.get(v);if(!A)return;m.push(i.Pi.removeMatchingKeys(u,b.removedDocuments,v).next((()=>i.Pi.addMatchingKeys(u,b.addedDocuments,v))));let x=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(hn.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):b.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(b.resumeToken,s)),o=o.insert(v,x),(function(E,S,R){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=iw?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(A,x,b)&&m.push(i.Pi.updateTargetData(u,x))}));let p=fa(),g=te();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(ow(u,f,e.documentUpdates).next((b=>{p=b.ks,g=b.qs}))),!s.isEqual(Pt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(u).next((v=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return vt.waitFor(m).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(i.Ms=o,u)))}function ow(r,e,i){let s=te(),o=te();return i.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=fa();return i.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Pt.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):Rt(Yd,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function uw(r,e){const i=Ft(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Od),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function cw(r,e){const i=Ft(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((u=>u?(o=u,vt.resolve(o)):i.Pi.allocateTargetId(s).next((f=>(o=new Ga(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Ed(r,e,i){const s=Ft(r),o=s.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!qr(f))throw f;Rt(Yd,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function zy(r,e,i){const s=Ft(r);let o=Pt.min(),u=te();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,b){const v=Ft(p),A=v.xs.get(b);return A!==void 0?vt.resolve(v.Ms.get(A)):v.Pi.getTargetData(g,b)})(s,f,ji(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,i?o:Pt.min(),i?u:te()))).next((m=>(hw(s,Zx(e),m),{documents:m,Qs:u})))))}function hw(r,e,i){let s=r.Os.get(e)||Pt.min();i.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class Vy{constructor(){this.activeTargetIds=nT()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fw{constructor(){this.Mo=new Vy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Vy,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="ConnectivityMonitor";class Uy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Rt(jy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Rt(jy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function xd(){return Qu===null?Qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="RestConnection",mw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===uc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,u){const f=xd(),m=this.zo(e,i.toUriEncodedString());Rt(Yf,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),b=Nd(g);return this.Jo(e,m,p,s,b).then((v=>(Rt(Yf,`Received RPC '${e}' ${f}: `,v),v)),(v=>{throw Or(Yf,`RPC '${e}' ${f} failed with error: `,v,"url: ",m,"request:",s),v}))}Ho(e,i,s,o,u,f){return this.Go(e,i,s,o,u)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,i){const s=mw[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class _w extends pw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,u){const f=xd();return new Promise(((m,p)=>{const g=new _0;g.setWithCredentials(!0),g.listenOnce(y0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Xu.NO_ERROR:const v=g.getResponseJson();Rt(pn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(v)),m(v);break;case Xu.TIMEOUT:Rt(pn,`RPC '${e}' ${f} timed out`),p(new kt(Et.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const A=g.getStatus();if(Rt(pn,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const V=x==null?void 0:x.error;if(V&&V.status&&V.message){const E=(function(R){const U=R.toLowerCase().replace(/_/g,"-");return Object.values(Et).indexOf(U)>=0?U:Et.UNKNOWN})(V.status);p(new kt(E,V.message))}else p(new kt(Et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new kt(Et.UNAVAILABLE,"Connection failed."));break;default:Lt(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Rt(pn,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);Rt(pn,`RPC '${e}' ${f} sending request:`,o),g.send(i,"POST",b,s,15)}))}T_(e,i,s){const o=xd(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=E0(),m=b0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const b=u.join("");Rt(pn,`Creating RPC '${e}' stream ${o}: ${b}`,p);const v=f.createWebChannel(b,p);this.I_(v);let A=!1,x=!1;const V=new gw({Yo:S=>{x?Rt(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(A||(Rt(pn,`Opening RPC '${e}' stream ${o} transport.`),v.open(),A=!0),Rt(pn,`RPC '${e}' stream ${o} sending:`,S),v.send(S))},Zo:()=>v.close()}),E=(S,R,U)=>{S.listen(R,(L=>{try{U(L)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return E(v,Kl.EventType.OPEN,(()=>{x||(Rt(pn,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),E(v,Kl.EventType.CLOSE,(()=>{x||(x=!0,Rt(pn,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(v))})),E(v,Kl.EventType.ERROR,(S=>{x||(x=!0,Or(pn,`RPC '${e}' stream ${o} transport errored. Name:`,S.name,"Message:",S.message),V.a_(new kt(Et.UNAVAILABLE,"The operation could not be completed")))})),E(v,Kl.EventType.MESSAGE,(S=>{var R;if(!x){const U=S.data[0];he(!!U,16349);const L=U,Y=(L==null?void 0:L.error)||((R=L[0])==null?void 0:R.error);if(Y){Rt(pn,`RPC '${e}' stream ${o} received error:`,Y);const K=Y.status;let st=(function(I){const P=Ge[I];if(P!==void 0)return ev(P)})(K),D=Y.message;st===void 0&&(st=Et.INTERNAL,D="Unknown error status: "+K+" with message "+Y.message),x=!0,V.a_(new kt(st,D)),v.close()}else Rt(pn,`RPC '${e}' stream ${o} received:`,U),V.u_(U)}})),E(m,v0.STAT_EVENT,(S=>{S.stat===cd.PROXY?Rt(pn,`RPC '${e}' stream ${o} detected buffering proxy`):S.stat===cd.NOPROXY&&Rt(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r){return new ET(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,i,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&Rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="PersistentStream";class gv{constructor(e,i,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Et.RESOURCE_EXHAUSTED?(ha(i.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new kt(Et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Rt(By,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(Rt(By,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yw extends gv{constructor(e,i,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=wT(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Pt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Pt.min():f.readTime?Ui(f.readTime):Pt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=bd(this.serializer),i.addTarget=(function(u,f){let m;const p=f.target;if(m=pd(p)?{documents:CT(u,p)}:{query:RT(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=av(u,f.resumeToken);const g=_d(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Pt.min())>0){m.readTime=pc(u,f.snapshotVersion.toTimestamp());const g=_d(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=DT(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=bd(this.serializer),i.removeTarget=e,this.q_(i)}}class vw extends gv{constructor(e,i,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return he(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){he(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=AT(e.writeResults,e.commitTime),s=Ui(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=bd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>ST(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{}class Ew extends bw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new kt(Et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,yd(i,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new kt(Et.UNKNOWN,u.toString())}))}Ho(e,i,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,yd(i,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new kt(Et.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ha(i),this.aa=!1):Rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class Tw{constructor(e,i,s,o,u){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Us(this)&&(Rt(Vs,"Restarting streams for network reachability change."),await(async function(p){const g=Ft(p);g.Ea.add(4),await mo(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Dc(g)})(this))}))})),this.Ra=new xw(s,o)}}async function Dc(r){if(Us(r))for(const e of r.da)await e(!0)}async function mo(r){for(const e of r.da)await e(!1)}function _v(r,e){const i=Ft(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Jd(i)?Zd(i):Fr(i).O_()&&Xd(i,e))}function Kd(r,e){const i=Ft(r),s=Fr(i);i.Ia.delete(e),s.O_()&&yv(i,e),i.Ia.size===0&&(s.O_()?s.L_():Us(i)&&i.Ra.set("Unknown"))}function Xd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Fr(r).Y_(e)}function yv(r,e){r.Va.Ue(e),Fr(r).Z_(e)}function Zd(r){r.Va=new _T({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Fr(r).start(),r.Ra.ua()}function Jd(r){return Us(r)&&!Fr(r).x_()&&r.Ia.size>0}function Us(r){return Ft(r).Ea.size===0}function vv(r){r.Va=void 0}async function ww(r){r.Ra.set("Online")}async function Sw(r){r.Ia.forEach(((e,i)=>{Xd(r,e)}))}async function Aw(r,e){vv(r),Jd(r)?(r.Ra.ha(e),Zd(r)):r.Ra.set("Unknown")}async function Cw(r,e,i){if(r.Ra.set("Online"),e instanceof iv&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){Rt(Vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _c(r,s)}else if(e instanceof Wu?r.Va.Ze(e):e instanceof nv?r.Va.st(e):r.Va.tt(e),!i.isEqual(Pt.min()))try{const s=await mv(r.localStore);i.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(hn.EMPTY_BYTE_STRING,b.snapshotVersion)),yv(u,p);const v=new Ga(b.target,p,g,b.sequenceNumber);Xd(u,v)})),u.remoteSyncer.applyRemoteEvent(m)})(r,i)}catch(s){Rt(Vs,"Failed to raise snapshot:",s),await _c(r,s)}}async function _c(r,e,i){if(!qr(e))throw e;r.Ea.add(1),await mo(r),r.Ra.set("Offline"),i||(i=()=>mv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Rt(Vs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Dc(r)}))}function bv(r,e){return e().catch((i=>_c(r,i,e)))}async function kc(r){const e=Ft(r),i=es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Od;for(;Rw(e);)try{const o=await uw(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,Nw(e,o)}catch(o){await _c(e,o)}Ev(e)&&xv(e)}function Rw(r){return Us(r)&&r.Ta.length<10}function Nw(r,e){r.Ta.push(e);const i=es(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Ev(r){return Us(r)&&!es(r).x_()&&r.Ta.length>0}function xv(r){es(r).start()}async function Dw(r){es(r).ra()}async function kw(r){const e=es(r);for(const i of r.Ta)e.ea(i.mutations)}async function Iw(r,e,i){const s=r.Ta.shift(),o=Pd.from(s,e,i);await bv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await kc(r)}async function Mw(r,e){e&&es(r).X_&&await(async function(s,o){if((function(f){return mT(f)&&f!==Et.ABORTED})(o.code)){const u=s.Ta.shift();es(s).B_(),await bv(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await kc(s)}})(r,e),Ev(r)&&xv(r)}async function Ly(r,e){const i=Ft(r);i.asyncQueue.verifyOperationInProgress(),Rt(Vs,"RemoteStore received new credentials");const s=Us(i);i.Ea.add(3),await mo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Dc(i)}async function Ow(r,e){const i=Ft(r);e?(i.Ea.delete(2),await Dc(i)):e||(i.Ea.add(2),await mo(i),i.Ra.set("Unknown"))}function Fr(r){return r.ma||(r.ma=(function(i,s,o){const u=Ft(i);return u.sa(),new yw(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:ww.bind(null,r),t_:Sw.bind(null,r),r_:Aw.bind(null,r),H_:Cw.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Jd(r)?Zd(r):r.Ra.set("Unknown")):(await r.ma.stop(),vv(r))}))),r.ma}function es(r){return r.fa||(r.fa=(function(i,s,o){const u=Ft(i);return u.sa(),new vw(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Dw.bind(null,r),r_:Mw.bind(null,r),ta:kw.bind(null,r),na:Iw.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await kc(r)):(await r.fa.stop(),r.Ta.length>0&&(Rt(Vs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,i,s,o,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Xa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,u){const f=Date.now()+s,m=new $d(e,i,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new kt(Et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wd(r,e){if(ha("AsyncQueue",`${e}: ${r}`),qr(r))return new kt(Et.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{static emptySet(e){return new kr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||jt.comparator(i.key,s.key):(i,s)=>jt.comparator(i.key,s.key),this.keyedMap=Xl(),this.sortedSet=new De(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new kr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.ga=new De(jt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Lt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Br{constructor(e,i,s,o,u,f,m,p,g){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,i,s,o,u){const f=[];return i.forEach((m=>{f.push({type:0,doc:m})})),new Br(e,i,kr.emptySet(i),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Vw{constructor(){this.queries=Hy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Ft(i),u=o.queries;o.queries=Hy(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new kt(Et.ABORTED,"Firestore shutting down"))}}function Hy(){return new js((r=>q0(r)),wc)}async function jw(r,e){const i=Ft(r);let s=3;const o=e.query;let u=i.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new zw,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=Wd(f,`Initialization of query '${Cr(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&tm(i)}async function Uw(r,e){const i=Ft(r),s=e.query;let o=3;const u=i.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Bw(r,e){const i=Ft(r);let s=!1;for(const o of e){const u=o.query,f=i.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&tm(i)}function Lw(r,e,i){const s=Ft(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(i);s.queries.delete(e)}function tm(r){r.Ca.forEach((e=>{e.next()}))}var Td,qy;(qy=Td||(Td={})).Ma="default",qy.Cache="cache";class Pw{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Br(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Br.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.key=e}}class wv{constructor(e){this.key=e}}class Hw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=te(),this.mutatedKeys=te(),this.eu=F0(e),this.tu=new kr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new Py,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,v)=>{const A=o.get(b),x=Sc(this.query,v)?v:null,V=!!A&&this.mutatedKeys.has(A.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;A&&x?A.data.isEqual(x.data)?V!==E&&(s.track({type:3,doc:x}),S=!0):this.su(A,x)||(s.track({type:2,doc:x}),S=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(m=!0)):!A&&x?(s.track({type:0,doc:x}),S=!0):A&&!x&&(s.track({type:1,doc:A}),S=!0,(p||g)&&(m=!0)),S&&(x?(f=f.add(x),u=E?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,v)=>(function(x,V){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt(20277,{Rt:S})}};return E(x)-E(V)})(b.type,v.type)||this.eu(b.doc,v.doc))),this.ou(s),o=o??!1;const m=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new Br(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Py,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=te(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new wv(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Tv(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=te();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Br.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const em="SyncEngine";class qw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Fw{constructor(e){this.key=e,this.hu=!1}}class Gw{constructor(e,i,s,o,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new js((m=>q0(m)),wc),this.Iu=new Map,this.Eu=new Set,this.du=new De(jt.comparator),this.Au=new Map,this.Ru=new Fd,this.Vu={},this.mu=new Map,this.fu=Ur.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Qw(r,e,i=!0){const s=Dv(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Sv(s,e,i,!0),o}async function Yw(r,e){const i=Dv(r);await Sv(i,e,!0,!1)}async function Sv(r,e,i,s){const o=await cw(r.localStore,ji(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,i);let m;return s&&(m=await Kw(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&_v(r.remoteStore,o),m}async function Kw(r,e,i,s,o){r.pu=(v,A,x)=>(async function(E,S,R,U){let L=S.view.ru(R);L.Cs&&(L=await zy(E.localStore,S.query,!1).then((({documents:D})=>S.view.ru(D,L))));const Y=U&&U.targetChanges.get(S.targetId),K=U&&U.targetMismatches.get(S.targetId)!=null,st=S.view.applyChanges(L,E.isPrimaryClient,Y,K);return Gy(E,S.targetId,st.au),st.snapshot})(r,v,A,x);const u=await zy(r.localStore,e,!0),f=new Hw(e,u.Qs),m=f.ru(u.documents),p=fo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);Gy(r,i,g.au);const b=new qw(e,i,f);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),g.snapshot}async function Xw(r,e,i){const s=Ft(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!wc(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ed(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Kd(s.remoteStore,o.targetId),wd(s,o.targetId)})).catch(Hr)):(wd(s,o.targetId),await Ed(s.localStore,o.targetId,!0))}async function Zw(r,e){const i=Ft(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Kd(i.remoteStore,s.targetId))}async function Jw(r,e,i){const s=aS(r);try{const o=await(function(f,m){const p=Ft(f),g=Ce.now(),b=m.reduce(((x,V)=>x.add(V.key)),te());let v,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let V=fa(),E=te();return p.Ns.getEntries(x,b).next((S=>{V=S,V.forEach(((R,U)=>{U.isValidDocument()||(E=E.add(R))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,V))).next((S=>{v=S;const R=[];for(const U of m){const L=uT(U,v.get(U.key).overlayedDocument);L!=null&&R.push(new as(U.key,L,z0(L.value.mapValue),fi.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,R,m)})).next((S=>{A=S;const R=S.applyToLocalDocumentSet(v,E);return p.documentOverlayCache.saveOverlays(x,S.batchId,R)}))})).then((()=>({batchId:A.batchId,changes:Q0(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new De(Wt)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,i),await po(s,o.changes),await kc(s.remoteStore)}catch(o){const u=Wd(o,"Failed to persist write");i.reject(u)}}async function Av(r,e){const i=Ft(r);try{const s=await lw(i.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(he(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?he(f.hu,14607):o.removedDocuments.size>0&&(he(f.hu,42227),f.hu=!1))})),await po(i,s,e)}catch(s){await Hr(s)}}function Fy(r,e,i){const s=Ft(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ft(f);p.onlineState=m;let g=!1;p.queries.forEach(((b,v)=>{for(const A of v.Sa)A.va(m)&&(g=!0)})),g&&tm(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $w(r,e,i){const s=Ft(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new De(jt.comparator);f=f.insert(u,_n.newNoDocument(u,Pt.min()));const m=te().add(u),p=new Rc(Pt.min(),new Map,new De(Wt),f,m);await Av(s,p),s.du=s.du.remove(u),s.Au.delete(e),nm(s)}else await Ed(s.localStore,e,!1).then((()=>wd(s,e,i))).catch(Hr)}async function Ww(r,e){const i=Ft(r),s=e.batch.batchId;try{const o=await rw(i.localStore,e);Rv(i,s,null),Cv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await po(i,o)}catch(o){await Hr(o)}}async function tS(r,e,i){const s=Ft(r);try{const o=await(function(f,m){const p=Ft(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next((v=>(he(v!==null,37113),b=v.keys(),p.mutationQueue.removeMutationBatch(g,v)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>p.localDocuments.getDocuments(g,b)))}))})(s.localStore,e);Rv(s,e,i),Cv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await po(s,o)}catch(o){await Hr(o)}}function Cv(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function Rv(r,e,i){const s=Ft(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(i?u.reject(i):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function wd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Nv(r,s)}))}function Nv(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Kd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),nm(r))}function Gy(r,e,i){for(const s of i)s instanceof Tv?(r.Ru.addReference(s.key,e),eS(r,s)):s instanceof wv?(Rt(em,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Nv(r,s.key)):Lt(19791,{wu:s})}function eS(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(Rt(em,"New document in limbo: "+i),r.Eu.add(s),nm(r))}function nm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new jt(Ae.fromString(e)),s=r.fu.next();r.Au.set(s,new Fw(i)),r.du=r.du.insert(i,s),_v(r.remoteStore,new Ga(ji(H0(i.path)),s,"TargetPurposeLimboResolution",bc.ce))}}async function po(r,e,i){const s=Ft(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,i).then((g=>{var b;if((g||i)&&s.isPrimaryClient){const v=g?!g.fromCache:(b=i==null?void 0:i.targetChanges.get(p.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Qd.As(p.targetId,g);u.push(v)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const b=Ft(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>vt.forEach(g,(A=>vt.forEach(A.Es,(x=>b.persistence.referenceDelegate.addReference(v,A.targetId,x))).next((()=>vt.forEach(A.ds,(x=>b.persistence.referenceDelegate.removeReference(v,A.targetId,x)))))))))}catch(v){if(!qr(v))throw v;Rt(Yd,"Failed to update sequence numbers: "+v)}for(const v of g){const A=v.targetId;if(!v.fromCache){const x=b.Ms.get(A),V=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(V);b.Ms=b.Ms.insert(A,E)}}})(s.localStore,u))}async function nS(r,e){const i=Ft(r);if(!i.currentUser.isEqual(e)){Rt(em,"User change. New user:",e.toKey());const s=await dv(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new kt(Et.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await po(i,s.Ls)}}function iS(r,e){const i=Ft(r),s=i.Au.get(e);if(s&&s.hu)return te().add(s.key);{let o=te();const u=i.Iu.get(e);if(!u)return o;for(const f of u){const m=i.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Dv(r){const e=Ft(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Av.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$w.bind(null,e),e.Pu.H_=Bw.bind(null,e.eventManager),e.Pu.yu=Lw.bind(null,e.eventManager),e}function aS(r){const e=Ft(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ww.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tS.bind(null,e),e}class yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return sw(this.persistence,new nw,e.initialUser,this.serializer)}Cu(e){return new fv(Gd.mi,this.serializer)}Du(e){return new fw}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yc.provider={build:()=>new yc};class sS extends yc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){he(this.persistence.referenceDelegate instanceof gc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new PT(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new fv((s=>gc.mi(s,i)),this.serializer)}}class Sd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Fy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nS.bind(null,this.syncEngine),await Ow(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Vw})()}createDatastore(e){const i=Nc(e.databaseInfo.databaseId),s=(function(u){return new _w(u)})(e.databaseInfo);return(function(u,f,m,p){return new Ew(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,u,f,m){return new Tw(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(i=>Fy(this.syncEngine,i,0)),(function(){return Uy.v()?new Uy:new dw})())}createSyncEngine(e,i){return(function(o,u,f,m,p,g,b){const v=new Gw(o,u,f,m,p,g);return b&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const u=Ft(o);Rt(Vs,"RemoteStore shutting down."),u.Ea.add(5),await mo(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Sd.provider={build:()=>new Sd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ha("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class lS{constructor(e,i,s,o,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=Id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{Rt(ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(Rt(ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Wd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Xf(r,e){r.asyncQueue.verifyOperationInProgress(),Rt(ns,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await dv(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Qy(r,e){r.asyncQueue.verifyOperationInProgress();const i=await oS(r);Rt(ns,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Ly(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Ly(e.remoteStore,o))),r._onlineComponents=e}async function oS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Rt(ns,"Using user provided OfflineComponentProvider");try{await Xf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Et.FAILED_PRECONDITION||o.code===Et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Or("Error using user provided cache. Falling back to memory cache: "+i),await Xf(r,new yc)}}else Rt(ns,"Using default OfflineComponentProvider"),await Xf(r,new sS(void 0));return r._offlineComponents}async function kv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Rt(ns,"Using user provided OnlineComponentProvider"),await Qy(r,r._uninitializedComponentsProvider._online)):(Rt(ns,"Using default OnlineComponentProvider"),await Qy(r,new Sd))),r._onlineComponents}function uS(r){return kv(r).then((e=>e.syncEngine))}async function cS(r){const e=await kv(r),i=e.eventManager;return i.onListen=Qw.bind(null,e.syncEngine),i.onUnlisten=Xw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Yw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Zw.bind(null,e.syncEngine),i}function hS(r,e,i={}){const s=new Xa;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const b=new rS({next:A=>{b.Nu(),f.enqueueAndForget((()=>Uw(u,v))),A.fromCache&&p.source==="server"?g.reject(new kt(Et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),v=new Pw(m,b,{includeMetadataChanges:!0,qa:!0});return jw(u,v)})(await cS(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="firestore.googleapis.com",Ky=!0;class Xy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new kt(Et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mv,this.ssl=Ky}else this.host=e.host,this.ssl=e.ssl??Ky;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BT)throw new kt(Et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iv(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new kt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new kt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new kt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ic{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new kt(Et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new kt(Et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new fx;switch(s.type){case"firstParty":return new gx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new kt(Et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Yy.get(i);s&&(Rt("ComponentProvider","Removing Datastore"),Yy.delete(i),s.terminate())})(this),Promise.resolve()}}function fS(r,e,i,s={}){var g;r=lc(r,Ic);const o=Nd(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${i}`;o&&(Bb(`https://${m}`),qb("Firestore",!0)),u.host!==Mv&&u.host!==m&&Or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ac(p,f)&&(r._setSettings(p),s.mockUserToken)){let b,v;if(typeof s.mockUserToken=="string")b=s.mockUserToken,v=gn.MOCK_USER;else{b=Lb(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new kt(Et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new gn(A)}r._authCredentials=new dx(new T0(b,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mc(this.firestore,e,this._query)}}class cn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(co(i,cn._jsonSchema))return new cn(e,s||null,new jt(Ae.fromString(i.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:Qe("string",cn._jsonSchemaVersion),referencePath:Qe("string")};class Za extends Mc{constructor(e,i,s){super(e,i,H0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new jt(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function dS(r,e,...i){if(r=ua(r),w0("collection","path",e),r instanceof Ic){const s=Ae.fromString(e,...i);return uy(s),new Za(r,null,s)}{if(!(r instanceof cn||r instanceof Za))throw new kt(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ae.fromString(e,...i));return uy(s),new Za(r.firestore,null,s)}}function Zy(r,e,...i){if(r=ua(r),arguments.length===1&&(e=Id.newId()),w0("doc","path",e),r instanceof Ic){const s=Ae.fromString(e,...i);return oy(s),new cn(r,null,new jt(s))}{if(!(r instanceof cn||r instanceof Za))throw new kt(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ae.fromString(e,...i));return oy(s),new cn(r.firestore,r instanceof Za?r.converter:null,new jt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="AsyncQueue";class $y{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pv(this,"async_queue_retry"),this._c=()=>{const s=Kf();s&&Rt(Jy,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Kf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Kf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Xa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qr(e))throw e;Rt(Jy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ha("INTERNAL UNHANDLED ERROR: ",Wy(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=$d.createAndSchedule(this,e,i,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Lt(47125,{Pc:Wy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Wy(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class im extends Ic{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new $y,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $y(e),this._firestoreClient=void 0,await e}}}function mS(r,e){const i=typeof r=="object"?r:WE(),s=typeof r=="string"?r:uc,o=KE(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=jb("firestore");u&&fS(o,...u)}return o}function am(r){if(r._terminated)throw new kt(Et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pS(r),r._firestoreClient}function pS(r){var s,o,u;const e=r._freezeSettings(),i=(function(m,p,g,b){return new Mx(m,p,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Iv(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new lS(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(hn.fromBase64String(e))}catch(i){throw new kt(Et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ti(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(co(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Qe("string",ti._jsonSchemaVersion),bytes:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new kt(Et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new kt(Et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new kt(Et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(co(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Qe("string",Bi._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(co(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Li(e.vectorValues);throw new kt(Et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Qe("string",Li._jsonSchemaVersion),vectorValues:Qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=/^__.*__$/;class _S{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,i,this.fieldTransforms):new ho(e,this.data,i,this.fieldTransforms)}}class Ov{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new as(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function zv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt(40011,{Ac:r})}}class rm{constructor(e,i,s,o,u,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zv(this.Ac)&&gS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yS{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Nc(e)}Cc(e,i,s,o=!1){return new rm({Ac:e,methodName:i,Dc:s,path:un.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vS(r){const e=r._freezeSettings(),i=Nc(r._databaseId);return new yS(r._databaseId,!!e.ignoreUndefinedProperties,i)}function bS(r,e,i,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,i,o);lm("Data must be an object, but it was:",f,s);const m=Vv(s,f);let p,g;if(u.merge)p=new Ln(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const v of u.mergeFields){const A=Ad(e,v,i);if(!f.contains(A))throw new kt(Et.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Uv(b,A)||b.push(A)}p=new Ln(b),g=f.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,g=f.fieldTransforms;return new _S(new Dn(m),p,g)}class zc extends sm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zc}}function ES(r,e,i,s){const o=r.Cc(1,e,i);lm("Data must be an object, but it was:",o,s);const u=[],f=Dn.empty();is(s,((p,g)=>{const b=om(e,p,i);g=ua(g);const v=o.yc(b);if(g instanceof zc)u.push(b);else{const A=Vc(g,v);A!=null&&(u.push(b),f.set(b,A))}}));const m=new Ln(u);return new Ov(f,m,o.fieldTransforms)}function xS(r,e,i,s,o,u){const f=r.Cc(1,e,i),m=[Ad(e,s,i)],p=[o];if(u.length%2!=0)throw new kt(Et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Ad(e,u[A])),p.push(u[A+1]);const g=[],b=Dn.empty();for(let A=m.length-1;A>=0;--A)if(!Uv(g,m[A])){const x=m[A];let V=p[A];V=ua(V);const E=f.yc(x);if(V instanceof zc)g.push(x);else{const S=Vc(V,E);S!=null&&(g.push(x),b.set(x,S))}}const v=new Ln(g);return new Ov(b,v,f.fieldTransforms)}function Vc(r,e){if(jv(r=ua(r)))return lm("Unsupported field value:",e,r),Vv(r,e);if(r instanceof sm)return(function(s,o){if(!zv(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Vc(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=ua(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ce.fromDate(s);return{timestampValue:pc(o.serializer,u)}}if(s instanceof Ce){const u=new Ce(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pc(o.serializer,u)}}if(s instanceof Bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ti)return{bytesValue:av(o.serializer,s._byteString)};if(s instanceof cn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:qd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Li)return(function(f,m){return{mapValue:{fields:{[M0]:{stringValue:O0},[cc]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Bd(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Md(s)}`)})(r,e)}function Vv(r,e){const i={};return C0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(r,((s,o)=>{const u=Vc(o,e.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function jv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ce||r instanceof Bi||r instanceof ti||r instanceof cn||r instanceof sm||r instanceof Li)}function lm(r,e,i){if(!jv(i)||!S0(i)){const s=Md(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Ad(r,e,i){if((e=ua(e))instanceof Oc)return e._internalPath;if(typeof e=="string")return om(r,e);throw vc("Field path arguments must be of type string or ",r,!1,void 0,i)}const TS=new RegExp("[~\\*/\\[\\]]");function om(r,e,i){if(e.search(TS)>=0)throw vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Oc(...e.split("."))._internalPath}catch{throw vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function vc(r,e,i,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new kt(Et.INVALID_ARGUMENT,m+r+p)}function Uv(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,i,s,o,u){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Lv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class wS extends Bv{data(){return super.data()}}function Lv(r,e){return typeof e=="string"?om(r,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new kt(Et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AS{convertValue(e,i="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Lt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return is(e,((o,u)=>{s[o]=this.convertValue(u,i)})),s}convertVectorValue(e){var s,o,u;const i=(u=(o=(s=e.fields)==null?void 0:s[cc].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>je(f.doubleValue)));return new Li(i)}convertGeoPoint(e){return new Bi(je(e.latitude),je(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=xc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(so(e));default:return null}}convertTimestamp(e){const i=$a(e);return new Ce(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Ae.fromString(e);he(cv(s),9688,{name:e});const o=new ro(s.get(1),s.get(3)),u=new jt(s.popFirst(5));return o.isEqual(i)||ha(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class Yu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ir extends Bv{constructor(e,i,s,o,u,f){super(e,i,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Lv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new kt(Et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ir._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ir._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ir._jsonSchema={type:Qe("string",Ir._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class tc extends Ir{data(e={}){return super.data(e)}}class Mr{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Yu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new tc(this._firestore,this._userDataWriter,s.key,s,new Yu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new kt(Et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new tc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new tc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:RS(m.type),doc:p,oldIndex:g,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new kt(Et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Id.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RS(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt(61501,{type:r})}}Mr._jsonSchemaVersion="firestore/querySnapshot/1.0",Mr._jsonSchema={type:Qe("string",Mr._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class NS extends AS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,i)}}function DS(r){r=lc(r,Mc);const e=lc(r.firestore,im),i=am(e),s=new NS(e);return SS(r._query),hS(i,r._query).then((o=>new Mr(e,s,r,o)))}function kS(r,e){return(function(s,o){const u=new Xa;return s.asyncQueue.enqueueAndForget((async()=>Jw(await uS(s),o,u))),u.promise})(am(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=vS(e)}set(e,i,s){this._verifyNotCommitted();const o=Zf(e,this._firestore),u=CS(o.converter,i,s),f=bS(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,fi.none())),this}update(e,i,s,...o){this._verifyNotCommitted();const u=Zf(e,this._firestore);let f;return f=typeof(i=ua(i))=="string"||i instanceof Oc?xS(this._dataReader,"WriteBatch.update",u._key,i,s,o):ES(this._dataReader,"WriteBatch.update",u._key,i),this._mutations.push(f.toMutation(u._key,fi.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Zf(e,this._firestore);return this._mutations=this._mutations.concat(new Ld(i._key,fi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kt(Et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zf(r,e){if((r=ua(r)).firestore!==e)throw new kt(Et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(r){return am(r=lc(r,im)),new IS(r,(e=>kS(r,e)))}(function(e,i=!0){(function(o){Pr=o})($E),rc(new no("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new im(new mx(s.getProvider("auth-internal")),new _x(f,s.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new kt(Et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(g.options.projectId,b)})(f,o),f);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Dr(ay,sy,e),Dr(ay,sy,"esm2020")})();const MS={apiKey:"AIzaSyClZCL60c4WBCDeoRzez8hW5V1uzQUYLJ8",authDomain:"jjksk-e5ca7.firebaseapp.com",projectId:"jjksk-e5ca7",storageBucket:"jjksk-e5ca7.firebasestorage.app",messagingSenderId:"532127539780",appId:"1:532127539780:web:78e4660e79a9e8e70c9211"},OS=d0(MS),Ql=mS(OS),Pv=qt.createContext({notify:()=>{}}),Hv=qt.createContext({matches:[],addMatch:async()=>{},addMatches:async()=>{},deleteMatch:async()=>{},deleteMatches:async()=>{},restoreData:()=>{},clearAllData:()=>{},updatePlayerName:()=>{},loading:!0,allPlayers:[]}),qv=qt.createContext({isAdmin:!1,login:()=>!1,logout:()=>{}}),Fv=()=>qt.useContext(Pv),go=()=>qt.useContext(Hv),um=()=>qt.useContext(qv),Gv=r=>{if(r.hltv_3_0_score&&!isNaN(r.hltv_3_0_score)&&r.hltv_3_0_score>0)return r.hltv_3_0_score;if(r.rating&&!isNaN(r.rating)&&r.rating>0)return r.rating;const e=r.rounds_played>0?r.kills/r.rounds_played:0,i=r.rounds_played>0?r.deaths/r.rounds_played:0,s=r.impact||1,o=r.rounds_played>0?r.damage_total/r.rounds_played:0;let u=1+(e-.67)+(.73-i)+(s-1)*.5+(o-75)*.005;return Math.max(0,u)},zS=r=>{const e=new Map;return r.forEach(i=>{i.data&&i.data.forEach(s=>{const o=String(s.steam_id),u=e.get(o),f=Gv(s),m=s.weapon_kills||{};if(u){const p={...u.weapon_stats};Object.entries(m).forEach(([g,b])=>{p[g]=(p[g]||0)+b}),e.set(o,{...u,matches:u.matches+1,kills:u.kills+s.kills,deaths:u.deaths+s.deaths,assists:u.assists+s.assists,rounds_played:u.rounds_played+s.rounds_played,damage_total:u.damage_total+s.damage_total,hltv_3_0_score:u.hltv_3_0_score+f,impact:u.impact+(s.impact||0),sniper_kills:u.sniper_kills+s.sniper_kills,utility_damage:u.utility_damage+s.utility_damage,flashes_thrown:u.flashes_thrown+s.flashes_thrown,enemies_flashed:u.enemies_flashed+(s.enemies_flashed||0),opening_kills:u.opening_kills+s.opening_kills,opening_deaths:u.opening_deaths+s.opening_deaths,opening_attempts:u.opening_attempts+s.opening_attempts,trade_kills:u.trade_kills+(s.trade_kills||0),clutches_won:u.clutches_won+(s.clutches_won||0),headshot_kills:u.headshot_kills+(s.headshot_kills||0),weapon_stats:p,name:i.timestamp>(u.last_match_timestamp||0)?s.name:u.name,last_match_timestamp:Math.max(u.last_match_timestamp||0,i.timestamp)})}else e.set(o,{steam_id:o,name:s.name,matches:1,kills:s.kills,deaths:s.deaths,assists:s.assists,rounds_played:s.rounds_played,damage_total:s.damage_total,hltv_3_0_score:f,impact:s.impact||0,sniper_kills:s.sniper_kills,utility_damage:s.utility_damage,flashes_thrown:s.flashes_thrown,enemies_flashed:s.enemies_flashed||0,opening_kills:s.opening_kills,opening_deaths:s.opening_deaths,opening_attempts:s.opening_attempts,trade_kills:s.trade_kills||0,clutches_won:s.clutches_won||0,headshot_kills:s.headshot_kills||0,weapon_stats:m,last_match_timestamp:i.timestamp})})}),Array.from(e.values()).map(i=>({...i,hltv_3_0_score:i.matches>0?i.hltv_3_0_score/i.matches:0,impact:i.matches>0?i.impact/i.matches:0}))},Qv=r=>{const e=/[_\-](\d{10})([_\-\.]|$)/g,i=[...r.matchAll(e)];let s=null;for(const o of i){const u=o[1],f="20"+u.substring(0,2),m=u.substring(2,4),p=u.substring(4,6),g=u.substring(6,8),b=u.substring(8,10),v=parseInt(m,10),A=parseInt(p,10),x=parseInt(g,10),V=parseInt(b,10);if(v>=1&&v<=12&&A>=1&&A<=31&&x>=0&&x<=23&&V>=0&&V<=59){const E=new Date(`${f}-${m}-${p}T${g}:${b}:00`);isNaN(E.getTime())||(s=E.getTime())}}return s},Jf=(r,e)=>{try{let i=[],s=Date.now();const o=Qv(e);if(o&&(s=o),r.team_ct&&Array.isArray(r.team_ct)&&r.team_t&&Array.isArray(r.team_t)){const u=r.team_ct.map(m=>({...m,last_team_name:m.team||"CT",last_side:"CT",hltv_3_0_score:m.rating||0})),f=r.team_t.map(m=>({...m,last_team_name:m.team||"T",last_side:"T",hltv_3_0_score:m.rating||0}));i=[...u,...f]}else if(Array.isArray(r))i=r;else if(r.data&&Array.isArray(r.data))i=r.data,r.timestamp&&(s=new Date(r.timestamp).getTime());else return console.error("Unknown data format",r),null;return i=i.map(u=>{const f=Number(u.rounds_played)||Number(u.rounds)||1,m=Number(u.kills)||0;let p=Number(u.damage_total)||Number(u.total_damage)||0;const g=parseFloat(u.adr||u.ADR);!p&&!isNaN(g)&&(p=Math.round(g*f));let b=Number(u.headshot_kills)||0;!b&&u.fatal_hitgroups&&(b=Number(u.fatal_hitgroups.Head)||Number(u.fatal_hitgroups.head)||0);const v=u.hs_percent??u.hsp??u["hs%"]??u.HS_Percent??u.hs;if((!b||b===0)&&v!==void 0&&m>0){const A=parseFloat(String(v).replace("%",""));isNaN(A)||(b=Math.round(m*(A/100)))}return{name:u.name||"Unknown",steam_id:u.steam_id||Math.random().toString(36).substr(2,9),last_team_name:u.last_team_name||"Unknown",last_side:u.last_side||"Unknown",duels:u.duels||{},kills:m,deaths:Number(u.deaths)||0,assists:Number(u.assists)||0,rounds_played:f,damage_total:p,adr:isNaN(g)?void 0:g,opening_kills:Number(u.opening_kills)||Number(u.open_kills)||0,opening_deaths:Number(u.opening_deaths)||Number(u.open_deaths)||0,opening_attempts:Number(u.opening_attempts)||0,sniper_kills:Number(u.sniper_kills)||Number(u.awp_kills)||0,utility_damage:Number(u.utility_damage)||0,flashes_thrown:Number(u.flashes_thrown)||Number(u.flashes)||0,enemies_flashed:Number(u.enemies_flashed)||Number(u.flash_assists)||Number(u.blinded_enemies)||Number(u.ef)||0,hltv_3_0_score:Number(u.hltv_3_0_score)||Number(u.rating)||0,impact:Number(u.impact)||0,headshot_kills:b,trade_kills:Number(u.trade_kills)||0,clutches_won:Number(u.clutches_won)||0,weapon_kills:u.weapon_kills||{}}}),i.forEach(u=>{(!u.hltv_3_0_score||u.hltv_3_0_score===0)&&(u.hltv_3_0_score=Gv(u))}),{id:Math.random().toString(36).substr(2,9),filename:e.replace(".json",""),timestamp:s,data:i}}catch(i){return console.error("Error normalizing data",i),null}},VS=({children:r})=>{const[e,i]=qt.useState(null);return qt.useEffect(()=>{if(e){const s=setTimeout(()=>i(null),3e3);return()=>clearTimeout(s)}},[e]),C.jsxs(Pv.Provider,{value:{notify:(s,o)=>i({t:s,m:o})},children:[r,e&&C.jsx("div",{className:`fixed bottom-20 md:bottom-4 right-4 p-4 rounded-lg shadow-lg text-white z-50 animate-slide-up ${e.t==="error"?"bg-app-danger":e.t==="success"?"bg-app-success":"bg-app-accent"}`,children:e.m})]})},jS=({children:r})=>{const[e,i]=qt.useState(!1);qt.useEffect(()=>{i(localStorage.getItem("isAdmin")==="true")},[]);const s=u=>u==="admin123"?(i(!0),localStorage.setItem("isAdmin","true"),!0):!1,o=()=>{i(!1),localStorage.removeItem("isAdmin")};return C.jsx(qv.Provider,{value:{isAdmin:e,login:s,logout:o},children:r})},US=({children:r})=>{const[e,i]=qt.useState([]),[s,o]=qt.useState(!0),{notify:u}=Fv(),{isAdmin:f}=um();qt.useEffect(()=>{(async()=>{o(!0);try{const S=await DS(dS(Ql,"matches")),R=[];S.forEach(U=>{R.push(U.data())}),i(R.sort((U,L)=>L.timestamp-U.timestamp))}catch(S){console.error("Error fetching matches:",S),u("error","Failed to load matches from database.")}finally{o(!1)}})()},[u]);const m=async E=>{if(!f){u("error","Unauthorized");return}const S=t0(Ql);E.forEach(R=>{const U=Zy(Ql,"matches",R.id);S.set(U,R)});try{await S.commit(),i(R=>{const U=new Set(E.map(Y=>Y.id)),L=R.filter(Y=>!U.has(Y.id));return[...E,...L].sort((Y,K)=>K.timestamp-Y.timestamp)}),u("success",`Saved ${E.length} matches`)}catch(R){console.error(R),u("error","Failed to save to database")}},p=async E=>m([E]),g=async E=>{if(!f){u("error","Unauthorized");return}if(E.length!==0)try{for(let R=0;R<E.length;R+=450){const U=E.slice(R,R+450),L=t0(Ql);U.forEach(Y=>{const K=Zy(Ql,"matches",Y);L.delete(K)}),await L.commit()}i(R=>R.filter(U=>!E.includes(U.id))),u("success",`Deleted ${E.length} matches`)}catch(S){console.error(S),u("error","Failed to delete from database")}},b=E=>g([E]),v=(E,S)=>{i(R=>R.map(U=>({...U,data:U.data.map(L=>String(L.steam_id)===E?{...L,name:S}:L)})))},A=()=>{},x=()=>{},V=qt.useMemo(()=>zS(e),[e]);return C.jsx(Hv.Provider,{value:{matches:e,addMatch:p,addMatches:m,deleteMatch:b,deleteMatches:g,restoreData:A,clearAllData:x,updatePlayerName:v,loading:s,allPlayers:V},children:r})},BS=({data:r})=>{const e=r.reduce((o,u)=>o+u.value,0);let i=0;const s=o=>{const u=Math.cos(2*Math.PI*o),f=Math.sin(2*Math.PI*o);return[u,f]};return e===0?C.jsx("div",{className:"text-center text-app-textMuted p-8",children:"No data available"}):C.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 justify-center p-8 animate-fade-in",children:[C.jsx("div",{className:"relative w-64 h-64 flex-shrink-0",children:C.jsx("svg",{viewBox:"-1 -1 2 2",style:{transform:"rotate(-90deg)"},className:"overflow-visible w-full h-full",children:r.map((o,u)=>{const f=i,m=o.value/e;i+=m;const p=i;if(m===1)return C.jsx("circle",{cx:"0",cy:"0",r:"1",fill:o.color},u);const[g,b]=s(f),[v,A]=s(p),x=m>.5?1:0,V=["M 0 0",`L ${g} ${b}`,`A 1 1 0 ${x} 1 ${v} ${A}`,"Z"].join(" ");return C.jsx("path",{d:V,fill:o.color,className:"hover:opacity-80 transition-opacity cursor-pointer",children:C.jsxs("title",{children:[o.label,": ",o.value," matches (",Math.round(m*100),"%)"]})},u)})})}),C.jsx("div",{className:"flex flex-col gap-2 w-full md:w-auto overflow-y-auto max-h-64 pr-2",children:r.map((o,u)=>C.jsxs("div",{className:"flex items-center gap-2 justify-between md:justify-start",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-4 h-4 rounded shadow-sm",style:{backgroundColor:o.color}}),C.jsx("span",{className:"text-white font-medium text-sm",children:o.label})]}),C.jsxs("span",{className:"text-app-textMuted text-xs font-mono ml-4",children:[o.value," (",Math.round(o.value/e*100),"%)"]})]},u))})]})},LS=()=>{const{allPlayers:r}=go(),[e,i]=qt.useState([]),[s,o]=qt.useState([]),[u,f]=qt.useState(""),m=(x,V)=>{V==="A"?e.includes(x)?i(E=>E.filter(S=>S!==x)):(i(E=>[...E,x]),o(E=>E.filter(S=>S!==x))):s.includes(x)?o(E=>E.filter(S=>S!==x)):(o(E=>[...E,x]),i(E=>E.filter(S=>S!==x)))},p=()=>{const x=[...e,...s];if(x.length===0)return;const V=x.map(L=>r.find(Y=>String(Y.steam_id)===L)).filter(L=>!!L);V.sort((L,Y)=>Y.hltv_3_0_score-L.hltv_3_0_score);const E=[],S=[];let R=0,U=0;V.forEach(L=>{const Y=Math.ceil(V.length/2);E.length<Y&&S.length<Y?R<=U?(E.push(String(L.steam_id)),R+=L.hltv_3_0_score):(S.push(String(L.steam_id)),U+=L.hltv_3_0_score):E.length<Y?(E.push(String(L.steam_id)),R+=L.hltv_3_0_score):(S.push(String(L.steam_id)),U+=L.hltv_3_0_score)}),i(E),o(S)},g=x=>{const V=x.map(L=>r.find(Y=>String(Y.steam_id)===L)).filter(Boolean),E=V.length;if(E===0)return{avgRating:"0.00",avgAdr:"0.0",avgKpr:"0.00",players:[]};const S=(V.reduce((L,Y)=>L+Y.hltv_3_0_score,0)/E).toFixed(2),R=(V.reduce((L,Y)=>L+Y.damage_total/Y.rounds_played,0)/E).toFixed(1),U=(V.reduce((L,Y)=>L+Y.kills/Y.rounds_played,0)/E).toFixed(2);return{avgRating:S,avgAdr:R,avgKpr:U,players:V}},b=g(e),v=g(s),A=r.filter(x=>x.name.toLowerCase().includes(u.toLowerCase())).sort((x,V)=>V.hltv_3_0_score-x.hltv_3_0_score);return C.jsxs("div",{className:"p-4 md:p-6 h-full flex flex-col animate-fade-in pb-20 md:pb-6",children:[C.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 md:mb-6 gap-4",children:[C.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[C.jsx(nc,{})," Team Builder"]}),C.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[C.jsxs("button",{onClick:p,className:"flex-1 md:flex-none justify-center text-xs text-app-accent hover:text-white px-3 py-2 md:py-1 border border-app-accent/50 rounded hover:bg-app-accent/20 transition-colors flex items-center gap-1",children:[C.jsx(mb,{size:14})," Auto Balance"]}),C.jsx("button",{onClick:()=>{i([]),o([])},className:"flex-1 md:flex-none justify-center text-xs text-red-400 hover:text-red-300 px-3 py-2 md:py-1 border border-red-900/50 rounded hover:bg-red-900/20 transition-colors",children:"Clear Teams"})]})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full overflow-y-auto lg:overflow-hidden min-h-[500px]",children:[C.jsxs("div",{className:"bg-app-card rounded-xl border border-app-cardHover flex flex-col overflow-hidden shadow-lg order-2 lg:order-1 h-[400px] lg:h-auto",children:[C.jsxs("div",{className:"p-4 border-b border-app-cardHover bg-zinc-900/50",children:[C.jsxs("div",{className:"relative",children:[C.jsx(ec,{className:"absolute left-3 top-2.5 w-4 h-4 text-app-textMuted"}),C.jsx("input",{type:"text",placeholder:"Search players...",className:"w-full bg-zinc-950 rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:border-app-accent border border-zinc-800 text-white placeholder-zinc-600",value:u,onChange:x=>f(x.target.value)})]}),C.jsxs("div",{className:"mt-2 text-xs text-app-textMuted text-right",children:[A.length," players found"]})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:A.map(x=>{const V=e.includes(String(x.steam_id)),E=s.includes(String(x.steam_id)),S=V||E;return C.jsxs("div",{className:`flex items-center justify-between p-2 rounded hover:bg-zinc-800 transition-colors border border-transparent hover:border-zinc-700 ${S?"opacity-40 grayscale":""}`,children:[C.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[C.jsx("div",{className:"font-medium text-sm text-white truncate",children:x.name}),C.jsxs("div",{className:"text-xs text-app-textMuted flex gap-2",children:[C.jsxs("span",{children:[x.hltv_3_0_score.toFixed(2)," R"]}),C.jsxs("span",{children:[(x.damage_total/x.rounds_played).toFixed(0)," ADR"]})]})]}),C.jsxs("div",{className:"flex gap-1",children:[C.jsx("button",{disabled:S,onClick:()=>m(String(x.steam_id),"A"),className:`w-8 h-8 flex items-center justify-center text-xs font-bold rounded transition-colors ${V?"bg-app-accent text-white":"bg-zinc-700 text-zinc-400 hover:text-white hover:bg-app-accent/80"}`,children:"A"}),C.jsx("button",{disabled:S,onClick:()=>m(String(x.steam_id),"B"),className:`w-8 h-8 flex items-center justify-center text-xs font-bold rounded transition-colors ${E?"bg-orange-500 text-white":"bg-zinc-700 text-zinc-400 hover:text-white hover:bg-orange-500/80"}`,children:"B"})]})]},x.steam_id)})})]}),C.jsxs("div",{className:"bg-app-card rounded-xl border border-app-cardHover flex flex-col shadow-lg lg:order-2 h-[300px] lg:h-auto",children:[C.jsxs("div",{className:"p-4 border-b border-app-cardHover bg-app-accent/5",children:[C.jsxs("h3",{className:"font-bold text-app-accent mb-2 flex justify-between items-center",children:["Team A ",C.jsx("span",{className:"text-xs bg-app-accent/20 px-2 py-0.5 rounded-full text-app-accent",children:e.length})]}),C.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-app-textMuted bg-zinc-900/50 p-2 rounded-lg",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-white font-bold text-lg",children:b.avgRating}),"Rating"]}),C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-white font-bold text-lg",children:b.avgAdr}),"ADR"]}),C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-white font-bold text-lg",children:b.avgKpr}),"KPR"]})]})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[b.players.map(x=>C.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-zinc-900/40 border border-zinc-800/50 group hover:border-red-500/30 transition-colors",children:[C.jsxs("div",{children:[C.jsx("div",{className:"font-medium text-sm text-white",children:x.name}),C.jsxs("div",{className:"text-xs text-app-textMuted",children:[x.hltv_3_0_score.toFixed(2)," Rating"]})]}),C.jsx("button",{onClick:()=>m(String(x.steam_id),"A"),className:"text-zinc-600 hover:text-red-400 p-1 opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity",children:C.jsx(ad,{size:16})})]},x.steam_id)),e.length===0&&C.jsx("div",{className:"h-full flex items-center justify-center text-zinc-600 text-sm italic",children:"Add players to Team A"})]})]}),C.jsxs("div",{className:"bg-app-card rounded-xl border border-app-cardHover flex flex-col shadow-lg lg:order-3 h-[300px] lg:h-auto",children:[C.jsxs("div",{className:"p-4 border-b border-app-cardHover bg-orange-500/5",children:[C.jsxs("h3",{className:"font-bold text-orange-500 mb-2 flex justify-between items-center",children:["Team B ",C.jsx("span",{className:"text-xs bg-orange-500/20 px-2 py-0.5 rounded-full text-orange-500",children:s.length})]}),C.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-app-textMuted bg-zinc-900/50 p-2 rounded-lg",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-white font-bold text-lg",children:v.avgRating}),"Rating"]}),C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-white font-bold text-lg",children:v.avgAdr}),"ADR"]}),C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-white font-bold text-lg",children:v.avgKpr}),"KPR"]})]})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[v.players.map(x=>C.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-zinc-900/40 border border-zinc-800/50 group hover:border-red-500/30 transition-colors",children:[C.jsxs("div",{children:[C.jsx("div",{className:"font-medium text-sm text-white",children:x.name}),C.jsxs("div",{className:"text-xs text-app-textMuted",children:[x.hltv_3_0_score.toFixed(2)," Rating"]})]}),C.jsx("button",{onClick:()=>m(String(x.steam_id),"B"),className:"text-zinc-600 hover:text-red-400 p-1 opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity",children:C.jsx(ad,{size:16})})]},x.steam_id)),s.length===0&&C.jsx("div",{className:"h-full flex items-center justify-center text-zinc-600 text-sm italic",children:"Add players to Team B"})]})]})]})]})},$f=({onViewMatch:r,onPlayerSelect:e})=>{const{allPlayers:i,loading:s}=go(),[o,u]=qt.useState(""),[f,m]=qt.useState({key:"hltv_3_0_score",direction:"desc"}),[p,g]=qt.useState("avg"),b=qt.useMemo(()=>{let E=[...i];return o&&(E=E.filter(S=>S.name.toLowerCase().includes(o.toLowerCase()))),f&&E.sort((S,R)=>{let U=S[f.key],L=R[f.key];return p==="avg"?f.key==="kills"?(U=S.kills/S.matches,L=R.kills/R.matches):f.key==="deaths"?(U=S.deaths/S.matches,L=R.deaths/R.matches):f.key==="assists"?(U=S.assists/S.matches,L=R.assists/R.matches):f.key==="damage_total"&&(U=S.damage_total/S.rounds_played,L=R.damage_total/R.rounds_played):f.key==="damage_total"&&(U=S.damage_total,L=R.damage_total),f.key==="kpr"?(U=S.kills/S.rounds_played,L=R.kills/R.rounds_played):f.key==="hs_percent"&&(U=S.kills>0?S.headshot_kills/S.kills:0,L=R.kills>0?R.headshot_kills/R.kills:0),typeof U=="string"&&typeof L=="string"?f.direction==="asc"?U.localeCompare(L):L.localeCompare(U):(U=Number(U)||0,L=Number(L)||0,f.direction==="asc"?U-L:L-U)}),E},[i,o,f,p]),v=E=>{m(S=>(S==null?void 0:S.key)===E&&S.direction==="desc"?{key:E,direction:"asc"}:{key:E,direction:"desc"})},A=i.length?(i.reduce((E,S)=>E+S.hltv_3_0_score,0)/i.length).toFixed(2):"-",x=i.length?(i.reduce((E,S)=>E+S.damage_total/S.rounds_played,0)/i.length).toFixed(1):"-",V=i.length?(i.reduce((E,S)=>E+S.kills/Math.max(1,S.deaths),0)/i.length).toFixed(2):"-";return s?C.jsx("div",{className:"flex h-full items-center justify-center",children:C.jsx(s0,{className:"animate-spin text-app-accent w-8 h-8"})}):C.jsxs("div",{className:"space-y-6 animate-fade-in p-4 md:p-6 pb-20 md:pb-6",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[C.jsxs("div",{className:"bg-app-card p-4 rounded-lg border border-app-cardHover flex flex-col items-center",children:[C.jsx("span",{className:"text-xs text-app-textMuted uppercase tracking-wider mb-1",children:"Avg Rating"}),C.jsx("span",{className:"text-2xl font-bold text-white",children:A})]}),C.jsxs("div",{className:"bg-app-card p-4 rounded-lg border border-app-cardHover flex flex-col items-center",children:[C.jsx("span",{className:"text-xs text-app-textMuted uppercase tracking-wider mb-1",children:"Avg ADR"}),C.jsx("span",{className:"text-2xl font-bold text-white",children:x})]}),C.jsxs("div",{className:"bg-app-card p-4 rounded-lg border border-app-cardHover flex flex-col items-center",children:[C.jsx("span",{className:"text-xs text-app-textMuted uppercase tracking-wider mb-1",children:"Avg K/D"}),C.jsx("span",{className:"text-2xl font-bold text-white",children:V})]})]}),C.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Eb,{className:"text-app-accent w-6 h-6"}),C.jsx("h2",{className:"text-xl font-bold",children:"Leaderboard"})]}),C.jsxs("div",{className:"flex flex-col md:flex-row gap-2 w-full md:w-auto",children:[C.jsxs("div",{className:"flex bg-app-card rounded-md border border-app-cardHover p-1 w-full md:w-auto",children:[C.jsx("button",{onClick:()=>g("avg"),className:`flex-1 md:flex-none text-xs px-3 py-1 rounded font-medium transition-colors ${p==="avg"?"bg-app-accent text-zinc-900":"text-app-textMuted hover:text-white"}`,children:"Averages"}),C.jsx("button",{onClick:()=>g("total"),className:`flex-1 md:flex-none text-xs px-3 py-1 rounded font-medium transition-colors ${p==="total"?"bg-app-accent text-zinc-900":"text-app-textMuted hover:text-white"}`,children:"Totals"})]}),C.jsxs("div",{className:"relative w-full md:w-auto",children:[C.jsx(ec,{className:"absolute left-2 top-1.5 w-4 h-4 text-app-textMuted"}),C.jsx("input",{type:"text",placeholder:"Search...",className:"w-full md:w-48 bg-app-card border border-app-cardHover rounded-md pl-8 pr-4 py-1 text-sm focus:outline-none focus:border-app-accent text-white placeholder-app-textMuted",value:o,onChange:E=>u(E.target.value)})]})]})]}),C.jsx("div",{className:"bg-app-card rounded-xl border border-app-cardHover overflow-hidden shadow-xl",children:C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full text-sm text-left whitespace-nowrap",children:[C.jsx("thead",{className:"bg-zinc-900/50 text-app-textMuted uppercase text-xs font-semibold tracking-wider",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-4 py-3 w-10 text-center",children:"#"}),C.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:text-app-accent transition-colors",onClick:()=>v("name"),children:["Player ",(f==null?void 0:f.key)==="name"&&(f.direction==="asc"?C.jsx(oa,{className:"inline w-3 h-3"}):C.jsx(zi,{className:"inline w-3 h-3"}))]}),C.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:text-app-accent transition-colors",onClick:()=>v("matches"),children:["Maps ",(f==null?void 0:f.key)==="matches"&&(f.direction==="asc"?C.jsx(oa,{className:"inline w-3 h-3"}):C.jsx(zi,{className:"inline w-3 h-3"}))]}),C.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:text-app-accent transition-colors",onClick:()=>v("kills"),children:[p==="avg"?"Avg K":"Total K"," ",(f==null?void 0:f.key)==="kills"&&(f.direction==="asc"?C.jsx(oa,{className:"inline w-3 h-3"}):C.jsx(zi,{className:"inline w-3 h-3"}))]}),C.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:text-app-accent transition-colors",onClick:()=>v("deaths"),children:[p==="avg"?"Avg D":"Total D"," ",(f==null?void 0:f.key)==="deaths"&&(f.direction==="asc"?C.jsx(oa,{className:"inline w-3 h-3"}):C.jsx(zi,{className:"inline w-3 h-3"}))]}),C.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:text-app-accent transition-colors",onClick:()=>v("assists"),children:[p==="avg"?"Avg A":"Total A"," ",(f==null?void 0:f.key)==="assists"&&(f.direction==="asc"?C.jsx(oa,{className:"inline w-3 h-3"}):C.jsx(zi,{className:"inline w-3 h-3"}))]}),C.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:text-app-accent transition-colors",onClick:()=>v("kpr"),children:["KPR ",(f==null?void 0:f.key)==="kpr"&&(f.direction==="asc"?C.jsx(oa,{className:"inline w-3 h-3"}):C.jsx(zi,{className:"inline w-3 h-3"}))]}),C.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:text-app-accent transition-colors",onClick:()=>v("hs_percent"),children:["HS% ",(f==null?void 0:f.key)==="hs_percent"&&(f.direction==="asc"?C.jsx(oa,{className:"inline w-3 h-3"}):C.jsx(zi,{className:"inline w-3 h-3"}))]}),C.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:text-app-accent transition-colors",onClick:()=>v("damage_total"),children:[p==="avg"?"ADR":"Total Dmg"," ",(f==null?void 0:f.key)==="damage_total"&&(f.direction==="asc"?C.jsx(oa,{className:"inline w-3 h-3"}):C.jsx(zi,{className:"inline w-3 h-3"}))]}),C.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:text-app-accent transition-colors",onClick:()=>v("hltv_3_0_score"),children:["Rating ",(f==null?void 0:f.key)==="hltv_3_0_score"&&(f.direction==="asc"?C.jsx(oa,{className:"inline w-3 h-3"}):C.jsx(zi,{className:"inline w-3 h-3"}))]})]})}),C.jsxs("tbody",{className:"divide-y divide-app-cardHover",children:[b.map((E,S)=>{const R=(E.kills/E.rounds_played).toFixed(2),U=(E.damage_total/E.rounds_played).toFixed(2),L=E.kills>0?Math.round(E.headshot_kills/E.kills*100):0,Y=p==="avg"?(E.kills/E.matches).toFixed(1):E.kills,K=p==="avg"?(E.deaths/E.matches).toFixed(1):E.deaths,st=p==="avg"?(E.assists/E.matches).toFixed(1):E.assists,D=p==="avg"?U:E.damage_total.toLocaleString();let O="text-white";return E.hltv_3_0_score>=1.2?O="text-app-accent":E.hltv_3_0_score>=1.05?O="text-green-400":E.hltv_3_0_score<.9&&(O="text-red-400"),C.jsxs("tr",{className:"hover:bg-app-cardHover/50 transition-colors group cursor-pointer",onClick:()=>e(E.steam_id),children:[C.jsx("td",{className:"px-4 py-3 text-center text-app-textMuted",children:S+1}),C.jsx("td",{className:"px-4 py-3 font-medium text-white group-hover:text-app-accent transition-colors",children:E.name}),C.jsx("td",{className:"px-4 py-3 text-right text-app-textMuted",children:E.matches}),C.jsx("td",{className:"px-4 py-3 text-right",children:Y}),C.jsx("td",{className:"px-4 py-3 text-right text-app-textMuted",children:K}),C.jsx("td",{className:"px-4 py-3 text-right text-app-textMuted",children:st}),C.jsx("td",{className:"px-4 py-3 text-right text-app-textMuted",children:R}),C.jsxs("td",{className:"px-4 py-3 text-right text-app-textMuted",children:[L,"%"]}),C.jsx("td",{className:"px-4 py-3 text-right font-medium text-app-accent",children:D}),C.jsx("td",{className:`px-4 py-3 text-right font-bold ${O}`,children:C.jsxs("div",{className:"flex items-center justify-end gap-2",children:[E.hltv_3_0_score.toFixed(2),C.jsx("div",{className:"w-16 h-1 bg-zinc-700 rounded-full overflow-hidden hidden md:block",children:C.jsx("div",{className:`h-full ${E.hltv_3_0_score>=1.1?"bg-app-accent":E.hltv_3_0_score>=1?"bg-green-500":"bg-zinc-500"}`,style:{width:`${Math.min(100,E.hltv_3_0_score/2*100)}%`}})})]})})]},E.steam_id)}),b.length===0&&C.jsx("tr",{children:C.jsx("td",{colSpan:10,className:"px-4 py-12 text-center text-app-textMuted",children:"No players found"})})]})]})})})]})},PS=({steamId:r,onBack:e})=>{const{allPlayers:i,matches:s}=go(),o=i.find(v=>String(v.steam_id)===r),u=s.filter(v=>v.data.some(A=>String(A.steam_id)===r)).map(v=>{const A=v.data.find(x=>String(x.steam_id)===r);return{...v,stats:A}}).sort((v,A)=>A.timestamp-v.timestamp);if(!o)return C.jsx("div",{children:"Player not found"});const f=(o.kills/Math.max(1,o.deaths)).toFixed(2),m=(o.kills/o.rounds_played).toFixed(2),p=(o.damage_total/o.rounds_played).toFixed(1),g=o.kills>0?Math.round(o.headshot_kills/o.kills*100):0,b=Object.entries(o.weapon_stats).sort(([,v],[,A])=>A-v).slice(0,5);return C.jsxs("div",{className:"p-4 md:p-6 space-y-6 animate-fade-in pb-20 md:pb-6",children:[C.jsxs("button",{onClick:e,className:"flex items-center text-app-textMuted hover:text-white transition-colors mb-4",children:[C.jsx(i0,{className:"w-4 h-4 mr-1"})," Back to Dashboard"]}),C.jsx("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:C.jsxs("div",{className:"flex-1 w-full",children:[C.jsxs("div",{className:"bg-app-card p-6 rounded-xl border border-app-cardHover flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:o.name}),C.jsxs("div",{className:"text-sm text-app-textMuted flex gap-4",children:[C.jsxs("span",{children:[o.matches," Matches"]}),C.jsxs("span",{children:[o.rounds_played," Rounds"]})]})]}),C.jsxs("div",{className:"text-left md:text-right w-full md:w-auto",children:[C.jsx("div",{className:"text-4xl font-bold text-app-accent",children:o.hltv_3_0_score.toFixed(2)}),C.jsx("div",{className:"text-sm text-app-textMuted uppercase tracking-wider",children:"Rating"})]})]}),C.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[C.jsxs("div",{className:"bg-app-card p-4 rounded-lg border border-app-cardHover",children:[C.jsx("div",{className:"text-app-textMuted text-xs uppercase",children:"K/D Ratio"}),C.jsx("div",{className:"text-xl font-bold text-white",children:f})]}),C.jsxs("div",{className:"bg-app-card p-4 rounded-lg border border-app-cardHover",children:[C.jsx("div",{className:"text-app-textMuted text-xs uppercase",children:"ADR"}),C.jsx("div",{className:"text-xl font-bold text-white",children:p})]}),C.jsxs("div",{className:"bg-app-card p-4 rounded-lg border border-app-cardHover",children:[C.jsx("div",{className:"text-app-textMuted text-xs uppercase",children:"KPR"}),C.jsx("div",{className:"text-xl font-bold text-white",children:m})]}),C.jsxs("div",{className:"bg-app-card p-4 rounded-lg border border-app-cardHover",children:[C.jsx("div",{className:"text-app-textMuted text-xs uppercase",children:"HS %"}),C.jsxs("div",{className:"text-xl font-bold text-white",children:[g,"%"]})]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{className:"bg-app-card rounded-xl border border-app-cardHover p-4",children:[C.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[C.jsx(td,{size:18})," Recent Matches"]}),C.jsx("div",{className:"space-y-3",children:u.slice(0,5).map(v=>C.jsxs("div",{className:"flex justify-between items-center p-3 bg-zinc-900/50 rounded hover:bg-zinc-900 transition-colors",children:[C.jsxs("div",{className:"min-w-0",children:[C.jsx("div",{className:"font-medium text-white truncate pr-2",children:v.filename}),C.jsx("div",{className:"text-xs text-app-textMuted",children:new Date(v.timestamp).toLocaleDateString()})]}),C.jsxs("div",{className:"text-right flex-shrink-0",children:[C.jsx("div",{className:`font-bold ${v.stats.hltv_3_0_score>=1?"text-green-400":"text-red-400"}`,children:v.stats.hltv_3_0_score.toFixed(2)}),C.jsxs("div",{className:"text-xs text-app-textMuted",children:[v.stats.kills,"-",v.stats.deaths," (",v.stats.damage_total," dmg)"]})]})]},v.id))})]}),C.jsxs("div",{className:"bg-app-card rounded-xl border border-app-cardHover p-4",children:[C.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[C.jsx(Wf,{size:18})," Top Weapons"]}),C.jsxs("div",{className:"space-y-3",children:[b.map(([v,A])=>C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("span",{className:"text-app-textMuted",children:v}),C.jsxs("span",{className:"font-bold text-white",children:[A," kills"]})]},v)),b.length===0&&C.jsx("div",{className:"text-app-textMuted text-sm",children:"No weapon data available"})]})]})]})]})})]})},e0=({teamName:r,players:e,totalKills:i,onPlayerSelect:s})=>{const[o,u]=qt.useState({key:"hltv_3_0_score",direction:"desc"}),f=qt.useMemo(()=>o?[...e].sort((p,g)=>{let b=p[o.key],v=g[o.key];return o.key==="adr"?(b=p.adr||p.damage_total/(p.rounds_played||1),v=g.adr||g.damage_total/(g.rounds_played||1)):o.key==="hs"?(b=p.kills>0?(p.headshot_kills||0)/p.kills:0,v=g.kills>0?(g.headshot_kills||0)/g.kills:0):o.key==="plus_minus"&&(b=p.kills-p.deaths,v=g.kills-g.deaths),o.direction==="asc"?b>v?1:-1:b<v?1:-1}):e,[e,o]),m=p=>{u(g=>(g==null?void 0:g.key)===p&&g.direction==="desc"?{key:p,direction:"asc"}:{key:p,direction:"desc"})};return C.jsxs("div",{className:"mb-8",children:[C.jsxs("div",{className:"flex justify-between items-end mb-2 px-1",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(nc,{className:"w-5 h-5 text-app-textMuted"}),C.jsx("h3",{className:"font-bold text-lg text-white",children:r})]}),C.jsxs("div",{className:"text-xs font-mono bg-zinc-900 px-2 py-1 rounded text-app-textMuted border border-zinc-800",children:["Total Kills: ",C.jsx("span",{className:"text-white",children:i})]})]}),C.jsx("div",{className:"bg-app-card rounded-lg border border-app-cardHover overflow-x-auto shadow-lg",children:C.jsxs("table",{className:"w-full text-sm text-left table-fixed min-w-[600px]",children:[C.jsx("thead",{className:"bg-zinc-900/80 text-app-textMuted uppercase text-[10px] font-bold tracking-wider",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-3 py-2 w-[25%] cursor-pointer hover:text-white",onClick:()=>m("name"),children:"Player"}),C.jsx("th",{className:"px-1 py-2 w-[7%] text-center cursor-pointer hover:text-white",onClick:()=>m("kills"),children:"K"}),C.jsx("th",{className:"px-1 py-2 w-[7%] text-center cursor-pointer hover:text-white",onClick:()=>m("deaths"),children:"D"}),C.jsx("th",{className:"px-1 py-2 w-[7%] text-center cursor-pointer hover:text-white",onClick:()=>m("assists"),children:"A"}),C.jsx("th",{className:"px-1 py-2 w-[8%] text-center cursor-pointer hover:text-white",onClick:()=>m("plus_minus"),children:"+/-"}),C.jsx("th",{className:"px-1 py-2 w-[8%] text-center cursor-pointer hover:text-white",onClick:()=>m("hs"),children:"HS%"}),C.jsx("th",{className:"px-1 py-2 w-[10%] text-center cursor-pointer hover:text-white",onClick:()=>m("adr"),children:"ADR"}),C.jsx("th",{className:"px-1 py-2 w-[7%] text-center cursor-pointer hover:text-white",onClick:()=>m("enemies_flashed"),children:"EF"}),C.jsx("th",{className:"px-1 py-2 w-[10%] text-center cursor-pointer hover:text-white",onClick:()=>m("utility_damage"),children:"UD/R"}),C.jsx("th",{className:"px-1 py-2 w-[8%] text-center cursor-pointer hover:text-white",onClick:()=>m("opening_kills"),children:"F/R"}),C.jsxs("th",{className:"px-3 py-2 w-[10%] text-right cursor-pointer hover:text-white",onClick:()=>m("hltv_3_0_score"),children:["Rating ",C.jsx(zi,{className:"inline w-2 h-2"})]})]})}),C.jsx("tbody",{className:"divide-y divide-zinc-800/50",children:f.map((p,g)=>{const b=p.kills-p.deaths,v=b>0?"text-green-500":b<0?"text-red-500":"text-gray-500",A=p.kills>0?Math.round((p.headshot_kills||0)/p.kills*100):0,x=p.adr!==void 0?p.adr.toFixed(1):(p.damage_total/p.rounds_played).toFixed(1),V=(p.utility_damage/p.rounds_played).toFixed(1),E=(p.opening_kills/p.rounds_played).toFixed(2);let S="text-white";const R=p.hltv_3_0_score||0;return R>=1.5?S="text-app-accent":R>=1.1?S="text-sky-300":R<.8&&(S="text-red-400"),C.jsxs("tr",{className:"hover:bg-zinc-700/30 transition-colors group cursor-pointer",onClick:()=>s&&s(String(p.steam_id)),children:[C.jsx("td",{className:"px-3 py-2.5 font-bold text-zinc-300 group-hover:text-white truncate",title:p.name,children:p.name}),C.jsx("td",{className:"px-1 py-2.5 text-center text-zinc-300",children:p.kills}),C.jsx("td",{className:"px-1 py-2.5 text-center text-zinc-400",children:p.deaths}),C.jsx("td",{className:"px-1 py-2.5 text-center text-zinc-400",children:p.assists}),C.jsx("td",{className:`px-1 py-2.5 text-center font-medium ${v}`,children:b>0?`+${b}`:b}),C.jsxs("td",{className:"px-1 py-2.5 text-center text-zinc-400 text-xs",children:[A,"%"]}),C.jsx("td",{className:"px-1 py-2.5 text-center text-zinc-300 font-mono text-xs",children:x}),C.jsx("td",{className:"px-1 py-2.5 text-center text-zinc-400 text-xs",children:p.enemies_flashed||0}),C.jsx("td",{className:"px-1 py-2.5 text-center text-zinc-400 text-xs",children:V}),C.jsx("td",{className:"px-1 py-2.5 text-center text-zinc-400 text-xs",children:E}),C.jsx("td",{className:`px-3 py-2.5 text-right font-bold ${S}`,children:R.toFixed(2)})]},g)})})]})})]})},HS=({match:r,onBack:e,onPlayerSelect:i})=>{const{teamAPlayers:s,teamBPlayers:o}=qt.useMemo(()=>{const m=r.data,p=m.filter(A=>A.last_side&&A.last_side==="CT"||A.last_team_name&&(A.last_team_name==="CT"||A.last_team_name==="Team CT")),g=m.filter(A=>A.last_side&&A.last_side==="T"||A.last_team_name&&(A.last_team_name==="T"||A.last_team_name==="Team T"));if(p.length>0&&g.length>0)return{teamAPlayers:p,teamBPlayers:g};const b=Array.from(new Set(m.map(A=>A.last_team_name).filter(Boolean)));if(b.length===2)return{teamAPlayers:m.filter(A=>A.last_team_name===b[0]),teamBPlayers:m.filter(A=>A.last_team_name===b[1])};const v=Math.ceil(m.length/2);return{teamAPlayers:m.slice(0,v),teamBPlayers:m.slice(v)}},[r]),u=s.reduce((m,p)=>m+p.kills,0),f=o.reduce((m,p)=>m+p.kills,0);return C.jsxs("div",{className:"p-4 md:p-6 animate-fade-in pb-20",children:[C.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[C.jsx("button",{onClick:e,className:"p-2 bg-app-card hover:bg-app-cardHover rounded-lg transition-colors",children:C.jsx(i0,{size:20})}),C.jsxs("div",{className:"min-w-0",children:[C.jsx("h1",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 truncate",children:r.filename}),C.jsx("div",{className:"text-app-textMuted text-sm",children:new Date(r.timestamp).toLocaleString()})]})]}),C.jsx(e0,{teamName:"Team A",players:s,totalKills:u,onPlayerSelect:i}),C.jsx(e0,{teamName:"Team B",players:o,totalKills:f,onPlayerSelect:i})]})},qS=()=>{const{isAdmin:r,login:e,logout:i}=um(),{addMatch:s,matches:o,deleteMatches:u}=go(),[f,m]=qt.useState(""),[p,g]=qt.useState(!1),[b,v]=qt.useState(!1),{notify:A}=Fv(),x=qt.useRef(null),[V,E]=qt.useState(null),[S,R]=qt.useState(""),U=D=>{D.preventDefault(),e(f)?(A("success","Logged in"),m("")):A("error","Incorrect password")},L=async D=>{try{const O=await D.text(),I=JSON.parse(O),P=Jf(I,D.name);P?await s(P):A("error",`Invalid format: ${D.name}`)}catch(O){console.error(O),A("error",`Error parsing ${D.name}`)}},Y=async D=>{var I;if(!((I=D.target.files)!=null&&I.length))return;g(!0);const O=Array.from(D.target.files);for(const P of O)if(P.name.endsWith(".zip"))try{const F=await V2.loadAsync(P),k=Object.values(F.files).filter(M=>M.name.endsWith(".json"));for(const M of k){const N=await M.async("text"),ct=JSON.parse(N),$=Jf(ct,M.name);$&&await s($)}}catch{A("error","Error reading zip")}else P.name.endsWith(".json")&&await L(P);g(!1),x.current&&(x.current.value="")},K=D=>{E(D),R(JSON.stringify(D,null,2))},st=async()=>{if(V)try{let D=JSON.parse(S);if(!D.data&&(D.team_ct||D.team_t)){const O=Jf(D,V.filename);if(O)O.id=V.id,D=O;else throw new Error("Failed to normalize raw data")}else D.id||(D.id=V.id);await s(D),A("success","Match updated successfully"),E(null)}catch(D){console.error(D),A("error","Invalid JSON content")}};return r?C.jsxs("div",{className:"p-4 md:p-6 space-y-8 animate-fade-in relative pb-20 md:pb-6",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[C.jsx(nd,{})," Settings"]}),C.jsxs("button",{onClick:i,className:"px-4 py-2 bg-red-500/10 text-red-400 hover:bg-red-500/20 rounded-lg flex items-center gap-2 transition-colors",children:[C.jsx(ub,{size:16})," Logout"]})]}),C.jsxs("div",{className:"bg-app-card rounded-xl border border-app-cardHover p-6",children:[C.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[C.jsx(G_,{})," Import Matches"]}),C.jsxs("div",{className:"border-2 border-dashed border-zinc-700 rounded-xl p-8 text-center hover:border-app-accent hover:bg-zinc-800/30 transition-all cursor-pointer",onClick:()=>{var D;return(D=x.current)==null?void 0:D.click()},children:[C.jsx("input",{type:"file",ref:x,onChange:Y,multiple:!0,accept:".json,.zip",className:"hidden"}),C.jsx(G_,{className:"w-10 h-10 text-app-textMuted mx-auto mb-4"}),C.jsx("p",{className:"font-medium text-white mb-1",children:"Click to upload JSON or ZIP files"}),C.jsx("p",{className:"text-sm text-app-textMuted",children:"Supports multiple files"}),p&&C.jsx("p",{className:"mt-4 text-app-accent animate-pulse",children:"Uploading..."})]})]}),C.jsxs("div",{className:"bg-app-card rounded-xl border border-app-cardHover p-6",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[C.jsx(a0,{})," Managed Matches (",o.length,")"]}),C.jsx("button",{onClick:async()=>{confirm(`Are you sure you want to delete all ${o.length} matches? This cannot be undone.`)&&(v(!0),await u(o.map(D=>D.id)),v(!1))},disabled:b||o.length===0,className:"text-xs text-red-400 hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Deleting...":"Delete All"})]}),C.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2",children:[o.map(D=>C.jsxs("div",{className:"flex justify-between items-center p-3 bg-zinc-900/50 rounded hover:bg-zinc-900 transition-colors group",children:[C.jsx("span",{className:"text-sm truncate max-w-[200px] md:max-w-[300px]",title:D.filename,children:D.filename}),C.jsxs("div",{className:"flex items-center gap-2 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[C.jsx("button",{onClick:()=>K(D),className:"text-zinc-500 hover:text-app-accent p-2 bg-zinc-800 hover:bg-zinc-700 rounded",title:"Edit JSON",children:C.jsx(nb,{size:16})}),C.jsx("button",{onClick:()=>u([D.id]),className:"text-zinc-500 hover:text-red-500 p-2 bg-zinc-800 hover:bg-zinc-700 rounded",title:"Delete",children:C.jsx(ed,{size:16})})]})]},D.id)),o.length===0&&C.jsx("div",{className:"text-center text-app-textMuted py-4",children:"No matches found."})]})]}),V&&C.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:C.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-700 w-full max-w-4xl h-[80vh] flex flex-col shadow-2xl",children:[C.jsxs("div",{className:"p-4 border-b border-zinc-700 flex justify-between items-center",children:[C.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[C.jsx(tb,{size:18})," Edit Match Data"]}),C.jsx("button",{onClick:()=>E(null),className:"text-zinc-400 hover:text-white",children:C.jsx(ad,{size:20})})]}),C.jsx("div",{className:"flex-1 p-0 overflow-hidden relative",children:C.jsx("textarea",{className:"w-full h-full bg-zinc-950 text-green-400 font-mono text-xs p-4 focus:outline-none resize-none",value:S,onChange:D=>R(D.target.value),spellCheck:!1})}),C.jsxs("div",{className:"p-4 border-t border-zinc-700 flex justify-between items-center bg-zinc-900 rounded-b-xl",children:[C.jsx("span",{className:"text-xs text-zinc-500 hidden md:inline",children:"Edit raw JSON object. Use valid syntax."}),C.jsxs("div",{className:"flex gap-3 w-full md:w-auto justify-end",children:[C.jsx("button",{onClick:()=>E(null),className:"px-4 py-2 text-zinc-400 hover:text-white text-sm",children:"Cancel"}),C.jsxs("button",{onClick:st,className:"px-4 py-2 bg-app-accent hover:bg-app-accentHover text-zinc-900 font-bold rounded-lg text-sm flex items-center gap-2",children:[C.jsx(fb,{size:16})," Save Changes"]})]})]})]})})]}):C.jsx("div",{className:"flex items-center justify-center h-full p-6",children:C.jsxs("form",{onSubmit:U,className:"bg-app-card p-8 rounded-xl border border-app-cardHover w-full max-w-md shadow-2xl",children:[C.jsx("div",{className:"flex justify-center mb-6",children:C.jsx(_b,{className:"w-12 h-12 text-app-accent"})}),C.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Admin Access"}),C.jsx("input",{type:"password",value:f,onChange:D=>m(D.target.value),placeholder:"Enter password",className:"w-full bg-zinc-900 border border-zinc-700 rounded-lg px-4 py-3 mb-4 focus:border-app-accent focus:outline-none transition-colors"}),C.jsx("button",{type:"submit",className:"w-full bg-app-accent hover:bg-app-accentHover text-zinc-900 font-bold py-3 rounded-lg transition-colors",children:"Login"})]})})},FS=()=>{const[r,e]=qt.useState("dashboard"),[i,s]=qt.useState(null),[o,u]=qt.useState(null),f=p=>{u(p)},m=()=>{if(o)return C.jsx(PS,{steamId:o,onBack:()=>u(null)});if(i)return C.jsx(HS,{match:i,onBack:()=>s(null),onPlayerSelect:f});switch(r){case"dashboard":return C.jsx($f,{onViewMatch:s,onPlayerSelect:f});case"matches":return C.jsxs("div",{className:"p-4 md:p-6 pb-20 md:pb-6",children:[C.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Recent Matches"}),C.jsx(GS,{onViewMatch:s})]});case"players":return C.jsx($f,{onViewMatch:s,onPlayerSelect:f});case"teambuilder":return C.jsx(LS,{});case"settings":return C.jsx(qS,{});default:return C.jsx($f,{onViewMatch:s,onPlayerSelect:f})}};return C.jsx(jS,{children:C.jsx(VS,{children:C.jsx(US,{children:C.jsxs("div",{className:"flex h-screen bg-app-bg text-app-text overflow-hidden font-sans selection:bg-app-accent selection:text-white flex-col md:flex-row",children:[C.jsxs("div",{className:"hidden md:flex w-64 bg-zinc-900 border-r border-zinc-800 flex-col flex-shrink-0",children:[C.jsxs("div",{className:"p-6 flex items-center gap-3",children:[C.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-app-accent to-blue-600 rounded-lg flex items-center justify-center shadow-lg shadow-app-accent/20",children:C.jsx(H_,{className:"text-white",size:20})}),C.jsx("div",{children:C.jsxs("h1",{className:"font-bold text-xl tracking-tight text-white",children:["Stats",C.jsx("span",{className:"text-app-accent",children:"Tracker"})]})})]}),C.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-1",children:[C.jsx(Yl,{icon:C.jsx(F_,{size:20}),label:"Dashboard",active:r==="dashboard"&&!i&&!o,onClick:()=>{e("dashboard"),s(null),u(null)}}),C.jsx(Yl,{icon:C.jsx(q_,{size:20}),label:"Matches",active:r==="matches"||!!i,onClick:()=>{e("matches"),s(null),u(null)}}),C.jsx(Yl,{icon:C.jsx(id,{size:20}),label:"Players",active:r==="players"||!!o,onClick:()=>{e("players"),s(null),u(null)}}),C.jsx(Yl,{icon:C.jsx(nc,{size:20}),label:"Team Builder",active:r==="teambuilder",onClick:()=>{e("teambuilder"),s(null),u(null)}}),C.jsx(Yl,{icon:C.jsx(nd,{size:20}),label:"Settings",active:r==="settings",onClick:()=>{e("settings"),s(null),u(null)}})]}),C.jsx("div",{className:"p-4 border-t border-zinc-800",children:C.jsxs("button",{className:"flex items-center gap-2 text-sm text-zinc-500 hover:text-white transition-colors w-full px-2 py-2 rounded-lg hover:bg-zinc-800",children:[C.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),"System Online"]})})]}),C.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-zinc-900 border-b border-zinc-800 z-20",children:[C.jsxs("div",{className:"font-bold text-xl tracking-tight text-white flex items-center gap-2",children:[C.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-app-accent to-blue-600 rounded-lg flex items-center justify-center",children:C.jsx(H_,{className:"text-white",size:20})}),"Stats",C.jsx("span",{className:"text-app-accent",children:"Tracker"})]}),C.jsxs("div",{className:"text-xs text-green-500 flex items-center gap-1",children:[C.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})," Online"]})]}),C.jsx("main",{className:"flex-1 overflow-auto bg-app-bg relative pb-0",children:m()}),C.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-zinc-900 border-t border-zinc-800 flex justify-around items-center p-2 z-50 pb-safe safe-area-bottom",children:[C.jsx(Ku,{icon:C.jsx(F_,{size:24}),label:"Home",active:r==="dashboard"&&!i&&!o,onClick:()=>{e("dashboard"),s(null),u(null)}}),C.jsx(Ku,{icon:C.jsx(q_,{size:24}),label:"Matches",active:r==="matches"||!!i,onClick:()=>{e("matches"),s(null),u(null)}}),C.jsx(Ku,{icon:C.jsx(nc,{size:24}),label:"Teams",active:r==="teambuilder",onClick:()=>{e("teambuilder"),s(null),u(null)}}),C.jsx(Ku,{icon:C.jsx(nd,{size:24}),label:"Settings",active:r==="settings",onClick:()=>{e("settings"),s(null),u(null)}})]})]})})})})},Yl=({icon:r,label:e,active:i,onClick:s})=>C.jsxs("button",{onClick:s,className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${i?"bg-app-accent text-white shadow-lg shadow-app-accent/20":"text-zinc-400 hover:bg-zinc-800 hover:text-white"}`,children:[C.jsx("div",{className:`${i?"text-white":"text-zinc-500 group-hover:text-white"}`,children:r}),C.jsx("span",{className:"font-medium",children:e})]}),Ku=({icon:r,label:e,active:i,onClick:s})=>C.jsxs("button",{onClick:s,className:`flex flex-col items-center justify-center p-2 w-full transition-colors ${i?"text-app-accent":"text-zinc-500"}`,children:[C.jsx("div",{className:"mb-1",children:r}),C.jsx("span",{className:"text-[10px] font-medium",children:e})]}),GS=({onViewMatch:r})=>{const{matches:e,loading:i,deleteMatch:s}=go(),{isAdmin:o}=um(),[u,f]=qt.useState(""),[m,p]=qt.useState("grid"),[g,b]=qt.useState("date"),[v,A]=qt.useState("desc"),x=(S,R)=>{const U=/(de_|cs_)\w+/,L=S.match(U);let Y=L?L[0]:"Unknown Map",K=new Date(R);const st=Qv(S);st&&(K=new Date(st));const D=String(K.getDate()).padStart(2,"0"),O=String(K.getMonth()+1).padStart(2,"0"),I=K.getFullYear(),P=String(K.getHours()).padStart(2,"0"),F=String(K.getMinutes()).padStart(2,"0");return{mapName:Y,date:`${D}.${O}.${I} ${P}:${F}`,timestamp:K.getTime()}},V=qt.useMemo(()=>{const S=u.toLowerCase();return e.map(R=>{const U=x(R.filename,R.timestamp),L=R.data.reduce((Y,K)=>Y+K.kills,0);return{...R,...U,totalKills:L,playerCount:R.data.length}}).filter(R=>R.mapName.toLowerCase().includes(S)||R.date.includes(S)||R.filename.toLowerCase().includes(S)).sort((R,U)=>g==="date"?v==="asc"?R.timestamp-U.timestamp:U.timestamp-R.timestamp:g==="map"?v==="asc"?R.mapName.localeCompare(U.mapName):U.mapName.localeCompare(R.mapName):g==="players"?v==="asc"?R.playerCount-U.playerCount:U.playerCount-R.playerCount:g==="kills"?v==="asc"?R.totalKills-U.totalKills:U.totalKills-R.totalKills:0)},[e,u,g,v]),E=qt.useMemo(()=>{const S={};V.forEach(U=>{S[U.mapName]=(S[U.mapName]||0)+1});const R=["#38bdf8","#818cf8","#a78bfa","#c084fc","#f472b6","#fb7185","#34d399","#facc15","#60a5fa","#4ade80"];return Object.entries(S).sort((U,L)=>L[1]-U[1]).map(([U,L],Y)=>({label:U,value:L,color:R[Y%R.length]}))},[V]);return i?C.jsx("div",{className:"flex h-64 items-center justify-center",children:C.jsx(s0,{className:"animate-spin text-app-accent w-8 h-8"})}):C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center bg-app-card/50 p-2 rounded-xl border border-app-cardHover",children:[C.jsxs("div",{className:"relative w-full md:max-w-md group",children:[C.jsx(ec,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500 group-focus-within:text-app-accent transition-colors"}),C.jsx("input",{type:"text",placeholder:"Search matches...",className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg pl-10 pr-4 py-2 text-sm focus:outline-none focus:border-app-accent/50 focus:bg-zinc-950 transition-all placeholder-zinc-600 text-white",value:u,onChange:S=>f(S.target.value)})]}),C.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-between md:justify-end",children:[C.jsxs("div",{className:"flex items-center gap-1 bg-zinc-900 p-1 rounded-lg border border-zinc-800",children:[C.jsxs("select",{value:g,onChange:S=>b(S.target.value),className:"bg-transparent text-sm text-zinc-300 focus:outline-none p-1.5 cursor-pointer hover:text-white",children:[C.jsx("option",{value:"date",children:"Date"}),C.jsx("option",{value:"map",children:"Map"}),C.jsx("option",{value:"players",children:"Players"}),C.jsx("option",{value:"kills",children:"Total Kills"})]}),C.jsx("button",{onClick:()=>A(S=>S==="asc"?"desc":"asc"),className:"p-1.5 text-zinc-500 hover:text-white hover:bg-zinc-800 rounded transition-colors",title:v==="asc"?"Ascending":"Descending",children:v==="asc"?C.jsx(Y2,{size:16}):C.jsx(F2,{size:16})})]}),C.jsxs("div",{className:"flex bg-zinc-900 p-1 rounded-lg border border-zinc-800",children:[C.jsx("button",{onClick:()=>p("grid"),className:`p-2 rounded-md transition-all ${m==="grid"?"bg-app-card shadow-lg text-app-accent":"text-zinc-500 hover:text-white hover:bg-zinc-800"}`,title:"Grid View",children:C.jsx(rb,{size:18})}),C.jsx("button",{onClick:()=>p("list"),className:`p-2 rounded-md transition-all ${m==="list"?"bg-app-card shadow-lg text-app-accent":"text-zinc-500 hover:text-white hover:bg-zinc-800"}`,title:"List View",children:C.jsx(a0,{size:18})}),C.jsx("button",{onClick:()=>p("chart"),className:`p-2 rounded-md transition-all ${m==="chart"?"bg-app-card shadow-lg text-app-accent":"text-zinc-500 hover:text-white hover:bg-zinc-800"}`,title:"Map Distribution",children:C.jsx(X2,{size:18})})]})]})]}),V.length===0&&C.jsxs("div",{className:"text-center py-12 text-app-textMuted flex flex-col items-center",children:[C.jsx(ec,{className:"w-12 h-12 mb-4 opacity-20"}),C.jsxs("p",{children:['No matches found matching "',u,'"']})]}),m==="chart"?C.jsxs("div",{className:"bg-app-card border border-app-cardHover rounded-xl p-6 shadow-lg",children:[C.jsx("h3",{className:"font-bold text-lg text-white mb-2 text-center",children:"Map Distribution"}),C.jsx(BS,{data:E})]}):m==="grid"?C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:V.map(S=>C.jsxs("div",{className:"bg-app-card border border-app-cardHover rounded-xl p-5 hover:border-app-accent transition-all cursor-pointer group relative shadow-lg overflow-hidden animate-fade-in",onClick:()=>r(S),children:[C.jsxs("div",{className:"flex justify-between items-start mb-6",children:[C.jsx("div",{className:"text-app-accent",children:C.jsx(td,{size:20})}),C.jsx("div",{className:"text-right",children:C.jsx("span",{className:"text-[10px] font-mono text-zinc-500 block uppercase tracking-wide",children:S.date})})]}),C.jsx("h3",{className:"font-bold text-lg text-white mb-6 truncate",children:S.mapName}),C.jsxs("div",{className:"flex items-center gap-6 text-xs text-zinc-500 font-mono mt-auto",children:[C.jsxs("div",{className:"flex items-center gap-1.5",children:[C.jsx(id,{size:12})," ",S.playerCount," Players"]}),C.jsxs("div",{className:"flex items-center gap-1.5",children:[C.jsx(Wf,{size:12})," ",S.totalKills," Kills"]})]}),o&&C.jsx("button",{onClick:R=>{R.stopPropagation(),s(S.id)},className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 p-2 text-zinc-500 hover:text-red-500 hover:bg-zinc-800 rounded transition-all",children:C.jsx(ed,{size:16})})]},S.id))}):C.jsx("div",{className:"flex flex-col gap-3",children:V.map(S=>C.jsxs("div",{onClick:()=>r(S),className:"group flex items-center justify-between p-4 bg-app-card border border-app-cardHover rounded-xl hover:border-app-accent cursor-pointer transition-all animate-fade-in",children:[C.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[C.jsx("div",{className:"w-10 h-10 rounded-lg bg-zinc-900 flex items-center justify-center text-app-accent flex-shrink-0 border border-zinc-800",children:C.jsx(td,{size:20})}),C.jsxs("div",{className:"min-w-0",children:[C.jsx("h4",{className:"font-bold text-white truncate",children:S.mapName}),C.jsx("div",{className:"text-xs text-zinc-500 font-mono",children:S.date})]})]}),C.jsxs("div",{className:"flex items-center gap-8 text-sm text-zinc-400 font-mono flex-shrink-0 ml-4 hidden md:flex",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(id,{size:14})," ",S.playerCount," Players"]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Wf,{size:14})," ",S.totalKills," Kills"]})]}),o&&C.jsx("button",{onClick:R=>{R.stopPropagation(),s(S.id)},className:"ml-4 p-2 text-zinc-500 hover:text-red-500 hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100 transition-all",children:C.jsx(ed,{size:16})})]},S.id))})]})},QS=M2.createRoot(document.getElementById("root"));QS.render(C.jsx(FS,{}));
